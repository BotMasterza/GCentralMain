import{A as se}from"./AuthService.10b9bc61.js";import{u as ne,a as P,b as V,c as oe,d as ie}from"./_app.41131035.js";import{c as x,i as S,a as k}from"./createSvgIcon.50054fae.js";import{r,u as W,R as t}from"./vendor.2a83d1c9.js";import{u as ce,g as de,a as le,d as ue,b as fe,A as q}from"./index.5d0f9e48.js";import{F as O,a as M}from"./FeedService.c397da2d.js";import{c as A,A as B}from"./capitalize.75c82fb0.js";import{G as C}from"./Grid.d12fda45.js";import{C as G,a as me}from"./CardContent.e5a5f754.js";import{C as U}from"./CardMedia.147ece6d.js";import{B as y}from"./Button.11e5af54.js";import"./upload.d8a16837.js";import{s as pe}from"./index.module.d63a8143.js";import{d as ve}from"./Close.a6b828d0.js";import{T as _e}from"./TextField.bc1d9226.js";import"./index.b1c16674.js";import"./Paper.678a179e.js";import"./useControlled.91b72ab4.js";import"./Typography.a1510182.js";import"./makeStyles.39fa1a38.js";import"./InputLabel.ed2935ea.js";import"./Modal.22c32aef.js";import"./List.0dd6030d.js";var T={},he=S.exports,ge=k.exports;Object.defineProperty(T,"__esModule",{value:!0});var J=T.default=void 0,Ee=ge(r.exports),Fe=he(x),we=(0,Fe.default)(Ee.createElement("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"}),"Apps");J=T.default=we;var N={},xe=S.exports,Se=k.exports;Object.defineProperty(N,"__esModule",{value:!0});var X=N.default=void 0,ke=Se(r.exports),Ce=xe(x),$e=(0,Ce.default)(ke.createElement("path",{d:"M20 13H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zm0-10H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1z"}),"ViewAgenda");X=N.default=$e;var j={},ye=S.exports,Ie=k.exports;Object.defineProperty(j,"__esModule",{value:!0});var Q=j.default=void 0,Re=Ie(r.exports),Me=ye(x),be=(0,Me.default)(Re.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}),"RemoveCircleOutlined");Q=j.default=be;var H={},Ae=S.exports,Be=k.exports;Object.defineProperty(H,"__esModule",{value:!0});var K=H.default=void 0,Te=Be(r.exports),Ne=Ae(x),je=(0,Ne.default)(Te.createElement("path",{d:"M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z"}),"MovieCreation");K=H.default=je;var D={},He=S.exports,De=k.exports;Object.defineProperty(D,"__esModule",{value:!0});var Y=D.default=void 0,ze=De(r.exports),Le=He(x),Pe=(0,Le.default)(ze.createElement("path",{d:"M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z"}),"Audiotrack");Y=D.default=Pe;var z={},Ve=S.exports,We=k.exports;Object.defineProperty(z,"__esModule",{value:!0});var Z=z.default=void 0,qe=We(r.exports),Oe=Ve(x),Ge=(0,Oe.default)(qe.createElement("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z"}),"PictureAsPdf");Z=z.default=Ge;const Ue="_feedContainer_wf94p_1",Je="_gridItem_wf94p_4",Xe="_addButton_wf94p_7",Qe="_removeButton_wf94p_10",Ke="_gridItemDelete_wf94p_13",Ye="_creatorItem_wf94p_16",Ze="_list_wf94p_21",et="_imageWrapper_wf94p_48",tt="_image_wf94p_48",at="_imageList_wf94p_61",rt="_descr_wf94p_64",st="_mediaPreviewIcon_wf94p_71";var v={feedContainer:Ue,gridItem:Je,addButton:Xe,removeButton:Qe,gridItemDelete:Ke,creatorItem:Ye,list:Ze,imageWrapper:et,image:tt,imageList:at,descr:rt,mediaPreviewIcon:st};const ee={feedFiresRetrieved:e=>({type:"FEED_FIRES_RETRIEVED",feedFires:e}),fetchingFeedFires:()=>({type:"FEED_FIRES_FETCH"})},te={getFeedFires:e=>async(n,o)=>{try{n(ee.fetchingFeedFires());const a=await A.service("feed-fires").find({query:{feedId:e}});n(ee.feedFiresRetrieved(a.data))}catch(a){console.log(a),B.dispatchAlertError(n,a.message)}},addFireToFeed:e=>async n=>{try{await A.service("feed-fires").create({feedId:e}),n(O.addFeedFire(e))}catch(o){console.log(o),B.dispatchAlertError(n,o.message)}},removeFireToFeed:e=>async n=>{try{await A.service("feed-fires").remove(e),n(O.removeFeedFire(e))}catch(o){console.log(o),B.dispatchAlertError(n,o.message)}}};function nt(e,n={}){const o=ce(),a=typeof window!="undefined"&&typeof window.matchMedia!="undefined",{defaultMatches:u=!1,matchMedia:d=a?window.matchMedia:null,noSsr:h=!1,ssrMatchMedia:c=null}=de({name:"MuiUseMediaQuery",props:n,theme:o});let f=typeof e=="function"?e(o):e;f=f.replace(/^@media( ?)/m,"");const[g,w]=r.exports.useState(()=>h&&a?d(f).matches:c?c(f).matches:u);return le(()=>{let F=!0;if(!a)return;const E=d(f),p=()=>{F&&w(E.matches)};return p(),E.addListener(p),()=>{F=!1,E.removeListener(p)}},[f,d,a]),g}const ot={grid:{xs:12,lg:6,xl:4},list:{xs:12,lg:12,xl:12}},it=(e,n={})=>{switch(fe(e||"image")){case"video":return t.createElement(K,{...n});case"audio":return t.createElement(Y,{...n});case"pdf":return t.createElement(Z,{...n});default:return null}},ae=({type:e,creatorId:n,viewType:o,isFeatured:a,setIsFeatured:u})=>{const[d,h]=r.exports.useState([]),[c,f]=r.exports.useState(new Set),[g,w]=r.exports.useState(new Set);W();const F=ne(),E=P(),p=V(),i=JSON.stringify([...c]),s=oe();r.exports.useEffect(()=>{if(e==="creator"||e==="bookmark"||e==="myFeatured"||e==="fired")p(M.getFeeds(e,n));else{const l=async()=>{await p(M.getFeeds("featured")),e!=="fired"&&p(M.getFeeds("fired",n))};(E.authUser?.identityProvider?.type?.value??"guest")!=="guest"?l():p(M.getFeeds("featuredGuest"))}e!=="fired"&&f(new Set)},[e,n,s.feeds.feedsFetching.value,i]),r.exports.useEffect(()=>(e==="featured"||!e)&&s.feeds.feedsFetching.value===!1&&h(s.feeds.feedsFeatured.value),[s.feeds.feedsFetching.value,s.feeds.feedsFeatured.value]),r.exports.useEffect(()=>(e==="featured"||!e)&&s.feeds.feedsFeaturedFetching.value===!1&&h(s.feeds.feedsFeatured.value),[s.feeds.feedsFeaturedFetching.value,s.feeds.feedsFeatured.value]),r.exports.useEffect(()=>e==="creator"&&s.feeds.feedsCreatorFetching.value===!1&&h(s.feeds.feedsCreator.value),[s.feeds.feedsCreatorFetching.value,s.feeds.feedsCreator.value]),r.exports.useEffect(()=>e==="fired"&&s.feeds.feedsFiredFetching.value===!1&&h(s.feeds.feedsFired.value),[s.feeds.feedsFiredFetching.value,s.feeds.feedsFired.value]);const $=JSON.stringify(s.feeds.feedsFired.value);r.exports.useEffect(()=>{typeof u=="function"&&u(!!s.feeds.feedsFired.value?.length)},[s.feeds.feedsFetching.value,$]);const I=l=>{g.has(l)||(w(new Set([...g,l])),c.delete(l),f(new Set([...c])),p(te.addFireToFeed(l)),u(!0))},b=l=>{p(te.removeFireToFeed(l));let R=new Set([...c,l]);f(R),g.delete(l),w(new Set([...g]))};return t.createElement("section",{className:v.feedContainer},t.createElement(C,{container:!0,spacing:3,style:{marginTop:30}},d&&d.length>0?d.map((l,R)=>t.createElement(C,{item:!0,...ot[o],key:R,className:e==="fired"&&c.has(l.id)?v.gridItemDelete:v.gridItem},e?t.createElement(Q,{onClick:()=>b(l.id),className:v.removeButton}):t.createElement(ue,{className:v.addButton,onClick:()=>I(l.id)}),t.createElement(G,{className:v.creatorItem+" "+(o==="list"?v.list:""),elevation:0,key:R},t.createElement("div",{className:v.imageWrapper+" "+(o==="list"?v.imageList:"")},it(l.previewType,{className:`${v.image} ${v.mediaPreviewIcon}`,onClick:()=>{F.push("/post?postId="+l.id)}})||t.createElement(U,{component:"img",className:v.image,image:l.previewUrl,onClick:()=>{F.push("/post?postId="+l.id)}})),t.createElement(me,{style:{textAlign:"center"}},t.createElement("span",{className:v.descr},l.title))))):""))},ct="_feedMenuContainer_129kp_1",dt="_switcher_129kp_7",lt="_viewSwitcher_129kp_7",ut="_switchButton_129kp_18",ft="_viewSwitchButton_129kp_18",mt="_active_129kp_27",pt="_viewActive_129kp_27",vt="_subWrapper_129kp_38",_t="_feedMenu_129kp_1",ht="_featuredButton_129kp_85",gt="_creatorsButton_129kp_88",Et="_thefeedButton_129kp_91",Ft="_disabled_129kp_94",wt="_content_129kp_99";var m={feedMenuContainer:ct,switcher:dt,viewSwitcher:lt,switchButton:ut,viewSwitchButton:ft,active:mt,viewActive:pt,subWrapper:vt,feedMenu:_t,featuredButton:ht,creatorsButton:gt,thefeedButton:Et,disabled:Ft,content:wt};const xt=()=>{const e=r.exports.useRef(),n=r.exports.useRef(),o=r.exports.useRef();W();const[a,u]=r.exports.useState("all"),[d,h]=r.exports.useState("grid"),[c,f]=r.exports.useState(!1),g=nt("(max-width:1279px)");r.exports.useEffect(()=>{a!=="all"&&!c&&u("all")},[a,c]),r.exports.useEffect(()=>{g&&h("list")},[g]);const w=40,F=i=>{u(i);let s=0;switch(i){case"all":s=o.current.offsetLeft-w;break;default:s=0;break}e.current.scrollTo({left:s,behavior:"smooth"})};let E=null;switch(a){case"all":E=t.createElement(ae,{viewType:d,setIsFeatured:f,isFeatured:c});break;default:E=t.createElement(ae,{type:"fired",viewType:d,setIsFeatured:f,isFeatured:c});break}m.featuredButton,a==="featured"&&m.active,m.creatorsButton,a==="all"&&m.active;const p=i=>{switch(i){case"grid":h("grid");break;case"list":h("list");break}};return t.createElement(t.Fragment,null,t.createElement("nav",{className:m.feedMenuContainer},t.createElement(C,{container:!0},t.createElement(C,{item:!0,xs:!0},t.createElement("section",{className:m.switcher,ref:e},t.createElement(y,{variant:a==="featured"?"contained":"text",ref:n,className:m.switchButton+(a==="featured"?" "+m.active:"")+(a==="all"&&!c?" "+m.disabled:""),disabled:a==="all"&&!c,onClick:()=>{F("featured")}},"Featured"),t.createElement(y,{variant:a==="all"?"contained":"text",ref:o,className:m.switchButton+(a==="all"?" "+m.active:""),onClick:()=>{F("all")}},"All"))),t.createElement("section",{className:m.viewSwitcher,style:g?{display:"none"}:{}},t.createElement(y,{variant:d==="grid"?"contained":"text",className:m.viewSwitchButton+(d==="grid"?" "+m.viewActive:""),onClick:()=>p("grid")},t.createElement(J,null)),t.createElement(y,{variant:d==="list"?"contained":"text",className:m.viewSwitchButton+(d==="list"?" "+m.viewActive:""),onClick:()=>p("list")},t.createElement(X,null))),t.createElement(C,{item:!0}))),t.createElement("section",{className:m.content},E))},St="_viewport_24mkt_1",kt="_feedContainer_24mkt_9",Ct="_gridItem_24mkt_12",$t="_addButton_24mkt_15",yt="_removeButton_24mkt_18",It="_gridItemDelete_24mkt_21",Rt="_creatorItem_24mkt_24",Mt="_list_24mkt_29",bt="_imageWrapper_24mkt_56",At="_image_24mkt_56",Bt="_removeItem_24mkt_70",Tt="_imageList_24mkt_73",Nt="_descr_24mkt_76",jt="_input_24mkt_83",Ht="_close_24mkt_100",Dt="_publish_24mkt_108",zt="_addIcon_24mkt_121",Lt="_addText_24mkt_127",Pt="_content_24mkt_131",Vt="_addFilesButton_24mkt_140";var _={viewport:St,feedContainer:kt,gridItem:Ct,addButton:$t,removeButton:yt,gridItemDelete:It,creatorItem:Rt,list:Mt,imageWrapper:bt,image:At,removeItem:Bt,imageList:Tt,descr:Nt,input:jt,close:Ht,publish:Dt,addIcon:zt,addText:Lt,content:Pt,addFilesButton:Vt},L={},Wt=S.exports,qt=k.exports;Object.defineProperty(L,"__esModule",{value:!0});var re=L.default=void 0,Ot=qt(r.exports),Gt=Wt(x),Ut=(0,Gt.default)(Ot.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");re=L.default=Ut;const Jt=new Map,Xt=(e,n)=>{const{name:o,value:a}=n.payload;switch(n.type){case"CHANGE_TEXT":return e.set(o,a),new Map(e.entries());case"DELETE_ITEM":return e.delete(o),new Map(e.entries());default:return e}},Qt=e=>{e=e.trim();let[n,o]=e.split(`
`),a={title:n,description:e.length>80?e:""};n.length<80&&!!o&&(a.description=o);let u=-1;for(;(u=a.title.lastIndexOf(" "))!==-1&&!(a.title.length<=80);)a.title=a.title.slice(0,u);return a},Kt=({filesTarget:e,setAddFilesView:n,setFilesTarget:o})=>{r.exports.useState("");const[a,u]=r.exports.useReducer(Xt,Jt),[d,h]=r.exports.useState("");r.exports.useState(null),r.exports.useState(null);const c=r.exports.useRef(null),f=(i,s)=>{u({type:"CHANGE_TEXT",payload:{name:s,value:i.target.value}})},g=JSON.stringify(e);r.exports.useEffect(()=>{e?.forEach(i=>{a.has(i)||u({type:"CHANGE_TEXT",payload:{name:i,value:i.name.substring(0,i.name.lastIndexOf("."))}})})},[g]);const w=()=>{[...e].forEach((i,s)=>{const{title:$,description:I}=Qt(a.get(i)||d);console.group("Title and description"),console.groupEnd();const b={title:$,description:I,preview:i,video:i};u(M.createFeed(b))}),n(!1)},F=i=>{const s=e.filter(($,I)=>I!==i);u({type:"DELETE_ITEM",payload:`description-${i}`}),o([...s])},E=()=>{c?.current.click()},p=i=>{o([...e,...i])};return t.createElement("section",{className:_.viewport},t.createElement(q,{title:"CREATOR",hideAddButtons:!0,inputFileRef:c,setFilesTarget:p}),t.createElement(y,{className:_.addFilesButton,onClick:E},"ADD FILES:"),t.createElement("section",{className:_.content},t.createElement("section",{className:_.feedContainer},t.createElement(C,{container:!0,spacing:3,style:{marginTop:30}},e?e.map((i,s)=>t.createElement(C,{item:!0,xs:12,lg:6,xl:4,key:s,className:_.gridItem},t.createElement(G,{className:_.creatorItem,elevation:0,key:s},t.createElement("div",{className:_.imageWrapper},t.createElement(U,{component:`${i.type.startsWith("video")?"video":"img"}`,className:_.image,image:URL.createObjectURL(i),controls:!0}),t.createElement("span",{className:_.removeItem,onClick:()=>F(s)},t.createElement(ve,{className:_.close}))),t.createElement("div",{style:{padding:"0 30px 30px",margin:"25px 0"}},t.createElement(_e,{autoFocus:!0,inputProps:{style:{fontSize:"17pt",fontFamily:"Jost, sans-serif",fontStyle:"italic",color:"#9b9b9b",backgroundColor:"#fff"}},style:{backgroundColor:"#fff"},margin:"dense",id:`description-${s}`,label:"Add description",variant:"outlined",fullWidth:!0,multiline:!0,value:a.get(i),onChange:$=>f($,i)}))))):""),t.createElement(y,{className:_.publish,onClick:w},t.createElement("div",null,t.createElement(re,{className:_.addIcon})),t.createElement("div",{className:_.addText},"Publish")))))},wa=()=>{const e=V(),n=P(),[o,a]=r.exports.useState(!1),[u,d]=r.exports.useState([]);r.exports.useEffect(()=>{const f=n.user;f&&f.id.value},[n.isLoggedIn.value,n.user.id.value]),r.exports.useEffect(()=>{e(se.doLoginAuto(!0))},[]);const c=ie().creators.currentCreator.value;return t.createElement("div",{className:pe.viewport},!o&&t.createElement(q,{title:"CREATOR",setAddFilesView:a,setFilesTarget:d}),c&&!o&&t.createElement(xt,null),o&&t.createElement(Kt,{filesTarget:u,setAddFilesView:a,setFilesTarget:d}))};export{wa as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguYzE1MDMwYTEuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvaWNvbnMvQXBwcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvaWNvbnMvVmlld0FnZW5kYS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvaWNvbnMvUmVtb3ZlQ2lyY2xlT3V0bGluZWQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2ljb25zL01vdmllQ3JlYXRpb24uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2ljb25zL0F1ZGlvdHJhY2suanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL2ljb25zL1BpY3R1cmVBc1BkZi5qcyIsIi4uLy4uL3NyYy9yZWR1Y2Vycy9mZWVkRmlyZXMvRmVlZEZpcmVzQWN0aW9ucy50cyIsIi4uLy4uL3NyYy9yZWR1Y2Vycy9mZWVkRmlyZXMvRmVlZEZpcmVzU2VydmljZS50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbXVpL21hdGVyaWFsL3VzZU1lZGlhUXVlcnkvdXNlTWVkaWFRdWVyeS5qcyIsIi4uLy4uL3NyYy9jb21wb25lbnRzL0ZlYXR1cmVkL2luZGV4LnRzeCIsIi4uLy4uL3NyYy9jb21wb25lbnRzL0ZlZWRNZW51L2luZGV4LnRzeCIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvaWNvbnMvQWRkLmpzIiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvQWRkRmlsZXNGb3JtL2luZGV4LnRzeCIsIi4uLy4uL3NyYy9wYWdlcy9pbmRleC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX2NyZWF0ZVN2Z0ljb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3V0aWxzL2NyZWF0ZVN2Z0ljb25cIikpO1xuXG52YXIgX2RlZmF1bHQgPSAoMCwgX2NyZWF0ZVN2Z0ljb24uZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gIGQ6IFwiTTQgOGg0VjRINHY0em02IDEyaDR2LTRoLTR2NHptLTYgMGg0di00SDR2NHptMC02aDR2LTRINHY0em02IDBoNHYtNGgtNHY0em02LTEwdjRoNFY0aC00em0tNiA0aDRWNGgtNHY0em02IDZoNHYtNGgtNHY0em0wIDZoNHYtNGgtNHY0elwiXG59KSwgJ0FwcHMnKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX2NyZWF0ZVN2Z0ljb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3V0aWxzL2NyZWF0ZVN2Z0ljb25cIikpO1xuXG52YXIgX2RlZmF1bHQgPSAoMCwgX2NyZWF0ZVN2Z0ljb24uZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gIGQ6IFwiTTIwIDEzSDNjLS41NSAwLTEgLjQ1LTEgMXY2YzAgLjU1LjQ1IDEgMSAxaDE3Yy41NSAwIDEtLjQ1IDEtMXYtNmMwLS41NS0uNDUtMS0xLTF6bTAtMTBIM2MtLjU1IDAtMSAuNDUtMSAxdjZjMCAuNTUuNDUgMSAxIDFoMTdjLjU1IDAgMS0uNDUgMS0xVjRjMC0uNTUtLjQ1LTEtMS0xelwiXG59KSwgJ1ZpZXdBZ2VuZGEnKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX2NyZWF0ZVN2Z0ljb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3V0aWxzL2NyZWF0ZVN2Z0ljb25cIikpO1xuXG52YXIgX2RlZmF1bHQgPSAoMCwgX2NyZWF0ZVN2Z0ljb24uZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gIGQ6IFwiTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTUgMTFIN3YtMmgxMHYyelwiXG59KSwgJ1JlbW92ZUNpcmNsZU91dGxpbmVkJyk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdFwiKTtcblxudmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVXaWxkY2FyZFwiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIFJlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9jcmVhdGVTdmdJY29uID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi91dGlscy9jcmVhdGVTdmdJY29uXCIpKTtcblxudmFyIF9kZWZhdWx0ID0gKDAsIF9jcmVhdGVTdmdJY29uLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICBkOiBcIk0xOCA0bDIgNGgtM2wtMi00aC0ybDIgNGgtM2wtMi00SDhsMiA0SDdMNSA0SDRjLTEuMSAwLTEuOTkuOS0xLjk5IDJMMiAxOGMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjRoLTR6XCJcbn0pLCAnTW92aWVDcmVhdGlvbicpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlV2lsZGNhcmRcIik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBSZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfY3JlYXRlU3ZnSWNvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdXRpbHMvY3JlYXRlU3ZnSWNvblwiKSk7XG5cbnZhciBfZGVmYXVsdCA9ICgwLCBfY3JlYXRlU3ZnSWNvbi5kZWZhdWx0KSggLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgZDogXCJNMTIgM3Y5LjI4Yy0uNDctLjE3LS45Ny0uMjgtMS41LS4yOEM4LjAxIDEyIDYgMTQuMDEgNiAxNi41UzguMDEgMjEgMTAuNSAyMWMyLjMxIDAgNC4yLTEuNzUgNC40NS00SDE1VjZoNFYzaC03elwiXG59KSwgJ0F1ZGlvdHJhY2snKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX2NyZWF0ZVN2Z0ljb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3V0aWxzL2NyZWF0ZVN2Z0ljb25cIikpO1xuXG52YXIgX2RlZmF1bHQgPSAoMCwgX2NyZWF0ZVN2Z0ljb24uZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gIGQ6IFwiTTIwIDJIOGMtMS4xIDAtMiAuOS0yIDJ2MTJjMCAxLjEuOSAyIDIgMmgxMmMxLjEgMCAyLS45IDItMlY0YzAtMS4xLS45LTItMi0yem0tOC41IDcuNWMwIC44My0uNjcgMS41LTEuNSAxLjVIOXYySDcuNVY3SDEwYy44MyAwIDEuNS42NyAxLjUgMS41djF6bTUgMmMwIC44My0uNjcgMS41LTEuNSAxLjVoLTIuNVY3SDE1Yy44MyAwIDEuNS42NyAxLjUgMS41djN6bTQtM0gxOXYxaDEuNVYxMUgxOXYyaC0xLjVWN2gzdjEuNXpNOSA5LjVoMXYtMUg5djF6TTQgNkgydjE0YzAgMS4xLjkgMiAyIDJoMTR2LTJINFY2em0xMCA1LjVoMXYtM2gtMXYzelwiXG59KSwgJ1BpY3R1cmVBc1BkZicpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCIvKipcbiAqIEBhdXRob3IgVGFueWEgVnlrbGl1ayA8dGFueWEudnlrbGl1a0BnbWFpbC5jb20+XG4gKi9cbmltcG9ydCB7IENyZWF0b3JTaG9ydCB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2ludGVyZmFjZXMvQ3JlYXRvcidcblxuZXhwb3J0IGNvbnN0IEZlZWRGaXJlc0FjdGlvbiA9IHtcbiAgZmVlZEZpcmVzUmV0cmlldmVkOiAoZmVlZEZpcmVzOiBDcmVhdG9yU2hvcnRbXSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnRkVFRF9GSVJFU19SRVRSSUVWRUQnIGFzIGNvbnN0LFxuICAgICAgZmVlZEZpcmVzOiBmZWVkRmlyZXNcbiAgICB9XG4gIH0sXG4gIGZldGNoaW5nRmVlZEZpcmVzOiAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdGRUVEX0ZJUkVTX0ZFVENIJyBhcyBjb25zdFxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgdHlwZSBGZWVkRmlyZXNBY3Rpb25UeXBlID0gUmV0dXJuVHlwZTx0eXBlb2YgRmVlZEZpcmVzQWN0aW9uW2tleW9mIHR5cGVvZiBGZWVkRmlyZXNBY3Rpb25dPlxuIiwiLyoqXG4gKiBAYXV0aG9yIFRhbnlhIFZ5a2xpdWsgPHRhbnlhLnZ5a2xpdWtAZ21haWwuY29tPlxuICovXG5pbXBvcnQgeyBEaXNwYXRjaCB9IGZyb20gJ3JlZHV4J1xuaW1wb3J0IHsgQWxlcnRTZXJ2aWNlIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9jb21tb24vcmVkdWNlcnMvYWxlcnQvQWxlcnRTZXJ2aWNlJ1xuaW1wb3J0IHsgY2xpZW50IH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9mZWF0aGVycydcbmltcG9ydCB7IEZlZWRGaXJlc0FjdGlvbiB9IGZyb20gJy4vRmVlZEZpcmVzQWN0aW9ucydcbmltcG9ydCB7IEZlZWRBY3Rpb24gfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9mZWVkL0ZlZWRBY3Rpb25zJ1xuXG5leHBvcnQgY29uc3QgRmVlZEZpcmVzU2VydmljZSA9IHtcbiAgZ2V0RmVlZEZpcmVzOiAoZmVlZElkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaCwgZ2V0U3RhdGU6IGFueSk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBkaXNwYXRjaChGZWVkRmlyZXNBY3Rpb24uZmV0Y2hpbmdGZWVkRmlyZXMoKSlcbiAgICAgICAgY29uc3QgZmVlZHNSZXN1bHRzID0gYXdhaXQgY2xpZW50LnNlcnZpY2UoJ2ZlZWQtZmlyZXMnKS5maW5kKHsgcXVlcnk6IHsgZmVlZElkOiBmZWVkSWQgfSB9KVxuICAgICAgICBkaXNwYXRjaChGZWVkRmlyZXNBY3Rpb24uZmVlZEZpcmVzUmV0cmlldmVkKGZlZWRzUmVzdWx0cy5kYXRhKSlcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgIEFsZXJ0U2VydmljZS5kaXNwYXRjaEFsZXJ0RXJyb3IoZGlzcGF0Y2gsIGVyci5tZXNzYWdlKVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgYWRkRmlyZVRvRmVlZDogKGZlZWRJZDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaDogRGlzcGF0Y2gpOiBQcm9taXNlPGFueT4gPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgY2xpZW50LnNlcnZpY2UoJ2ZlZWQtZmlyZXMnKS5jcmVhdGUoeyBmZWVkSWQgfSlcbiAgICAgICAgZGlzcGF0Y2goRmVlZEFjdGlvbi5hZGRGZWVkRmlyZShmZWVkSWQpKVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgQWxlcnRTZXJ2aWNlLmRpc3BhdGNoQWxlcnRFcnJvcihkaXNwYXRjaCwgZXJyLm1lc3NhZ2UpXG4gICAgICB9XG4gICAgfVxuICB9LFxuICByZW1vdmVGaXJlVG9GZWVkOiAoZmVlZElkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoOiBEaXNwYXRjaCk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBjbGllbnQuc2VydmljZSgnZmVlZC1maXJlcycpLnJlbW92ZShmZWVkSWQpXG4gICAgICAgIGRpc3BhdGNoKEZlZWRBY3Rpb24ucmVtb3ZlRmVlZEZpcmUoZmVlZElkKSlcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgIEFsZXJ0U2VydmljZS5kaXNwYXRjaEFsZXJ0RXJyb3IoZGlzcGF0Y2gsIGVyci5tZXNzYWdlKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZ2V0VGhlbWVQcm9wcywgdXNlVGhlbWVXaXRob3V0RGVmYXVsdCBhcyB1c2VUaGVtZSB9IGZyb20gJ0BtdWkvc3lzdGVtJztcbmltcG9ydCB1c2VFbmhhbmNlZEVmZmVjdCBmcm9tICcuLi91dGlscy91c2VFbmhhbmNlZEVmZmVjdCc7XG4vKipcbiAqIEBkZXByZWNhdGVkIE5vdCB1c2VkIGludGVybmFsbHkuIFVzZSBgTWVkaWFRdWVyeUxpc3RFdmVudGAgZnJvbSBsaWIuZG9tLmQudHMgaW5zdGVhZC5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VNZWRpYVF1ZXJ5KHF1ZXJ5SW5wdXQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKCk7IC8vIFdhaXQgZm9yIGpzZG9tIHRvIHN1cHBvcnQgdGhlIG1hdGNoIG1lZGlhIGZlYXR1cmUuXG4gIC8vIEFsbCB0aGUgYnJvd3NlcnMgTVVJIHN1cHBvcnQgaGF2ZSB0aGlzIGJ1aWx0LWluLlxuICAvLyBUaGlzIGRlZmVuc2l2ZSBjaGVjayBpcyBoZXJlIGZvciBzaW1wbGljaXR5LlxuICAvLyBNb3N0IG9mIHRoZSB0aW1lLCB0aGUgbWF0Y2ggbWVkaWEgbG9naWMgaXNuJ3QgY2VudHJhbCB0byBwZW9wbGUgdGVzdHMuXG5cbiAgY29uc3Qgc3VwcG9ydE1hdGNoTWVkaWEgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93Lm1hdGNoTWVkaWEgIT09ICd1bmRlZmluZWQnO1xuICBjb25zdCB7XG4gICAgZGVmYXVsdE1hdGNoZXMgPSBmYWxzZSxcbiAgICBtYXRjaE1lZGlhID0gc3VwcG9ydE1hdGNoTWVkaWEgPyB3aW5kb3cubWF0Y2hNZWRpYSA6IG51bGwsXG4gICAgbm9Tc3IgPSBmYWxzZSxcbiAgICBzc3JNYXRjaE1lZGlhID0gbnVsbFxuICB9ID0gZ2V0VGhlbWVQcm9wcyh7XG4gICAgbmFtZTogJ011aVVzZU1lZGlhUXVlcnknLFxuICAgIHByb3BzOiBvcHRpb25zLFxuICAgIHRoZW1lXG4gIH0pO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKHR5cGVvZiBxdWVyeUlucHV0ID09PSAnZnVuY3Rpb24nICYmIHRoZW1lID09PSBudWxsKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFsnTVVJOiBUaGUgYHF1ZXJ5YCBhcmd1bWVudCBwcm92aWRlZCBpcyBpbnZhbGlkLicsICdZb3UgYXJlIHByb3ZpZGluZyBhIGZ1bmN0aW9uIHdpdGhvdXQgYSB0aGVtZSBpbiB0aGUgY29udGV4dC4nLCAnT25lIG9mIHRoZSBwYXJlbnQgZWxlbWVudHMgbmVlZHMgdG8gdXNlIGEgVGhlbWVQcm92aWRlci4nXS5qb2luKCdcXG4nKSk7XG4gICAgfVxuICB9XG5cbiAgbGV0IHF1ZXJ5ID0gdHlwZW9mIHF1ZXJ5SW5wdXQgPT09ICdmdW5jdGlvbicgPyBxdWVyeUlucHV0KHRoZW1lKSA6IHF1ZXJ5SW5wdXQ7XG4gIHF1ZXJ5ID0gcXVlcnkucmVwbGFjZSgvXkBtZWRpYSggPykvbSwgJycpO1xuICBjb25zdCBbbWF0Y2gsIHNldE1hdGNoXSA9IFJlYWN0LnVzZVN0YXRlKCgpID0+IHtcbiAgICBpZiAobm9Tc3IgJiYgc3VwcG9ydE1hdGNoTWVkaWEpIHtcbiAgICAgIHJldHVybiBtYXRjaE1lZGlhKHF1ZXJ5KS5tYXRjaGVzO1xuICAgIH1cblxuICAgIGlmIChzc3JNYXRjaE1lZGlhKSB7XG4gICAgICByZXR1cm4gc3NyTWF0Y2hNZWRpYShxdWVyeSkubWF0Y2hlcztcbiAgICB9IC8vIE9uY2UgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkLCB3ZSByZWx5IG9uIHRoZVxuICAgIC8vIGV2ZW50IGxpc3RlbmVycyB0byByZXR1cm4gdGhlIGNvcnJlY3QgbWF0Y2hlcyB2YWx1ZS5cblxuXG4gICAgcmV0dXJuIGRlZmF1bHRNYXRjaGVzO1xuICB9KTtcbiAgdXNlRW5oYW5jZWRFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBhY3RpdmUgPSB0cnVlO1xuXG4gICAgaWYgKCFzdXBwb3J0TWF0Y2hNZWRpYSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjb25zdCBxdWVyeUxpc3QgPSBtYXRjaE1lZGlhKHF1ZXJ5KTtcblxuICAgIGNvbnN0IHVwZGF0ZU1hdGNoID0gKCkgPT4ge1xuICAgICAgLy8gV29ya2Fyb3VuZCBTYWZhcmkgd3JvbmcgaW1wbGVtZW50YXRpb24gb2YgbWF0Y2hNZWRpYVxuICAgICAgLy8gVE9ETyBjYW4gd2UgcmVtb3ZlIGl0P1xuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL211aS1vcmcvbWF0ZXJpYWwtdWkvcHVsbC8xNzMxNSNpc3N1ZWNvbW1lbnQtNTI4Mjg2Njc3XG4gICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgIHNldE1hdGNoKHF1ZXJ5TGlzdC5tYXRjaGVzKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdXBkYXRlTWF0Y2goKTtcbiAgICBxdWVyeUxpc3QuYWRkTGlzdGVuZXIodXBkYXRlTWF0Y2gpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBhY3RpdmUgPSBmYWxzZTtcbiAgICAgIHF1ZXJ5TGlzdC5yZW1vdmVMaXN0ZW5lcih1cGRhdGVNYXRjaCk7XG4gICAgfTtcbiAgfSwgW3F1ZXJ5LCBtYXRjaE1lZGlhLCBzdXBwb3J0TWF0Y2hNZWRpYV0pO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL3J1bGVzLW9mLWhvb2tzXG4gICAgUmVhY3QudXNlRGVidWdWYWx1ZSh7XG4gICAgICBxdWVyeSxcbiAgICAgIG1hdGNoXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gbWF0Y2g7XG59IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCdcbmltcG9ydCB7IGNvbm5lY3QsIHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMsIERpc3BhdGNoIH0gZnJvbSAncmVkdXgnXG5cbmltcG9ydCBDYXJkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0NhcmQnXG5pbXBvcnQgQ2FyZE1lZGlhIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0NhcmRNZWRpYSdcbmltcG9ydCBDYXJkQ29udGVudCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9DYXJkQ29udGVudCdcbmltcG9ydCBHcmlkIGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL0dyaWQnXG5pbXBvcnQgQWRkQ2lyY2xlT3V0bGluZWRJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9BZGRDaXJjbGVPdXRsaW5lZCdcbmltcG9ydCBSZW1vdmVDaXJjbGVPdXRsaW5lZEljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL1JlbW92ZUNpcmNsZU91dGxpbmVkJ1xuaW1wb3J0IE1vdmllQ3JlYXRpb25JY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9Nb3ZpZUNyZWF0aW9uJ1xuaW1wb3J0IEF1ZGlvdHJhY2tJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9BdWRpb3RyYWNrJ1xuaW1wb3J0IFBpY3R1cmVBc1BkZkljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zL1BpY3R1cmVBc1BkZidcblxuaW1wb3J0IHsgdXNlQXV0aFN0YXRlIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy91c2VyL3JlZHVjZXJzL2F1dGgvQXV0aFN0YXRlJ1xuaW1wb3J0IHsgdXNlRmVlZFN0YXRlIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvZmVlZC9GZWVkU3RhdGUnXG5pbXBvcnQgeyBGZWVkU2VydmljZSB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvc29jaWFsL3JlZHVjZXJzL2ZlZWQvRmVlZFNlcnZpY2UnXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vRmVhdHVyZWQubW9kdWxlLnNjc3MnXG5pbXBvcnQgeyB1c2VIaXN0b3J5IH0gZnJvbSAncmVhY3Qtcm91dGVyJ1xuaW1wb3J0IHsgRmVlZEZpcmVzU2VydmljZSB9IGZyb20gJy4uLy4uL3JlZHVjZXJzL2ZlZWRGaXJlcy9GZWVkRmlyZXNTZXJ2aWNlJ1xuaW1wb3J0IHsgZ2V0Q29tcG9uZW50VHlwZUZvck1lZGlhIH0gZnJvbSAnLi4vRmVlZCdcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgLy9hdXRoU3RhdGU/OiBhbnlcbiAgdHlwZT86IHN0cmluZ1xuICBjcmVhdG9ySWQ/OiBzdHJpbmdcbiAgdmlld1R5cGU/OiBzdHJpbmdcbiAgaXNGZWF0dXJlZD86IGJvb2xlYW5cbiAgc2V0SXNGZWF0dXJlZD86IEZ1bmN0aW9uXG59XG5cbmNvbnN0IGdyaWRWYWx1ZXMgPSB7XG4gIGdyaWQ6IHtcbiAgICB4czogMTIsXG4gICAgbGc6IDYsXG4gICAgeGw6IDRcbiAgfSxcbiAgbGlzdDoge1xuICAgIHhzOiAxMixcbiAgICBsZzogMTIsXG4gICAgeGw6IDEyXG4gIH1cbn1cblxuY29uc3QgZ2V0TWVkaWFQcmV2aWV3SWNvbiA9IChtaW1lLCBwcm9wcyA9IHt9KSA9PiB7XG4gIHN3aXRjaCAoZ2V0Q29tcG9uZW50VHlwZUZvck1lZGlhKG1pbWUgfHwgJ2ltYWdlJykpIHtcbiAgICBjYXNlICd2aWRlbyc6XG4gICAgICByZXR1cm4gPE1vdmllQ3JlYXRpb25JY29uIHsuLi5wcm9wc30gLz5cbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnYXVkaW8nOlxuICAgICAgcmV0dXJuIDxBdWRpb3RyYWNrSWNvbiB7Li4ucHJvcHN9IC8+XG4gICAgICBicmVha1xuICAgIGNhc2UgJ3BkZic6XG4gICAgICByZXR1cm4gPFBpY3R1cmVBc1BkZkljb24gey4uLnByb3BzfSAvPlxuICAgICAgYnJlYWtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGxcbiAgICAgIGJyZWFrXG4gIH1cbn1cblxuY29uc3QgRmVhdHVyZWQgPSAoeyB0eXBlLCBjcmVhdG9ySWQsIHZpZXdUeXBlLCBpc0ZlYXR1cmVkLCBzZXRJc0ZlYXR1cmVkIH06IFByb3BzKSA9PiB7XG4gIGNvbnN0IFtmZWVkc0xpc3QsIHNldEZlZWRMaXN0XSA9IHVzZVN0YXRlKFtdKVxuICBjb25zdCBbcmVtb3ZlZElkcywgc2V0UmVtb3ZlZElkc10gPSB1c2VTdGF0ZShuZXcgU2V0KCkpXG4gIGNvbnN0IFtmZWVkSWRzLCBzZXRGZWVkSWRzXSA9IHVzZVN0YXRlKG5ldyBTZXQoKSlcbiAgY29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbigpXG4gIGNvbnN0IGhpc3RvcnkgPSB1c2VIaXN0b3J5KClcbiAgY29uc3QgYXV0aCA9IHVzZUF1dGhTdGF0ZSgpXG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKVxuICBjb25zdCByZW1vdmVJZHNTdHJpbmdpZnkgPSBKU09OLnN0cmluZ2lmeShbLi4ucmVtb3ZlZElkc10pXG4gIGNvbnN0IGZlZWRzU3RhdGUgPSB1c2VGZWVkU3RhdGUoKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlID09PSAnY3JlYXRvcicgfHwgdHlwZSA9PT0gJ2Jvb2ttYXJrJyB8fCB0eXBlID09PSAnbXlGZWF0dXJlZCcgfHwgdHlwZSA9PT0gJ2ZpcmVkJykge1xuICAgICAgZGlzcGF0Y2goRmVlZFNlcnZpY2UuZ2V0RmVlZHModHlwZSwgY3JlYXRvcklkKSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZ2V0RmVhdHVyZWRGZWVkcyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgZGlzcGF0Y2goRmVlZFNlcnZpY2UuZ2V0RmVlZHMoJ2ZlYXR1cmVkJykpXG4gICAgICAgIGlmICh0eXBlICE9PSAnZmlyZWQnKSB7XG4gICAgICAgICAgZGlzcGF0Y2goRmVlZFNlcnZpY2UuZ2V0RmVlZHMoJ2ZpcmVkJywgY3JlYXRvcklkKSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCB1c2VySWRlbnRpdHlUeXBlID0gYXV0aC5hdXRoVXNlcj8uaWRlbnRpdHlQcm92aWRlcj8udHlwZT8udmFsdWUgPz8gJ2d1ZXN0J1xuICAgICAgdXNlcklkZW50aXR5VHlwZSAhPT0gJ2d1ZXN0JyA/IGdldEZlYXR1cmVkRmVlZHMoKSA6IGRpc3BhdGNoKEZlZWRTZXJ2aWNlLmdldEZlZWRzKCdmZWF0dXJlZEd1ZXN0JykpXG4gICAgfVxuXG4gICAgaWYgKHR5cGUgIT09ICdmaXJlZCcpIHtcbiAgICAgIHNldFJlbW92ZWRJZHMobmV3IFNldCgpKVxuICAgIH1cbiAgfSwgW3R5cGUsIGNyZWF0b3JJZCwgZmVlZHNTdGF0ZS5mZWVkcy5mZWVkc0ZldGNoaW5nLnZhbHVlLCByZW1vdmVJZHNTdHJpbmdpZnldKVxuXG4gIHVzZUVmZmVjdChcbiAgICAoKSA9PlxuICAgICAgKHR5cGUgPT09ICdmZWF0dXJlZCcgfHwgIXR5cGUpICYmXG4gICAgICBmZWVkc1N0YXRlLmZlZWRzLmZlZWRzRmV0Y2hpbmcudmFsdWUgPT09IGZhbHNlICYmXG4gICAgICBzZXRGZWVkTGlzdChmZWVkc1N0YXRlLmZlZWRzLmZlZWRzRmVhdHVyZWQudmFsdWUpLFxuICAgIFtmZWVkc1N0YXRlLmZlZWRzLmZlZWRzRmV0Y2hpbmcudmFsdWUsIGZlZWRzU3RhdGUuZmVlZHMuZmVlZHNGZWF0dXJlZC52YWx1ZV1cbiAgKVxuXG4gIHVzZUVmZmVjdChcbiAgICAoKSA9PlxuICAgICAgKHR5cGUgPT09ICdmZWF0dXJlZCcgfHwgIXR5cGUpICYmXG4gICAgICBmZWVkc1N0YXRlLmZlZWRzLmZlZWRzRmVhdHVyZWRGZXRjaGluZy52YWx1ZSA9PT0gZmFsc2UgJiZcbiAgICAgIHNldEZlZWRMaXN0KGZlZWRzU3RhdGUuZmVlZHMuZmVlZHNGZWF0dXJlZC52YWx1ZSksXG4gICAgW2ZlZWRzU3RhdGUuZmVlZHMuZmVlZHNGZWF0dXJlZEZldGNoaW5nLnZhbHVlLCBmZWVkc1N0YXRlLmZlZWRzLmZlZWRzRmVhdHVyZWQudmFsdWVdXG4gIClcblxuICB1c2VFZmZlY3QoXG4gICAgKCkgPT5cbiAgICAgIHR5cGUgPT09ICdjcmVhdG9yJyAmJlxuICAgICAgZmVlZHNTdGF0ZS5mZWVkcy5mZWVkc0NyZWF0b3JGZXRjaGluZy52YWx1ZSA9PT0gZmFsc2UgJiZcbiAgICAgIHNldEZlZWRMaXN0KGZlZWRzU3RhdGUuZmVlZHMuZmVlZHNDcmVhdG9yLnZhbHVlKSxcbiAgICBbZmVlZHNTdGF0ZS5mZWVkcy5mZWVkc0NyZWF0b3JGZXRjaGluZy52YWx1ZSwgZmVlZHNTdGF0ZS5mZWVkcy5mZWVkc0NyZWF0b3IudmFsdWVdXG4gIClcblxuICB1c2VFZmZlY3QoXG4gICAgKCkgPT5cbiAgICAgIHR5cGUgPT09ICdmaXJlZCcgJiZcbiAgICAgIGZlZWRzU3RhdGUuZmVlZHMuZmVlZHNGaXJlZEZldGNoaW5nLnZhbHVlID09PSBmYWxzZSAmJlxuICAgICAgc2V0RmVlZExpc3QoZmVlZHNTdGF0ZS5mZWVkcy5mZWVkc0ZpcmVkLnZhbHVlKSxcbiAgICBbZmVlZHNTdGF0ZS5mZWVkcy5mZWVkc0ZpcmVkRmV0Y2hpbmcudmFsdWUsIGZlZWRzU3RhdGUuZmVlZHMuZmVlZHNGaXJlZC52YWx1ZV1cbiAgKVxuICBjb25zdCBmZWVkc0ZpcmVkU3RyaW5naWZ5ID0gSlNPTi5zdHJpbmdpZnkoZmVlZHNTdGF0ZS5mZWVkcy5mZWVkc0ZpcmVkLnZhbHVlKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHR5cGVvZiBzZXRJc0ZlYXR1cmVkID09PSAnZnVuY3Rpb24nICYmIHNldElzRmVhdHVyZWQoISFmZWVkc1N0YXRlLmZlZWRzLmZlZWRzRmlyZWQudmFsdWU/Lmxlbmd0aClcbiAgfSwgW2ZlZWRzU3RhdGUuZmVlZHMuZmVlZHNGZXRjaGluZy52YWx1ZSwgZmVlZHNGaXJlZFN0cmluZ2lmeV0pXG5cbiAgY29uc3QgaGFuZGxlQWRkVG9GZWF0dXJlZCA9IChpdGVtKSA9PiB7XG4gICAgaWYgKCFmZWVkSWRzLmhhcyhpdGVtKSkge1xuICAgICAgc2V0RmVlZElkcyhuZXcgU2V0KFsuLi5mZWVkSWRzLCBpdGVtXSkpXG4gICAgICByZW1vdmVkSWRzLmRlbGV0ZShpdGVtKVxuICAgICAgc2V0UmVtb3ZlZElkcyhuZXcgU2V0KFsuLi5yZW1vdmVkSWRzXSkpXG4gICAgICBkaXNwYXRjaChGZWVkRmlyZXNTZXJ2aWNlLmFkZEZpcmVUb0ZlZWQoaXRlbSkpXG4gICAgICBzZXRJc0ZlYXR1cmVkKHRydWUpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlUmVtb3ZlRnJvbUZlYXR1cmVkID0gKGl0ZW0pID0+IHtcbiAgICBkaXNwYXRjaChGZWVkRmlyZXNTZXJ2aWNlLnJlbW92ZUZpcmVUb0ZlZWQoaXRlbSkpXG4gICAgbGV0IGlkcyA9IG5ldyBTZXQoWy4uLnJlbW92ZWRJZHMsIGl0ZW1dKVxuICAgIHNldFJlbW92ZWRJZHMoaWRzKVxuICAgIGZlZWRJZHMuZGVsZXRlKGl0ZW0pXG4gICAgc2V0RmVlZElkcyhuZXcgU2V0KFsuLi5mZWVkSWRzXSkpXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17c3R5bGVzLmZlZWRDb250YWluZXJ9PlxuICAgICAgPEdyaWQgY29udGFpbmVyIHNwYWNpbmc9ezN9IHN0eWxlPXt7IG1hcmdpblRvcDogMzAgfX0+XG4gICAgICAgIHtmZWVkc0xpc3QgJiYgZmVlZHNMaXN0Lmxlbmd0aCA+IDBcbiAgICAgICAgICA/IGZlZWRzTGlzdC5tYXAoKGl0ZW0sIGl0ZW1JbmRleCkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxHcmlkXG4gICAgICAgICAgICAgICAgICBpdGVtXG4gICAgICAgICAgICAgICAgICB7Li4uZ3JpZFZhbHVlc1t2aWV3VHlwZV19XG4gICAgICAgICAgICAgICAgICBrZXk9e2l0ZW1JbmRleH1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dHlwZSA9PT0gJ2ZpcmVkJyAmJiByZW1vdmVkSWRzLmhhcyhpdGVtLmlkKSA/IHN0eWxlcy5ncmlkSXRlbURlbGV0ZSA6IHN0eWxlcy5ncmlkSXRlbX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7IXR5cGUgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxBZGRDaXJjbGVPdXRsaW5lZEljb24gY2xhc3NOYW1lPXtzdHlsZXMuYWRkQnV0dG9ufSBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBZGRUb0ZlYXR1cmVkKGl0ZW0uaWQpfSAvPlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPFJlbW92ZUNpcmNsZU91dGxpbmVkSWNvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVJlbW92ZUZyb21GZWF0dXJlZChpdGVtLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5yZW1vdmVCdXR0b259XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPENhcmRcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuY3JlYXRvckl0ZW0gKyAnICcgKyAodmlld1R5cGUgPT09ICdsaXN0JyA/IHN0eWxlcy5saXN0IDogJycpfVxuICAgICAgICAgICAgICAgICAgICBlbGV2YXRpb249ezB9XG4gICAgICAgICAgICAgICAgICAgIGtleT17aXRlbUluZGV4fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmltYWdlV3JhcHBlciArICcgJyArICh2aWV3VHlwZSA9PT0gJ2xpc3QnID8gc3R5bGVzLmltYWdlTGlzdCA6ICcnKX0+XG4gICAgICAgICAgICAgICAgICAgICAge2dldE1lZGlhUHJldmlld0ljb24oaXRlbS5wcmV2aWV3VHlwZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBgJHtzdHlsZXMuaW1hZ2V9ICR7c3R5bGVzLm1lZGlhUHJldmlld0ljb259YCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeS5wdXNoKCcvcG9zdD9wb3N0SWQ9JyArIGl0ZW0uaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSkgfHwgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPENhcmRNZWRpYVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ9XCJpbWdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5pbWFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U9e2l0ZW0ucHJldmlld1VybH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaCgnL3Bvc3Q/cG9zdElkPScgKyBpdGVtLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPENhcmRDb250ZW50IHN0eWxlPXt7IHRleHRBbGlnbjogJ2NlbnRlcicgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMuZGVzY3J9PntpdGVtLnRpdGxlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiAnJ31cbiAgICAgIDwvR3JpZD5cbiAgICA8L3NlY3Rpb24+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgRmVhdHVyZWRcbiIsImltcG9ydCBCdXR0b24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQnV0dG9uJ1xuaW1wb3J0IHsgR3JpZCB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJ1xuaW1wb3J0IEFwcHNJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9BcHBzJ1xuaW1wb3J0IFZpZXdBZ2VuZGFJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9WaWV3QWdlbmRhJ1xuaW1wb3J0IFJlYWN0LCB7IHVzZVJlZiwgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IEZlYXR1cmVkIGZyb20gJy4uL0ZlYXR1cmVkJ1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0J1xuaW1wb3J0IHsgdXNlTWVkaWFRdWVyeSB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwnXG5cbi8vIEB0cy1pZ25vcmVcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9GZWVkTWVudS5tb2R1bGUuc2NzcydcblxuY29uc3QgRmVlZE1lbnUgPSAoKSA9PiB7XG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PigpXG4gIGNvbnN0IGZlYXR1cmVkUmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KClcbiAgY29uc3QgY3JlYXRvcnNSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4oKVxuICBjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKClcbiAgY29uc3QgW3ZpZXcsIHNldFZpZXddID0gdXNlU3RhdGUoJ2FsbCcpXG4gIGNvbnN0IFt2aWV3VHlwZSwgc2V0Vmlld1R5cGVdID0gdXNlU3RhdGUoJ2dyaWQnKVxuICBjb25zdCBbaXNGZWF0dXJlZCwgc2V0SXNGZWF0dXJlZF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgbWF0Y2ggPSB1c2VNZWRpYVF1ZXJ5KCcobWF4LXdpZHRoOjEyNzlweCknKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHZpZXcgIT09ICdhbGwnICYmICFpc0ZlYXR1cmVkKSB7XG4gICAgICBzZXRWaWV3KCdhbGwnKVxuICAgIH1cbiAgfSwgW3ZpZXcsIGlzRmVhdHVyZWRdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbWF0Y2ggJiYgc2V0Vmlld1R5cGUoJ2xpc3QnKVxuICB9LCBbbWF0Y2hdKVxuXG4gIGNvbnN0IHBhZGRpbmcgPSA0MFxuICBjb25zdCBoYW5kbGVNZW51Q2xpY2sgPSAodmlldykgPT4ge1xuICAgIHNldFZpZXcodmlldylcbiAgICBsZXQgbGVmdFNjcm9sbFBvcyA9IDBcbiAgICBzd2l0Y2ggKHZpZXcpIHtcbiAgICAgIGNhc2UgJ2FsbCc6XG4gICAgICAgIGxlZnRTY3JvbGxQb3MgPSBjcmVhdG9yc1JlZi5jdXJyZW50Lm9mZnNldExlZnQgLSBwYWRkaW5nXG4gICAgICAgIGJyZWFrXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsZWZ0U2Nyb2xsUG9zID0gMFxuICAgICAgICBicmVha1xuICAgIH1cbiAgICBjb250YWluZXJSZWYuY3VycmVudC5zY3JvbGxUbyh7IGxlZnQ6IGxlZnRTY3JvbGxQb3MsIGJlaGF2aW9yOiAnc21vb3RoJyB9KVxuICB9XG4gIGxldCBjb250ZW50ID0gbnVsbFxuICBzd2l0Y2ggKHZpZXcpIHtcbiAgICBjYXNlICdhbGwnOlxuICAgICAgY29udGVudCA9IDxGZWF0dXJlZCB2aWV3VHlwZT17dmlld1R5cGV9IHNldElzRmVhdHVyZWQ9e3NldElzRmVhdHVyZWR9IGlzRmVhdHVyZWQ9e2lzRmVhdHVyZWR9IC8+XG4gICAgICBicmVha1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb250ZW50ID0gPEZlYXR1cmVkIHR5cGU9XCJmaXJlZFwiIHZpZXdUeXBlPXt2aWV3VHlwZX0gc2V0SXNGZWF0dXJlZD17c2V0SXNGZWF0dXJlZH0gaXNGZWF0dXJlZD17aXNGZWF0dXJlZH0gLz5cbiAgICAgIGJyZWFrXG4gIH1cbiAgY29uc3QgY2xhc3NlcyA9IHtcbiAgICBmZWF0dXJlZDogW3N0eWxlcy5mZWF0dXJlZEJ1dHRvbiwgdmlldyA9PT0gJ2ZlYXR1cmVkJyAmJiBzdHlsZXMuYWN0aXZlXSxcbiAgICBhbGw6IFtzdHlsZXMuY3JlYXRvcnNCdXR0b24sIHZpZXcgPT09ICdhbGwnICYmIHN0eWxlcy5hY3RpdmVdXG4gIH1cblxuICBjb25zdCBoYW5kbGVWaWV3VHlwZVN3aXRjaCA9ICh0eXBlKTogdm9pZCA9PiB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdncmlkJzpcbiAgICAgICAgc2V0Vmlld1R5cGUoJ2dyaWQnKVxuICAgICAgICBicmVha1xuXG4gICAgICBjYXNlICdsaXN0JzpcbiAgICAgICAgc2V0Vmlld1R5cGUoJ2xpc3QnKVxuICAgICAgICBicmVha1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8bmF2IGNsYXNzTmFtZT17c3R5bGVzLmZlZWRNZW51Q29udGFpbmVyfT5cbiAgICAgICAgPEdyaWQgY29udGFpbmVyPlxuICAgICAgICAgIDxHcmlkIGl0ZW0geHM+XG4gICAgICAgICAgICA8c2VjdGlvbiBjbGFzc05hbWU9e3N0eWxlcy5zd2l0Y2hlcn0gcmVmPXtjb250YWluZXJSZWZ9PlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdmFyaWFudD17dmlldyA9PT0gJ2ZlYXR1cmVkJyA/ICdjb250YWluZWQnIDogJ3RleHQnfVxuICAgICAgICAgICAgICAgIHJlZj17ZmVhdHVyZWRSZWZ9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICAgICAgICAgIHN0eWxlcy5zd2l0Y2hCdXR0b24gK1xuICAgICAgICAgICAgICAgICAgKHZpZXcgPT09ICdmZWF0dXJlZCcgPyAnICcgKyBzdHlsZXMuYWN0aXZlIDogJycpICtcbiAgICAgICAgICAgICAgICAgICh2aWV3ID09PSAnYWxsJyAmJiAhaXNGZWF0dXJlZCA/ICcgJyArIHN0eWxlcy5kaXNhYmxlZCA6ICcnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17dmlldyA9PT0gJ2FsbCcgJiYgIWlzRmVhdHVyZWR9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaGFuZGxlTWVudUNsaWNrKCdmZWF0dXJlZCcpXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEZlYXR1cmVkXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdmFyaWFudD17dmlldyA9PT0gJ2FsbCcgPyAnY29udGFpbmVkJyA6ICd0ZXh0J31cbiAgICAgICAgICAgICAgICByZWY9e2NyZWF0b3JzUmVmfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLnN3aXRjaEJ1dHRvbiArICh2aWV3ID09PSAnYWxsJyA/ICcgJyArIHN0eWxlcy5hY3RpdmUgOiAnJyl9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaGFuZGxlTWVudUNsaWNrKCdhbGwnKVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBBbGxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgICAgPC9HcmlkPlxuICAgICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17c3R5bGVzLnZpZXdTd2l0Y2hlcn0gc3R5bGU9e21hdGNoID8geyBkaXNwbGF5OiAnbm9uZScgfSA6IHt9fT5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdmFyaWFudD17dmlld1R5cGUgPT09ICdncmlkJyA/ICdjb250YWluZWQnIDogJ3RleHQnfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy52aWV3U3dpdGNoQnV0dG9uICsgKHZpZXdUeXBlID09PSAnZ3JpZCcgPyAnICcgKyBzdHlsZXMudmlld0FjdGl2ZSA6ICcnKX1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlVmlld1R5cGVTd2l0Y2goJ2dyaWQnKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEFwcHNJY29uIC8+XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdmFyaWFudD17dmlld1R5cGUgPT09ICdsaXN0JyA/ICdjb250YWluZWQnIDogJ3RleHQnfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy52aWV3U3dpdGNoQnV0dG9uICsgKHZpZXdUeXBlID09PSAnbGlzdCcgPyAnICcgKyBzdHlsZXMudmlld0FjdGl2ZSA6ICcnKX1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlVmlld1R5cGVTd2l0Y2goJ2xpc3QnKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFZpZXdBZ2VuZGFJY29uIC8+XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgICAgPEdyaWQgaXRlbT48L0dyaWQ+XG4gICAgICAgIDwvR3JpZD5cbiAgICAgIDwvbmF2PlxuICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPXtzdHlsZXMuY29udGVudH0+e2NvbnRlbnR9PC9zZWN0aW9uPlxuICAgIDwvPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEZlZWRNZW51XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHRcIik7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlV2lsZGNhcmRcIik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBSZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfY3JlYXRlU3ZnSWNvbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdXRpbHMvY3JlYXRlU3ZnSWNvblwiKSk7XG5cbnZhciBfZGVmYXVsdCA9ICgwLCBfY3JlYXRlU3ZnSWNvbi5kZWZhdWx0KSggLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgZDogXCJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyelwiXG59KSwgJ0FkZCcpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlUmVkdWNlciwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgR3JpZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkJ1xuaW1wb3J0IENhcmQgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ2FyZCdcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9BZGRGaWxlc0Zvcm0ubW9kdWxlLnNjc3MnXG5pbXBvcnQgeyBCdXR0b24sIENhcmRNZWRpYSwgVGV4dEZpZWxkLCBUeXBvZ3JhcGh5IH0gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUnXG5pbXBvcnQgQ2xvc2VJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DbG9zZSdcbmltcG9ydCBBZGRJY29uIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9BZGQnXG5pbXBvcnQgQXBwSGVhZGVyIGZyb20gJy4uL0hlYWRlcidcbmltcG9ydCB7IGJpbmRBY3Rpb25DcmVhdG9ycywgRGlzcGF0Y2ggfSBmcm9tICdyZWR1eCdcbmltcG9ydCB7IEZlZWRTZXJ2aWNlIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy9zb2NpYWwvcmVkdWNlcnMvZmVlZC9GZWVkU2VydmljZSdcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgZmlsZXNUYXJnZXQ/OiBhbnlcbiAgc2V0RmlsZXNUYXJnZXQ/OiBhbnlcbiAgc2V0QWRkRmlsZXNWaWV3PzogYW55XG59XG5cbmNvbnN0IGRlc2NyaXB0aW9uU3RhdGUgPSBuZXcgTWFwKClcblxuY29uc3QgZGVzY3JpcHRpb25SZWR1Y2VyID0gKHN0YXRlLCBhY3Rpb24pID0+IHtcbiAgY29uc3QgeyBuYW1lLCB2YWx1ZSB9ID0gYWN0aW9uLnBheWxvYWRcbiAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgJ0NIQU5HRV9URVhUJzpcbiAgICAgIHN0YXRlLnNldChuYW1lLCB2YWx1ZSlcbiAgICAgIHJldHVybiBuZXcgTWFwKHN0YXRlLmVudHJpZXMoKSlcbiAgICAgIGJyZWFrXG4gICAgY2FzZSAnREVMRVRFX0lURU0nOlxuICAgICAgc3RhdGUuZGVsZXRlKG5hbWUpXG4gICAgICByZXR1cm4gbmV3IE1hcChzdGF0ZS5lbnRyaWVzKCkpXG4gICAgICBicmVha1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZVxuICAgICAgYnJlYWtcbiAgfVxufVxuXG5jb25zdCBnZXRUaXRsZUFuZERlc2NyaXB0aW9uID0gKHN0cikgPT4ge1xuICBzdHIgPSBzdHIudHJpbSgpXG4gIGxldCBbdGl0bGUsIGRlc2NyaXB0aW9uXSA9IHN0ci5zcGxpdCgnXFxuJylcbiAgbGV0IHJlc3VsdCA9IHtcbiAgICB0aXRsZTogdGl0bGUsXG4gICAgZGVzY3JpcHRpb246IHN0ci5sZW5ndGggPiA4MCA/IHN0ciA6ICcnXG4gIH1cblxuICBpZiAodGl0bGUubGVuZ3RoIDwgODAgJiYgISFkZXNjcmlwdGlvbikge1xuICAgIHJlc3VsdC5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uXG4gIH1cblxuICBsZXQgaW5kZXggPSAtMVxuICB3aGlsZSAoKGluZGV4ID0gcmVzdWx0LnRpdGxlLmxhc3RJbmRleE9mKCcgJykpICE9PSAtMSkge1xuICAgIGlmIChyZXN1bHQudGl0bGUubGVuZ3RoIDw9IDgwKSB7XG4gICAgICBicmVha1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQudGl0bGUgPSByZXN1bHQudGl0bGUuc2xpY2UoMCwgaW5kZXgpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5jb25zdCBBZGRGaWxlc0Zvcm0gPSAoeyBmaWxlc1RhcmdldCwgc2V0QWRkRmlsZXNWaWV3LCBzZXRGaWxlc1RhcmdldCB9OiBQcm9wcykgPT4ge1xuICBjb25zdCBbZGVzY3JUZXh0LCBzZXREZXNjclRleHRdID0gdXNlU3RhdGUoJycpXG4gIGNvbnN0IFtkZXNjcmlwdGlvbnMsIGRpc3BhdGNoXSA9IHVzZVJlZHVjZXIoZGVzY3JpcHRpb25SZWR1Y2VyLCBkZXNjcmlwdGlvblN0YXRlKVxuICBjb25zdCBbdGl0bGVGaWxlLCBzZXRUaXRsZUZpbGVdID0gdXNlU3RhdGUoJycpXG4gIGNvbnN0IFtwcmV2aWV3LCBzZXRQcmV2aWV3XSA9IHVzZVN0YXRlKG51bGwpXG4gIGNvbnN0IFt2aWRlbywgc2V0VmlkZW9dID0gdXNlU3RhdGUobnVsbClcbiAgY29uc3QgaW5wdXRGaWxlUmVmID0gdXNlUmVmKG51bGwpXG5cbiAgLy8gY29uc3QgaGFuZGxlRGVzY3JUZXh0Q2hhbmdlID0gKGV2ZW50OiBhbnkpOiB2b2lkID0+IHNldERlc2NyVGV4dChldmVudC50YXJnZXQudmFsdWUpXG4gIGNvbnN0IGhhbmRsZURlc2NyVGV4dENoYW5nZSA9IChldmVudDogYW55LCBuYW1lOiBhbnkpID0+IHtcbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiAnQ0hBTkdFX1RFWFQnLFxuICAgICAgcGF5bG9hZDoge1xuICAgICAgICBuYW1lLFxuICAgICAgICB2YWx1ZTogZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICB9XG4gICAgfSlcbiAgfVxuICBjb25zdCBmaWxlc1RhcmdldFN0cmluZ2lmeSA9IEpTT04uc3RyaW5naWZ5KGZpbGVzVGFyZ2V0KVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZpbGVzVGFyZ2V0Py5mb3JFYWNoKChmaWxlKSA9PiB7XG4gICAgICBpZiAoIWRlc2NyaXB0aW9ucy5oYXMoZmlsZSkpIHtcbiAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgIHR5cGU6ICdDSEFOR0VfVEVYVCcsXG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgbmFtZTogZmlsZSxcbiAgICAgICAgICAgIHZhbHVlOiBmaWxlLm5hbWUuc3Vic3RyaW5nKDAsIGZpbGUubmFtZS5sYXN0SW5kZXhPZignLicpKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9LCBbZmlsZXNUYXJnZXRTdHJpbmdpZnldKVxuXG4gIGNvbnN0IGhhbmRsZUFkZFBvc3RzID0gKCkgPT4ge1xuICAgIDtbLi4uZmlsZXNUYXJnZXRdLmZvckVhY2goKGZpbGUsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCB7IHRpdGxlLCBkZXNjcmlwdGlvbiB9ID0gZ2V0VGl0bGVBbmREZXNjcmlwdGlvbihkZXNjcmlwdGlvbnMuZ2V0KGZpbGUpIHx8IHRpdGxlRmlsZSlcbiAgICAgIGNvbnNvbGUuZ3JvdXAoJ1RpdGxlIGFuZCBkZXNjcmlwdGlvbicpXG4gICAgICBjb25zb2xlLmdyb3VwRW5kKClcbiAgICAgIGNvbnN0IG5ld1Bvc3QgPSB7XG4gICAgICAgIHRpdGxlLFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgcHJldmlldzogZmlsZSxcbiAgICAgICAgdmlkZW86IGZpbGVcbiAgICAgIH0gYXMgYW55XG4gICAgICBkaXNwYXRjaChGZWVkU2VydmljZS5jcmVhdGVGZWVkKG5ld1Bvc3QpKVxuICAgIH0pXG4gICAgc2V0QWRkRmlsZXNWaWV3KGZhbHNlKVxuICB9XG4gIGNvbnN0IGhhbmRsZURlbGV0ZU1lZGlhID0gKGluZGV4KSA9PiB7XG4gICAgY29uc3QgZW50cmllcyA9IGZpbGVzVGFyZ2V0LmZpbHRlcigoaXRlbSwgaXRlbUluZGV4KSA9PiB7XG4gICAgICByZXR1cm4gaXRlbUluZGV4ICE9PSBpbmRleFxuICAgIH0pXG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogJ0RFTEVURV9JVEVNJyxcbiAgICAgIHBheWxvYWQ6IGBkZXNjcmlwdGlvbi0ke2luZGV4fWBcbiAgICB9KVxuICAgIHNldEZpbGVzVGFyZ2V0KFsuLi5lbnRyaWVzXSlcbiAgfVxuICBjb25zdCBoYW5kbGVBZGRGaWxlcyA9ICgpID0+IHtcbiAgICBpbnB1dEZpbGVSZWY/LmN1cnJlbnQuY2xpY2soKVxuICB9XG4gIGNvbnN0IGhhbmRsZUZpbGVzVGFyZ2V0ID0gKGZpbGVzOiBBcnJheTxhbnk+KSA9PiB7XG4gICAgc2V0RmlsZXNUYXJnZXQoWy4uLmZpbGVzVGFyZ2V0LCAuLi5maWxlc10pXG4gIH1cbiAgcmV0dXJuIChcbiAgICA8c2VjdGlvbiBjbGFzc05hbWU9e3N0eWxlcy52aWV3cG9ydH0+XG4gICAgICA8QXBwSGVhZGVyIHRpdGxlPVwiQ1JFQVRPUlwiIGhpZGVBZGRCdXR0b25zIGlucHV0RmlsZVJlZj17aW5wdXRGaWxlUmVmfSBzZXRGaWxlc1RhcmdldD17aGFuZGxlRmlsZXNUYXJnZXR9IC8+XG4gICAgICA8QnV0dG9uIGNsYXNzTmFtZT17c3R5bGVzLmFkZEZpbGVzQnV0dG9ufSBvbkNsaWNrPXtoYW5kbGVBZGRGaWxlc30+XG4gICAgICAgIEFERCBGSUxFUzpcbiAgICAgIDwvQnV0dG9uPlxuICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPXtzdHlsZXMuY29udGVudH0+XG4gICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17c3R5bGVzLmZlZWRDb250YWluZXJ9PlxuICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciBzcGFjaW5nPXszfSBzdHlsZT17eyBtYXJnaW5Ub3A6IDMwIH19PlxuICAgICAgICAgICAge2ZpbGVzVGFyZ2V0XG4gICAgICAgICAgICAgID8gZmlsZXNUYXJnZXQubWFwKChpdGVtOiBhbnksIGl0ZW1JbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSB4cz17MTJ9IGxnPXs2fSB4bD17NH0ga2V5PXtpdGVtSW5kZXh9IGNsYXNzTmFtZT17c3R5bGVzLmdyaWRJdGVtfT5cbiAgICAgICAgICAgICAgICAgICAgICA8Q2FyZCBjbGFzc05hbWU9e3N0eWxlcy5jcmVhdG9ySXRlbX0gZWxldmF0aW9uPXswfSBrZXk9e2l0ZW1JbmRleH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmltYWdlV3JhcHBlcn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkTWVkaWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ9e2Ake2l0ZW0udHlwZS5zdGFydHNXaXRoKCd2aWRlbycpID8gJ3ZpZGVvJyA6ICdpbWcnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuaW1hZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2U9e1VSTC5jcmVhdGVPYmplY3RVUkwoaXRlbSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMucmVtb3ZlSXRlbX0gb25DbGljaz17KCkgPT4gaGFuZGxlRGVsZXRlTWVkaWEoaXRlbUluZGV4KX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbiBjbGFzc05hbWU9e3N0eWxlcy5jbG9zZX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHBhZGRpbmc6ICcwIDMwcHggMzBweCcsIG1hcmdpbjogJzI1cHggMCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvRm9jdXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogJzE3cHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnSm9zdCwgc2Fucy1zZXJpZicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogJ2l0YWxpYycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzliOWI5YicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmYnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbj1cImRlbnNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD17YGRlc2NyaXB0aW9uLSR7aXRlbUluZGV4fWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJBZGQgZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlsaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2Rlc2NyaXB0aW9ucy5nZXQoaXRlbSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBoYW5kbGVEZXNjclRleHRDaGFuZ2UoZSwgaXRlbSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICA6ICcnfVxuICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT17c3R5bGVzLnB1Ymxpc2h9IG9uQ2xpY2s9e2hhbmRsZUFkZFBvc3RzfT5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxBZGRJY29uIGNsYXNzTmFtZT17c3R5bGVzLmFkZEljb259IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuYWRkVGV4dH0+UHVibGlzaDwvZGl2PlxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgICA8L3NlY3Rpb24+XG4gICAgPC9zZWN0aW9uPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IEFkZEZpbGVzRm9ybVxuIiwiaW1wb3J0IHsgQXV0aFNlcnZpY2UgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3VzZXIvcmVkdWNlcnMvYXV0aC9BdXRoU2VydmljZSdcbmltcG9ydCB7IHVzZUF1dGhTdGF0ZSB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvdXNlci9yZWR1Y2Vycy9hdXRoL0F1dGhTdGF0ZSdcbmltcG9ydCB7IGlzSU9TIH0gZnJvbSAnQHhyZW5naW5lL2NsaWVudC1jb3JlL3NyYy91dGlsL3BsYXRmb3JtQ2hlY2snXG5pbXBvcnQgRmVlZE1lbnUgZnJvbSAnLi4vY29tcG9uZW50cy9GZWVkTWVudSdcbmltcG9ydCB7IHVzZUNyZWF0b3JTdGF0ZSB9IGZyb20gJ0B4cmVuZ2luZS9jbGllbnQtY29yZS9zcmMvc29jaWFsL3JlZHVjZXJzL2NyZWF0b3IvQ3JlYXRvclN0YXRlJ1xuaW1wb3J0IHsgQ3JlYXRvclNlcnZpY2UgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3NvY2lhbC9yZWR1Y2Vycy9jcmVhdG9yL0NyZWF0b3JTZXJ2aWNlJ1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGNvbm5lY3QsIHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMsIERpc3BhdGNoIH0gZnJvbSAncmVkdXgnXG5cbmltcG9ydCBBcHBIZWFkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9IZWFkZXInXG5cbi8vIEB0cy1pZ25vcmVcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9pbmRleC5tb2R1bGUuc2NzcydcbmltcG9ydCBBZGRGaWxlc0Zvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9BZGRGaWxlc0Zvcm0nXG5cbmNvbnN0IEhvbWUgPSAoKSA9PiB7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKVxuICBjb25zdCBhdXRoID0gdXNlQXV0aFN0YXRlKClcblxuICBjb25zdCBbYWRkRmlsZXNWaWV3LCBzZXRBZGRGaWxlc1ZpZXddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtmaWxlc1RhcmdldCwgc2V0RmlsZXNUYXJnZXRdID0gdXNlU3RhdGUoW10pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gYXV0aC51c2VyXG4gICAgY29uc3QgdXNlcklkID0gdXNlciA/IHVzZXIuaWQudmFsdWUgOiBudWxsXG4gICAgaWYgKHVzZXJJZCkge1xuICAgICAgQ3JlYXRvclNlcnZpY2UuY3JlYXRlQ3JlYXRvcigpXG4gICAgfVxuICB9LCBbYXV0aC5pc0xvZ2dlZEluLnZhbHVlLCBhdXRoLnVzZXIuaWQudmFsdWVdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZGlzcGF0Y2goQXV0aFNlcnZpY2UuZG9Mb2dpbkF1dG8odHJ1ZSkpXG4gIH0sIFtdKVxuXG4gIGNvbnN0IGNyZWF0b3JzU3RhdGUgPSB1c2VDcmVhdG9yU3RhdGUoKVxuICBjb25zdCBjdXJyZW50Q3JlYXRvciA9IGNyZWF0b3JzU3RhdGUuY3JlYXRvcnMuY3VycmVudENyZWF0b3IudmFsdWVcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudmlld3BvcnR9PlxuICAgICAgeyFhZGRGaWxlc1ZpZXcgJiYgKFxuICAgICAgICA8QXBwSGVhZGVyIHRpdGxlPXsnQ1JFQVRPUid9IHNldEFkZEZpbGVzVmlldz17c2V0QWRkRmlsZXNWaWV3fSBzZXRGaWxlc1RhcmdldD17c2V0RmlsZXNUYXJnZXR9IC8+XG4gICAgICApfVxuICAgICAge2N1cnJlbnRDcmVhdG9yICYmICFhZGRGaWxlc1ZpZXcgJiYgPEZlZWRNZW51IC8+fVxuICAgICAge2FkZEZpbGVzVmlldyAmJiAoXG4gICAgICAgIDxBZGRGaWxlc0Zvcm0gZmlsZXNUYXJnZXQ9e2ZpbGVzVGFyZ2V0fSBzZXRBZGRGaWxlc1ZpZXc9e3NldEFkZEZpbGVzVmlld30gc2V0RmlsZXNUYXJnZXQ9e3NldEZpbGVzVGFyZ2V0fSAvPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBIb21lXG4iXSwibmFtZXMiOlsiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUkJDAiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUkJDEiLCJSZWFjdCIsInJlcXVpcmUkJDIiLCJfY3JlYXRlU3ZnSWNvbiIsInJlcXVpcmUkJDMiLCJfZGVmYXVsdCIsImRlZmF1bHRfMSIsIlJlYWN0LnVzZVN0YXRlIiwiTW92aWVDcmVhdGlvbkljb24iLCJBdWRpb3RyYWNrSWNvbiIsIlBpY3R1cmVBc1BkZkljb24iLCJ1c2VTdGF0ZSIsInN0eWxlcyIsIlJlbW92ZUNpcmNsZU91dGxpbmVkSWNvbiIsIkFkZENpcmNsZU91dGxpbmVkSWNvbiIsInVzZVJlZiIsIkFwcHNJY29uIiwiVmlld0FnZW5kYUljb24iLCJ1c2VSZWR1Y2VyIiwiQ2xvc2VJY29uIiwiQWRkSWNvbiJdLCJtYXBwaW5ncyI6ImsvQkFFSUEsR0FBeUJDLFVBRXpCQyxHQUEwQkMsVUFFOUIsT0FBTyxlQUFlLEVBQVMsYUFBYyxDQUMzQyxNQUFPLEtBRVQsZ0JBQWtCLE9BRWRDLEdBQVFGLEdBQXdCRyxXQUVoQ0MsR0FB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
