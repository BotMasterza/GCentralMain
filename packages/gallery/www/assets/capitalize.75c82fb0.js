import{_ as re,j as Ft,k as Pr,l as kr,m as jr,n as Er}from"./_app.41131035.js";import{m as Rr,n as Ar,p as Dt,q as Bt,e as Cr,R as fe,h as et,l as Lt,k as Tr}from"./vendor.2a83d1c9.js";import{C as Re}from"./index.b1c16674.js";function xr(O){if(Array.isArray(O))return Rr(O)}function Ir(O){if(typeof Symbol!="undefined"&&O[Symbol.iterator]!=null||O["@@iterator"]!=null)return Array.from(O)}function Mr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nr(O){return xr(O)||Ir(O)||Ar(O)||Mr()}var Fr=typeof Symbol=="function"&&Symbol.for,Dr=Fr?Symbol.for("mui.nested"):"__THEME_NESTED__",Br=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function Lr(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=O.disableGlobal,h=y===void 0?!1:y,e=O.productionPrefix,a=e===void 0?"jss":e,c=O.seed,m=c===void 0?"":c,t=m===""?"":"".concat(m,"-"),_=0,g=function(){return _+=1,_};return function(R,k){var S=k.options.name;if(S&&S.indexOf("Mui")===0&&!k.options.link&&!h){if(Br.indexOf(R.key)!==-1)return"Mui-".concat(R.key);var C="".concat(t).concat(S,"-").concat(R.key);return!k.options.theme[Dr]||m!==""?C:"".concat(C,"-").concat(g())}return"".concat(t).concat(a).concat(g())}}function Ur(O){var y=O.theme,h=O.name,e=O.props;if(!y||!y.props||!y.props[h])return e;var a=y.props[h],c;for(c in a)e[c]===void 0&&(e[c]=a[c]);return e}var Ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Ae=(typeof window=="undefined"?"undefined":Ut(window))==="object"&&(typeof document=="undefined"?"undefined":Ut(document))==="object"&&document.nodeType===9,Hr={}.constructor;function tt(O){if(O==null||typeof O!="object")return O;if(Array.isArray(O))return O.map(tt);if(O.constructor!==Hr)return O;var y={};for(var h in O)y[h]=tt(O[h]);return y}function rt(O,y,h){O===void 0&&(O="unnamed");var e=h.jss,a=tt(y),c=e.plugins.onCreateRule(O,a,h);return c||(O[0]==="@",null)}var Ht=function(y,h){for(var e="",a=0;a<y.length&&y[a]!=="!important";a++)e&&(e+=h),e+=y[a];return e},ge=function(y,h){if(h===void 0&&(h=!1),!Array.isArray(y))return y;var e="";if(Array.isArray(y[0]))for(var a=0;a<y.length&&y[a]!=="!important";a++)e&&(e+=", "),e+=Ht(y[a]," ");else e=Ht(y,", ");return!h&&y[y.length-1]==="!important"&&(e+=" !important"),e};function Ce(O,y){for(var h="",e=0;e<y;e++)h+="  ";return h+O}function Te(O,y,h){h===void 0&&(h={});var e="";if(!y)return e;var a=h,c=a.indent,m=c===void 0?0:c,t=y.fallbacks;if(O&&m++,t)if(Array.isArray(t))for(var _=0;_<t.length;_++){var g=t[_];for(var R in g){var k=g[R];k!=null&&(e&&(e+=`
`),e+=Ce(R+": "+ge(k)+";",m))}}else for(var S in t){var C=t[S];C!=null&&(e&&(e+=`
`),e+=Ce(S+": "+ge(C)+";",m))}for(var b in y){var j=y[b];j!=null&&b!=="fallbacks"&&(e&&(e+=`
`),e+=Ce(b+": "+ge(j)+";",m))}return!e&&!h.allowEmpty||!O?e:(m--,e&&(e=`
`+e+`
`),Ce(O+" {"+e,m)+Ce("}",m))}var Vr=/([[\].#*$><+~=|^:(),"'`\s])/g,Vt=typeof CSS!="undefined"&&CSS.escape,nt=function(O){return Vt?Vt(O):O.replace(Vr,"\\$1")},$t=function(){function O(h,e,a){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var c=a.sheet,m=a.Renderer;this.key=h,this.options=a,this.style=e,c?this.renderer=c.renderer:m&&(this.renderer=new m)}var y=O.prototype;return y.prop=function(e,a,c){if(a===void 0)return this.style[e];var m=c?c.force:!1;if(!m&&this.style[e]===a)return this;var t=a;(!c||c.process!==!1)&&(t=this.options.jss.plugins.onChangeValue(a,e,this));var _=t==null||t===!1,g=e in this.style;if(_&&!g&&!m)return this;var R=_&&g;if(R?delete this.style[e]:this.style[e]=t,this.renderable&&this.renderer)return R?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,t),this;var k=this.options.sheet;return k&&k.attached,this},O}(),ot=function(O){Ft(y,O);function y(e,a,c){var m;m=O.call(this,e,a,c)||this,m.selectorText=void 0,m.id=void 0,m.renderable=void 0;var t=c.selector,_=c.scoped,g=c.sheet,R=c.generateId;return t?m.selectorText=t:_!==!1&&(m.id=R(Bt(Bt(m)),g),m.selectorText="."+nt(m.id)),m}var h=y.prototype;return h.applyTo=function(a){var c=this.renderer;if(c){var m=this.toJSON();for(var t in m)c.setProperty(a,t,m[t])}return this},h.toJSON=function(){var a={};for(var c in this.style){var m=this.style[c];typeof m!="object"?a[c]=m:Array.isArray(m)&&(a[c]=ge(m))}return a},h.toString=function(a){var c=this.options.sheet,m=c?c.options.link:!1,t=m?re({},a,{allowEmpty:!0}):a;return Te(this.selectorText,this.style,t)},Dt(y,[{key:"selector",set:function(a){if(a!==this.selectorText){this.selectorText=a;var c=this.renderer,m=this.renderable;if(!(!m||!c)){var t=c.setSelector(m,a);t||c.replaceRule(m,this)}}},get:function(){return this.selectorText}}]),y}($t),$r={onCreateRule:function(y,h,e){return y[0]==="@"||e.parent&&e.parent.type==="keyframes"?null:new ot(y,h,e)}},it={indent:1,children:!0},Wr=/@([\w-]+)/,Gr=function(){function O(h,e,a){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=h;var c=h.match(Wr);this.at=c?c[1]:"unknown",this.query=a.name||"@"+this.at,this.options=a,this.rules=new He(re({},a,{parent:this}));for(var m in e)this.rules.add(m,e[m]);this.rules.process()}var y=O.prototype;return y.getRule=function(e){return this.rules.get(e)},y.indexOf=function(e){return this.rules.indexOf(e)},y.addRule=function(e,a,c){var m=this.rules.add(e,a,c);return m?(this.options.jss.plugins.onProcessRule(m),m):null},y.toString=function(e){if(e===void 0&&(e=it),e.indent==null&&(e.indent=it.indent),e.children==null&&(e.children=it.children),e.children===!1)return this.query+" {}";var a=this.rules.toString(e);return a?this.query+` {
`+a+`
}`:""},O}(),zr=/@media|@supports\s+/,Kr={onCreateRule:function(y,h,e){return zr.test(y)?new Gr(y,h,e):null}},at={indent:1,children:!0},qr=/@keyframes\s+([\w-]+)/,st=function(){function O(h,e,a){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var c=h.match(qr);c&&c[1]?this.name=c[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=a;var m=a.scoped,t=a.sheet,_=a.generateId;this.id=m===!1?this.name:nt(_(this,t)),this.rules=new He(re({},a,{parent:this}));for(var g in e)this.rules.add(g,e[g],re({},a,{parent:this}));this.rules.process()}var y=O.prototype;return y.toString=function(e){if(e===void 0&&(e=at),e.indent==null&&(e.indent=at.indent),e.children==null&&(e.children=at.children),e.children===!1)return this.at+" "+this.id+" {}";var a=this.rules.toString(e);return a&&(a=`
`+a+`
`),this.at+" "+this.id+" {"+a+"}"},O}(),Jr=/@keyframes\s+/,Xr=/\$([\w-]+)/g,ut=function(y,h){return typeof y=="string"?y.replace(Xr,function(e,a){return a in h?h[a]:e}):y},Wt=function(y,h,e){var a=y[h],c=ut(a,e);c!==a&&(y[h]=c)},Yr={onCreateRule:function(y,h,e){return typeof y=="string"&&Jr.test(y)?new st(y,h,e):null},onProcessStyle:function(y,h,e){return h.type!=="style"||!e||("animation-name"in y&&Wt(y,"animation-name",e.keyframes),"animation"in y&&Wt(y,"animation",e.keyframes)),y},onChangeValue:function(y,h,e){var a=e.options.sheet;if(!a)return y;switch(h){case"animation":return ut(y,a.keyframes);case"animation-name":return ut(y,a.keyframes);default:return y}}},Qr=function(O){Ft(y,O);function y(){for(var e,a=arguments.length,c=new Array(a),m=0;m<a;m++)c[m]=arguments[m];return e=O.call.apply(O,[this].concat(c))||this,e.renderable=void 0,e}var h=y.prototype;return h.toString=function(a){var c=this.options.sheet,m=c?c.options.link:!1,t=m?re({},a,{allowEmpty:!0}):a;return Te(this.key,this.style,t)},y}($t),Zr={onCreateRule:function(y,h,e){return e.parent&&e.parent.type==="keyframes"?new Qr(y,h,e):null}},en=function(){function O(h,e,a){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=h,this.style=e,this.options=a}var y=O.prototype;return y.toString=function(e){if(Array.isArray(this.style)){for(var a="",c=0;c<this.style.length;c++)a+=Te(this.at,this.style[c]),this.style[c+1]&&(a+=`
`);return a}return Te(this.at,this.style,e)},O}(),tn=/@font-face/,rn={onCreateRule:function(y,h,e){return tn.test(y)?new en(y,h,e):null}},nn=function(){function O(h,e,a){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=h,this.style=e,this.options=a}var y=O.prototype;return y.toString=function(e){return Te(this.key,this.style,e)},O}(),on={onCreateRule:function(y,h,e){return y==="@viewport"||y==="@-ms-viewport"?new nn(y,h,e):null}},an=function(){function O(h,e,a){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=h,this.value=e,this.options=a}var y=O.prototype;return y.toString=function(e){if(Array.isArray(this.value)){for(var a="",c=0;c<this.value.length;c++)a+=this.key+" "+this.value[c]+";",this.value[c+1]&&(a+=`
`);return a}return this.key+" "+this.value+";"},O}(),sn={"@charset":!0,"@import":!0,"@namespace":!0},un={onCreateRule:function(y,h,e){return y in sn?new an(y,h,e):null}},Gt=[$r,Kr,Yr,Zr,rn,on,un],fn={process:!0},zt={force:!0,process:!0},He=function(){function O(h){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=h,this.classes=h.classes,this.keyframes=h.keyframes}var y=O.prototype;return y.add=function(e,a,c){var m=this.options,t=m.parent,_=m.sheet,g=m.jss,R=m.Renderer,k=m.generateId,S=m.scoped,C=re({classes:this.classes,parent:t,sheet:_,jss:g,Renderer:R,generateId:k,scoped:S,name:e,keyframes:this.keyframes,selector:void 0},c),b=e;e in this.raw&&(b=e+"-d"+this.counter++),this.raw[b]=a,b in this.classes&&(C.selector="."+nt(this.classes[b]));var j=rt(b,a,C);if(!j)return null;this.register(j);var E=C.index===void 0?this.index.length:C.index;return this.index.splice(E,0,j),j},y.get=function(e){return this.map[e]},y.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},y.indexOf=function(e){return this.index.indexOf(e)},y.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},y.register=function(e){this.map[e.key]=e,e instanceof ot?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof st&&this.keyframes&&(this.keyframes[e.name]=e.id)},y.unregister=function(e){delete this.map[e.key],e instanceof ot?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof st&&delete this.keyframes[e.name]},y.update=function(){var e,a,c;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(e=arguments.length<=0?void 0:arguments[0],a=arguments.length<=1?void 0:arguments[1],c=arguments.length<=2?void 0:arguments[2]):(a=arguments.length<=0?void 0:arguments[0],c=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],a,c);else for(var m=0;m<this.index.length;m++)this.updateOne(this.index[m],a,c)},y.updateOne=function(e,a,c){c===void 0&&(c=fn);var m=this.options,t=m.jss.plugins,_=m.sheet;if(e.rules instanceof O){e.rules.update(a,c);return}var g=e,R=g.style;if(t.onUpdate(a,e,_,c),c.process&&R&&R!==g.style){t.onProcessStyle(g.style,g,_);for(var k in g.style){var S=g.style[k],C=R[k];S!==C&&g.prop(k,S,zt)}for(var b in R){var j=g.style[b],E=R[b];j==null&&j!==E&&g.prop(b,null,zt)}}},y.toString=function(e){for(var a="",c=this.options.sheet,m=c?c.options.link:!1,t=0;t<this.index.length;t++){var _=this.index[t],g=_.toString(e);!g&&!m||(a&&(a+=`
`),a+=g)}return a},O}(),Kt=function(){function O(h,e){this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=re({},e,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),e.Renderer&&(this.renderer=new e.Renderer(this)),this.rules=new He(this.options);for(var a in h)this.rules.add(a,h[a]);this.rules.process()}var y=O.prototype;return y.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},y.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},y.addRule=function(e,a,c){var m=this.queue;this.attached&&!m&&(this.queue=[]);var t=this.rules.add(e,a,c);return t?(this.options.jss.plugins.onProcessRule(t),this.attached?(this.deployed&&(m?m.push(t):(this.insertRule(t),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),t):(this.deployed=!1,t)):null},y.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},y.addRules=function(e,a){var c=[];for(var m in e){var t=this.addRule(m,e[m],a);t&&c.push(t)}return c},y.getRule=function(e){return this.rules.get(e)},y.deleteRule=function(e){var a=typeof e=="object"?e:this.rules.get(e);return!a||this.attached&&!a.renderable?!1:(this.rules.remove(a),this.attached&&a.renderable&&this.renderer?this.renderer.deleteRule(a.renderable):!0)},y.indexOf=function(e){return this.rules.indexOf(e)},y.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},y.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},y.updateOne=function(e,a,c){return this.rules.updateOne(e,a,c),this},y.toString=function(e){return this.rules.toString(e)},O}(),cn=function(){function O(){this.plugins={internal:[],external:[]},this.registry=void 0}var y=O.prototype;return y.onCreateRule=function(e,a,c){for(var m=0;m<this.registry.onCreateRule.length;m++){var t=this.registry.onCreateRule[m](e,a,c);if(t)return t}return null},y.onProcessRule=function(e){if(!e.isProcessed){for(var a=e.options.sheet,c=0;c<this.registry.onProcessRule.length;c++)this.registry.onProcessRule[c](e,a);e.style&&this.onProcessStyle(e.style,e,a),e.isProcessed=!0}},y.onProcessStyle=function(e,a,c){for(var m=0;m<this.registry.onProcessStyle.length;m++)a.style=this.registry.onProcessStyle[m](a.style,a,c)},y.onProcessSheet=function(e){for(var a=0;a<this.registry.onProcessSheet.length;a++)this.registry.onProcessSheet[a](e)},y.onUpdate=function(e,a,c,m){for(var t=0;t<this.registry.onUpdate.length;t++)this.registry.onUpdate[t](e,a,c,m)},y.onChangeValue=function(e,a,c){for(var m=e,t=0;t<this.registry.onChangeValue.length;t++)m=this.registry.onChangeValue[t](m,a,c);return m},y.use=function(e,a){a===void 0&&(a={queue:"external"});var c=this.plugins[a.queue];c.indexOf(e)===-1&&(c.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(m,t){for(var _ in t)_ in m&&m[_].push(t[_]);return m},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},O}(),ln=function(){function O(){this.registry=[]}var y=O.prototype;return y.add=function(e){var a=this.registry,c=e.options.index;if(a.indexOf(e)===-1){if(a.length===0||c>=this.index){a.push(e);return}for(var m=0;m<a.length;m++)if(a[m].options.index>c){a.splice(m,0,e);return}}},y.reset=function(){this.registry=[]},y.remove=function(e){var a=this.registry.indexOf(e);this.registry.splice(a,1)},y.toString=function(e){for(var a=e===void 0?{}:e,c=a.attached,m=Cr(a,["attached"]),t="",_=0;_<this.registry.length;_++){var g=this.registry[_];c!=null&&g.attached!==c||(t&&(t+=`
`),t+=g.toString(m))}return t},Dt(O,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),O}(),xe=new ln,ft=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"&&window.Math===Math?window:typeof self!="undefined"&&self.Math===Math?self:Function("return this")(),ct="2f1acc6c3a606b082e5eef5e54414ffb";ft[ct]==null&&(ft[ct]=0);var qt=ft[ct]++,Jt=function(y){y===void 0&&(y={});var h=0,e=function(c,m){h+=1;var t="",_="";return m&&(m.options.classNamePrefix&&(_=m.options.classNamePrefix),m.options.jss.id!=null&&(t=String(m.options.jss.id))),y.minify?""+(_||"c")+qt+t+h:_+c.key+"-"+qt+(t?"-"+t:"")+"-"+h};return e},Xt=function(y){var h;return function(){return h||(h=y()),h}},dn=function(y,h){try{return y.attributeStyleMap?y.attributeStyleMap.get(h):y.style.getPropertyValue(h)}catch(e){return""}},pn=function(y,h,e){try{var a=e;if(Array.isArray(e)&&(a=ge(e,!0),e[e.length-1]==="!important"))return y.style.setProperty(h,a,"important"),!0;y.attributeStyleMap?y.attributeStyleMap.set(h,a):y.style.setProperty(h,a)}catch(c){return!1}return!0},hn=function(y,h){try{y.attributeStyleMap?y.attributeStyleMap.delete(h):y.style.removeProperty(h)}catch(e){}},yn=function(y,h){return y.selectorText=h,y.selectorText===h},Yt=Xt(function(){return document.querySelector("head")});function vn(O,y){for(var h=0;h<O.length;h++){var e=O[h];if(e.attached&&e.options.index>y.index&&e.options.insertionPoint===y.insertionPoint)return e}return null}function mn(O,y){for(var h=O.length-1;h>=0;h--){var e=O[h];if(e.attached&&e.options.insertionPoint===y.insertionPoint)return e}return null}function gn(O){for(var y=Yt(),h=0;h<y.childNodes.length;h++){var e=y.childNodes[h];if(e.nodeType===8&&e.nodeValue.trim()===O)return e}return null}function bn(O){var y=xe.registry;if(y.length>0){var h=vn(y,O);if(h&&h.renderer)return{parent:h.renderer.element.parentNode,node:h.renderer.element};if(h=mn(y,O),h&&h.renderer)return{parent:h.renderer.element.parentNode,node:h.renderer.element.nextSibling}}var e=O.insertionPoint;if(e&&typeof e=="string"){var a=gn(e);if(a)return{parent:a.parentNode,node:a.nextSibling}}return!1}function _n(O,y){var h=y.insertionPoint,e=bn(y);if(e!==!1&&e.parent){e.parent.insertBefore(O,e.node);return}if(h&&typeof h.nodeType=="number"){var a=h,c=a.parentNode;c&&c.insertBefore(O,a.nextSibling);return}Yt().appendChild(O)}var Sn=Xt(function(){var O=document.querySelector('meta[property="csp-nonce"]');return O?O.getAttribute("content"):null}),Qt=function(y,h,e){try{if("insertRule"in y){var a=y;a.insertRule(h,e)}else if("appendRule"in y){var c=y;c.appendRule(h)}}catch(m){return!1}return y.cssRules[e]},Zt=function(y,h){var e=y.cssRules.length;return h===void 0||h>e?e:h},wn=function(){var y=document.createElement("style");return y.textContent=`
`,y},On=function(){function O(h){this.getPropertyValue=dn,this.setProperty=pn,this.removeProperty=hn,this.setSelector=yn,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],h&&xe.add(h),this.sheet=h;var e=this.sheet?this.sheet.options:{},a=e.media,c=e.meta,m=e.element;this.element=m||wn(),this.element.setAttribute("data-jss",""),a&&this.element.setAttribute("media",a),c&&this.element.setAttribute("data-meta",c);var t=Sn();t&&this.element.setAttribute("nonce",t)}var y=O.prototype;return y.attach=function(){if(!(this.element.parentNode||!this.sheet)){_n(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},y.detach=function(){if(!!this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},y.deploy=function(){var e=this.sheet;if(!!e){if(e.options.link){this.insertRules(e.rules);return}this.element.textContent=`
`+e.toString()+`
`}},y.insertRules=function(e,a){for(var c=0;c<e.index.length;c++)this.insertRule(e.index[c],c,a)},y.insertRule=function(e,a,c){if(c===void 0&&(c=this.element.sheet),e.rules){var m=e,t=c;if(e.type==="conditional"||e.type==="keyframes"){var _=Zt(c,a);if(t=Qt(c,m.toString({children:!1}),_),t===!1)return!1;this.refCssRule(e,_,t)}return this.insertRules(m.rules,t),t}var g=e.toString();if(!g)return!1;var R=Zt(c,a),k=Qt(c,g,R);return k===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(e,R,k),k)},y.refCssRule=function(e,a,c){e.renderable=c,e.options.parent instanceof Kt&&(this.cssRules[a]=c)},y.deleteRule=function(e){var a=this.element.sheet,c=this.indexOf(e);return c===-1?!1:(a.deleteRule(c),this.cssRules.splice(c,1),!0)},y.indexOf=function(e){return this.cssRules.indexOf(e)},y.replaceRule=function(e,a){var c=this.indexOf(e);return c===-1?!1:(this.element.sheet.deleteRule(c),this.cssRules.splice(c,1),this.insertRule(a,c))},y.getRules=function(){return this.element.sheet.cssRules},O}(),Pn=0,kn=function(){function O(h){this.id=Pn++,this.version="10.7.1",this.plugins=new cn,this.options={id:{minify:!1},createGenerateId:Jt,Renderer:Ae?On:null,plugins:[]},this.generateId=Jt({minify:!1});for(var e=0;e<Gt.length;e++)this.plugins.use(Gt[e],{queue:"internal"});this.setup(h)}var y=O.prototype;return y.setup=function(e){return e===void 0&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=re({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),e.insertionPoint!=null&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},y.createStyleSheet=function(e,a){a===void 0&&(a={});var c=a,m=c.index;typeof m!="number"&&(m=xe.index===0?0:xe.index+1);var t=new Kt(e,re({},a,{jss:this,generateId:a.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:m}));return this.plugins.onProcessSheet(t),t},y.removeStyleSheet=function(e){return e.detach(),xe.remove(e),this},y.createRule=function(e,a,c){if(a===void 0&&(a={}),c===void 0&&(c={}),typeof e=="object")return this.createRule(void 0,e,a);var m=re({},c,{name:e,jss:this,Renderer:this.options.Renderer});m.generateId||(m.generateId=this.generateId),m.classes||(m.classes={}),m.keyframes||(m.keyframes={});var t=rt(e,a,m);return t&&this.plugins.onProcessRule(t),t},y.use=function(){for(var e=this,a=arguments.length,c=new Array(a),m=0;m<a;m++)c[m]=arguments[m];return c.forEach(function(t){e.plugins.use(t)}),this},O}();function er(O){var y=null;for(var h in O){var e=O[h],a=typeof e;if(a==="function")y||(y={}),y[h]=e;else if(a==="object"&&e!==null&&!Array.isArray(e)){var c=er(e);c&&(y||(y={}),y[h]=c)}}return y}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */var lt=typeof CSS=="object"&&CSS!=null&&"number"in CSS,tr=function(y){return new kn(y)};tr();var rr=Date.now(),dt="fnValues"+rr,pt="fnStyle"+ ++rr,jn=function(){return{onCreateRule:function(h,e,a){if(typeof e!="function")return null;var c=rt(h,{},a);return c[pt]=e,c},onProcessStyle:function(h,e){if(dt in e||pt in e)return h;var a={};for(var c in h){var m=h[c];typeof m=="function"&&(delete h[c],a[c]=m)}return e[dt]=a,h},onUpdate:function(h,e,a,c){var m=e,t=m[pt];t&&(m.style=t(h)||{});var _=m[dt];if(_)for(var g in _)m.prop(g,_[g](h),c)}}},En=jn,he="@global",ht="@global ",Rn=function(){function O(h,e,a){this.type="global",this.at=he,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=h,this.options=a,this.rules=new He(re({},a,{parent:this}));for(var c in e)this.rules.add(c,e[c]);this.rules.process()}var y=O.prototype;return y.getRule=function(e){return this.rules.get(e)},y.addRule=function(e,a,c){var m=this.rules.add(e,a,c);return m&&this.options.jss.plugins.onProcessRule(m),m},y.indexOf=function(e){return this.rules.indexOf(e)},y.toString=function(){return this.rules.toString()},O}(),An=function(){function O(h,e,a){this.type="global",this.at=he,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=h,this.options=a;var c=h.substr(ht.length);this.rule=a.jss.createRule(c,e,re({},a,{parent:this}))}var y=O.prototype;return y.toString=function(e){return this.rule?this.rule.toString(e):""},O}(),Cn=/\s*,\s*/g;function nr(O,y){for(var h=O.split(Cn),e="",a=0;a<h.length;a++)e+=y+" "+h[a].trim(),h[a+1]&&(e+=", ");return e}function Tn(O,y){var h=O.options,e=O.style,a=e?e[he]:null;if(!!a){for(var c in a)y.addRule(c,a[c],re({},h,{selector:nr(c,O.selector)}));delete e[he]}}function xn(O,y){var h=O.options,e=O.style;for(var a in e)if(!(a[0]!=="@"||a.substr(0,he.length)!==he)){var c=nr(a.substr(he.length),O.selector);y.addRule(c,e[a],re({},h,{selector:c})),delete e[a]}}function In(){function O(h,e,a){if(!h)return null;if(h===he)return new Rn(h,e,a);if(h[0]==="@"&&h.substr(0,ht.length)===ht)return new An(h,e,a);var c=a.parent;return c&&(c.type==="global"||c.options.parent&&c.options.parent.type==="global")&&(a.scoped=!1),a.scoped===!1&&(a.selector=h),null}function y(h,e){h.type!=="style"||!e||(Tn(h,e),xn(h,e))}return{onCreateRule:O,onProcessRule:y}}var or=/\s*,\s*/g,Mn=/&/g,Nn=/\$([\w-]+)/g;function Fn(){function O(a,c){return function(m,t){var _=a.getRule(t)||c&&c.getRule(t);return _?(_=_,_.selector):t}}function y(a,c){for(var m=c.split(or),t=a.split(or),_="",g=0;g<m.length;g++)for(var R=m[g],k=0;k<t.length;k++){var S=t[k];_&&(_+=", "),_+=S.indexOf("&")!==-1?S.replace(Mn,R):R+" "+S}return _}function h(a,c,m){if(m)return re({},m,{index:m.index+1});var t=a.options.nestingLevel;t=t===void 0?1:t+1;var _=re({},a.options,{nestingLevel:t,index:c.indexOf(a)+1});return delete _.name,_}function e(a,c,m){if(c.type!=="style")return a;var t=c,_=t.options.parent,g,R;for(var k in a){var S=k.indexOf("&")!==-1,C=k[0]==="@";if(!(!S&&!C)){if(g=h(t,_,g),S){var b=y(k,t.selector);R||(R=O(_,m)),b=b.replace(Nn,R),_.addRule(b,a[k],re({},g,{selector:b}))}else C&&_.addRule(k,{},g).addRule(t.key,a[k],{selector:t.selector});delete a[k]}}return a}return{onProcessStyle:e}}var Dn=/[A-Z]/g,Bn=/^ms-/,yt={};function Ln(O){return"-"+O.toLowerCase()}function ir(O){if(yt.hasOwnProperty(O))return yt[O];var y=O.replace(Dn,Ln);return yt[O]=Bn.test(y)?"-"+y:y}function Ve(O){var y={};for(var h in O){var e=h.indexOf("--")===0?h:ir(h);y[e]=O[h]}return O.fallbacks&&(Array.isArray(O.fallbacks)?y.fallbacks=O.fallbacks.map(Ve):y.fallbacks=Ve(O.fallbacks)),y}function Un(){function O(h){if(Array.isArray(h)){for(var e=0;e<h.length;e++)h[e]=Ve(h[e]);return h}return Ve(h)}function y(h,e,a){if(e.indexOf("--")===0)return h;var c=ir(e);return e===c?h:(a.prop(c,h),null)}return{onProcessStyle:O,onChangeValue:y}}var W=lt&&CSS?CSS.px:"px",$e=lt&&CSS?CSS.ms:"ms",we=lt&&CSS?CSS.percent:"%",Hn={"animation-delay":$e,"animation-duration":$e,"background-position":W,"background-position-x":W,"background-position-y":W,"background-size":W,border:W,"border-bottom":W,"border-bottom-left-radius":W,"border-bottom-right-radius":W,"border-bottom-width":W,"border-left":W,"border-left-width":W,"border-radius":W,"border-right":W,"border-right-width":W,"border-top":W,"border-top-left-radius":W,"border-top-right-radius":W,"border-top-width":W,"border-width":W,"border-block":W,"border-block-end":W,"border-block-end-width":W,"border-block-start":W,"border-block-start-width":W,"border-block-width":W,"border-inline":W,"border-inline-end":W,"border-inline-end-width":W,"border-inline-start":W,"border-inline-start-width":W,"border-inline-width":W,"border-start-start-radius":W,"border-start-end-radius":W,"border-end-start-radius":W,"border-end-end-radius":W,margin:W,"margin-bottom":W,"margin-left":W,"margin-right":W,"margin-top":W,"margin-block":W,"margin-block-end":W,"margin-block-start":W,"margin-inline":W,"margin-inline-end":W,"margin-inline-start":W,padding:W,"padding-bottom":W,"padding-left":W,"padding-right":W,"padding-top":W,"padding-block":W,"padding-block-end":W,"padding-block-start":W,"padding-inline":W,"padding-inline-end":W,"padding-inline-start":W,"mask-position-x":W,"mask-position-y":W,"mask-size":W,height:W,width:W,"min-height":W,"max-height":W,"min-width":W,"max-width":W,bottom:W,left:W,top:W,right:W,inset:W,"inset-block":W,"inset-block-end":W,"inset-block-start":W,"inset-inline":W,"inset-inline-end":W,"inset-inline-start":W,"box-shadow":W,"text-shadow":W,"column-gap":W,"column-rule":W,"column-rule-width":W,"column-width":W,"font-size":W,"font-size-delta":W,"letter-spacing":W,"text-decoration-thickness":W,"text-indent":W,"text-stroke":W,"text-stroke-width":W,"word-spacing":W,motion:W,"motion-offset":W,outline:W,"outline-offset":W,"outline-width":W,perspective:W,"perspective-origin-x":we,"perspective-origin-y":we,"transform-origin":we,"transform-origin-x":we,"transform-origin-y":we,"transform-origin-z":we,"transition-delay":$e,"transition-duration":$e,"vertical-align":W,"flex-basis":W,"shape-margin":W,size:W,gap:W,grid:W,"grid-gap":W,"row-gap":W,"grid-row-gap":W,"grid-column-gap":W,"grid-template-rows":W,"grid-template-columns":W,"grid-auto-rows":W,"grid-auto-columns":W,"box-shadow-x":W,"box-shadow-y":W,"box-shadow-blur":W,"box-shadow-spread":W,"font-line-height":W,"text-shadow-x":W,"text-shadow-y":W,"text-shadow-blur":W};function ar(O){var y=/(-[a-z])/g,h=function(m){return m[1].toUpperCase()},e={};for(var a in O)e[a]=O[a],e[a.replace(y,h)]=O[a];return e}var Vn=ar(Hn);function Ie(O,y,h){if(y==null)return y;if(Array.isArray(y))for(var e=0;e<y.length;e++)y[e]=Ie(O,y[e],h);else if(typeof y=="object")if(O==="fallbacks")for(var a in y)y[a]=Ie(a,y[a],h);else for(var c in y)y[c]=Ie(O+"-"+c,y[c],h);else if(typeof y=="number"&&isNaN(y)===!1){var m=h[O]||Vn[O];return m&&!(y===0&&m===W)?typeof m=="function"?m(y).toString():""+y+m:y.toString()}return y}function $n(O){O===void 0&&(O={});var y=ar(O);function h(a,c){if(c.type!=="style")return a;for(var m in a)a[m]=Ie(m,a[m],y);return a}function e(a,c){return Ie(c,a,y)}return{onProcessStyle:h,onChangeValue:e}}var Me="",vt="",sr="",ur="",Wn=Ae&&"ontouchstart"in document.documentElement;if(Ae){var mt={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Gn=document.createElement("p"),gt=Gn.style,zn="Transform";for(var bt in mt)if(bt+zn in gt){Me=bt,vt=mt[bt];break}Me==="Webkit"&&"msHyphens"in gt&&(Me="ms",vt=mt.ms,ur="edge"),Me==="Webkit"&&"-apple-trailing-word"in gt&&(sr="apple")}var Q={js:Me,css:vt,vendor:sr,browser:ur,isTouch:Wn};function Kn(O){return O[1]==="-"||Q.js==="ms"?O:"@"+Q.css+"keyframes"+O.substr(10)}var qn={noPrefill:["appearance"],supportedProperty:function(y){return y!=="appearance"?!1:Q.js==="ms"?"-webkit-"+y:Q.css+y}},Jn={noPrefill:["color-adjust"],supportedProperty:function(y){return y!=="color-adjust"?!1:Q.js==="Webkit"?Q.css+"print-"+y:y}},Xn=/[-\s]+(.)?/g;function Yn(O,y){return y?y.toUpperCase():""}function _t(O){return O.replace(Xn,Yn)}function ye(O){return _t("-"+O)}var Qn={noPrefill:["mask"],supportedProperty:function(y,h){if(!/^mask/.test(y))return!1;if(Q.js==="Webkit"){var e="mask-image";if(_t(e)in h)return y;if(Q.js+ye(e)in h)return Q.css+y}return y}},Zn={noPrefill:["text-orientation"],supportedProperty:function(y){return y!=="text-orientation"?!1:Q.vendor==="apple"&&!Q.isTouch?Q.css+y:y}},eo={noPrefill:["transform"],supportedProperty:function(y,h,e){return y!=="transform"?!1:e.transform?y:Q.css+y}},to={noPrefill:["transition"],supportedProperty:function(y,h,e){return y!=="transition"?!1:e.transition?y:Q.css+y}},ro={noPrefill:["writing-mode"],supportedProperty:function(y){return y!=="writing-mode"?!1:Q.js==="Webkit"||Q.js==="ms"&&Q.browser!=="edge"?Q.css+y:y}},no={noPrefill:["user-select"],supportedProperty:function(y){return y!=="user-select"?!1:Q.js==="Moz"||Q.js==="ms"||Q.vendor==="apple"?Q.css+y:y}},oo={supportedProperty:function(y,h){if(!/^break-/.test(y))return!1;if(Q.js==="Webkit"){var e="WebkitColumn"+ye(y);return e in h?Q.css+"column-"+y:!1}if(Q.js==="Moz"){var a="page"+ye(y);return a in h?"page-"+y:!1}return!1}},io={supportedProperty:function(y,h){if(!/^(border|margin|padding)-inline/.test(y))return!1;if(Q.js==="Moz")return y;var e=y.replace("-inline","");return Q.js+ye(e)in h?Q.css+e:!1}},ao={supportedProperty:function(y,h){return _t(y)in h?y:!1}},so={supportedProperty:function(y,h){var e=ye(y);return y[0]==="-"||y[0]==="-"&&y[1]==="-"?y:Q.js+e in h?Q.css+y:Q.js!=="Webkit"&&"Webkit"+e in h?"-webkit-"+y:!1}},uo={supportedProperty:function(y){return y.substring(0,11)!=="scroll-snap"?!1:Q.js==="ms"?""+Q.css+y:y}},fo={supportedProperty:function(y){return y!=="overscroll-behavior"?!1:Q.js==="ms"?Q.css+"scroll-chaining":y}},co={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},lo={supportedProperty:function(y,h){var e=co[y];return e&&Q.js+ye(e)in h?Q.css+e:!1}},fr={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},po=Object.keys(fr),ho=function(y){return Q.css+y},yo={supportedProperty:function(y,h,e){var a=e.multiple;if(po.indexOf(y)>-1){var c=fr[y];if(!Array.isArray(c))return Q.js+ye(c)in h?Q.css+c:!1;if(!a)return!1;for(var m=0;m<c.length;m++)if(!(Q.js+ye(c[0])in h))return!1;return c.map(ho)}return!1}},cr=[qn,Jn,Qn,Zn,eo,to,ro,no,oo,io,ao,so,uo,fo,lo,yo],lr=cr.filter(function(O){return O.supportedProperty}).map(function(O){return O.supportedProperty}),vo=cr.filter(function(O){return O.noPrefill}).reduce(function(O,y){return O.push.apply(O,Nr(y.noPrefill)),O},[]),Ne,be={};if(Ae){Ne=document.createElement("p");var St=window.getComputedStyle(document.documentElement,"");for(var wt in St)isNaN(wt)||(be[St[wt]]=St[wt]);vo.forEach(function(O){return delete be[O]})}function Ot(O,y){if(y===void 0&&(y={}),!Ne)return O;if(be[O]!=null)return be[O];(O==="transition"||O==="transform")&&(y[O]=O in Ne.style);for(var h=0;h<lr.length&&(be[O]=lr[h](O,Ne.style,y),!be[O]);h++);try{Ne.style[O]=""}catch(e){return!1}return be[O]}var Oe={},mo={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},go=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,ve;function bo(O,y,h){if(y==="var")return"var";if(y==="all")return"all";if(h==="all")return", all";var e=y?Ot(y):", "+Ot(h);return e||y||h}Ae&&(ve=document.createElement("p"));function dr(O,y){var h=y;if(!ve||O==="content")return y;if(typeof h!="string"||!isNaN(parseInt(h,10)))return h;var e=O+h;if(Oe[e]!=null)return Oe[e];try{ve.style[O]=h}catch(a){return Oe[e]=!1,!1}if(mo[O])h=h.replace(go,bo);else if(ve.style[O]===""&&(h=Q.css+h,h==="-ms-flex"&&(ve.style[O]="-ms-flexbox"),ve.style[O]=h,ve.style[O]===""))return Oe[e]=!1,!1;return ve.style[O]="",Oe[e]=h,Oe[e]}function _o(){function O(a){if(a.type==="keyframes"){var c=a;c.at=Kn(c.at)}}function y(a){for(var c in a){var m=a[c];if(c==="fallbacks"&&Array.isArray(m)){a[c]=m.map(y);continue}var t=!1,_=Ot(c);_&&_!==c&&(t=!0);var g=!1,R=dr(_,ge(m));R&&R!==m&&(g=!0),(t||g)&&(t&&delete a[c],a[_||c]=R||m)}return a}function h(a,c){return c.type!=="style"?a:y(a)}function e(a,c){return dr(c,ge(a))||a}return{onProcessRule:O,onProcessStyle:h,onChangeValue:e}}function So(){var O=function(h,e){return h.length===e.length?h>e?1:-1:h.length-e.length};return{onProcessStyle:function(h,e){if(e.type!=="style")return h;for(var a={},c=Object.keys(h).sort(O),m=0;m<c.length;m++)a[c[m]]=h[c[m]];return a}}}function wo(){return{plugins:[En(),In(),Fn(),Un(),$n(),typeof window=="undefined"?null:_o(),So()]}}function pr(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=O.baseClasses,h=O.newClasses;if(O.Component,!h)return y;var e=re({},y);return Object.keys(h).forEach(function(a){h[a]&&(e[a]="".concat(y[a]," ").concat(h[a]))}),e}var Oo={set:function(y,h,e,a){var c=y.get(h);c||(c=new Map,y.set(h,c)),c.set(e,a)},get:function(y,h,e){var a=y.get(h);return a?a.get(e):void 0},delete:function(y,h,e){var a=y.get(h);a.delete(e)}},Pe=Oo,Po=fe.createContext(null),ko=Po;function hr(){var O=fe.useContext(ko);return O}var jo=tr(wo()),Eo=Lr(),Ro=new Map,Ao={disableGeneration:!1,generateClassName:Eo,jss:jo,sheetsCache:null,sheetsManager:Ro,sheetsRegistry:null},Co=fe.createContext(Ao),yr=-1e9;function To(){return yr+=1,yr}var xo={},Io=xo;function Mo(O){var y=typeof O=="function";return{create:function(e,a){var c;try{c=y?O(e):O}catch(_){throw _}if(!a||!e.overrides||!e.overrides[a])return c;var m=e.overrides[a],t=re({},c);return Object.keys(m).forEach(function(_){t[_]=Pr(t[_],m[_])}),t},options:{}}}function No(O,y,h){var e=O.state,a=O.stylesOptions;if(a.disableGeneration)return y||{};e.cacheClasses||(e.cacheClasses={value:null,lastProp:null,lastJSS:{}});var c=!1;return e.classes!==e.cacheClasses.lastJSS&&(e.cacheClasses.lastJSS=e.classes,c=!0),y!==e.cacheClasses.lastProp&&(e.cacheClasses.lastProp=y,c=!0),c&&(e.cacheClasses.value=pr({baseClasses:e.cacheClasses.lastJSS,newClasses:y,Component:h})),e.cacheClasses.value}function Fo(O,y){var h=O.state,e=O.theme,a=O.stylesOptions,c=O.stylesCreator,m=O.name;if(!a.disableGeneration){var t=Pe.get(a.sheetsManager,c,e);t||(t={refs:0,staticSheet:null,dynamicStyles:null},Pe.set(a.sheetsManager,c,e,t));var _=re({},c.options,a,{theme:e,flip:typeof a.flip=="boolean"?a.flip:e.direction==="rtl"});_.generateId=_.serverGenerateClassName||_.generateClassName;var g=a.sheetsRegistry;if(t.refs===0){var R;a.sheetsCache&&(R=Pe.get(a.sheetsCache,c,e));var k=c.create(e,m);R||(R=a.jss.createStyleSheet(k,re({link:!1},_)),R.attach(),a.sheetsCache&&Pe.set(a.sheetsCache,c,e,R)),g&&g.add(R),t.staticSheet=R,t.dynamicStyles=er(k)}if(t.dynamicStyles){var S=a.jss.createStyleSheet(t.dynamicStyles,re({link:!0},_));S.update(y),S.attach(),h.dynamicSheet=S,h.classes=pr({baseClasses:t.staticSheet.classes,newClasses:S.classes}),g&&g.add(S)}else h.classes=t.staticSheet.classes;t.refs+=1}}function Do(O,y){var h=O.state;h.dynamicSheet&&h.dynamicSheet.update(y)}function Bo(O){var y=O.state,h=O.theme,e=O.stylesOptions,a=O.stylesCreator;if(!e.disableGeneration){var c=Pe.get(e.sheetsManager,a,h);c.refs-=1;var m=e.sheetsRegistry;c.refs===0&&(Pe.delete(e.sheetsManager,a,h),e.jss.removeStyleSheet(c.staticSheet),m&&m.remove(c.staticSheet)),y.dynamicSheet&&(e.jss.removeStyleSheet(y.dynamicSheet),m&&m.remove(y.dynamicSheet))}}function Lo(O,y){var h=fe.useRef([]),e,a=fe.useMemo(function(){return{}},y);h.current!==a&&(h.current=a,e=O()),fe.useEffect(function(){return function(){e&&e()}},[a])}function Uo(O){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=y.name,e=y.classNamePrefix,a=y.Component,c=y.defaultTheme,m=c===void 0?Io:c,t=et(y,["name","classNamePrefix","Component","defaultTheme"]),_=Mo(O),g=h||e||"makeStyles";_.options={index:To(),name:h,meta:g,classNamePrefix:g};var R=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=hr()||m,b=re({},fe.useContext(Co),t),j=fe.useRef(),E=fe.useRef();Lo(function(){var M={name:h,state:{},stylesCreator:_,stylesOptions:b,theme:C};return Fo(M,S),E.current=!1,j.current=M,function(){Bo(M)}},[C,_]),fe.useEffect(function(){E.current&&Do(j.current,S),E.current=!0});var N=No(j.current,S.classes,a);return N};return R}function vr(O){var y,h,e="";if(typeof O=="string"||typeof O=="number")e+=O;else if(typeof O=="object")if(Array.isArray(O))for(y=0;y<O.length;y++)O[y]&&(h=vr(O[y]))&&(e&&(e+=" "),e+=h);else for(y in O)O[y]&&(e&&(e+=" "),e+=y);return e}function Xo(){for(var O=0,y,h,e="";O<arguments.length;)(y=arguments[O++])&&(h=vr(y))&&(e&&(e+=" "),e+=h);return e}var Ho=function(y){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(e){var a=h.defaultTheme,c=h.withTheme,m=c===void 0?!1:c,t=h.name,_=et(h,["defaultTheme","withTheme","name"]),g=t,R=Uo(y,re({defaultTheme:a,Component:e,name:t||e.displayName,classNamePrefix:g},_)),k=fe.forwardRef(function(C,b){C.classes;var j=C.innerRef,E=et(C,["classes","innerRef"]),N=R(re({},e.defaultProps,C)),M,x=E;return(typeof t=="string"||m)&&(M=hr()||a,t&&(x=Ur({theme:M,name:t,props:E})),m&&!x.theme&&(x.theme=M)),fe.createElement(e,re({ref:j||b,classes:N},x))});return kr(k,e),k}},Vo=Ho,$o=jr(),Wo=$o;function Yo(O,y){return Vo(O,re({defaultTheme:Wo},y))}const de={showAlert:(O,y)=>({type:"SHOW_NOTIFICATION",alertType:O,message:y}),hideAlert:()=>({type:"HIDE_NOTIFICATION",alertType:"none",message:""})};let We;const Fe={alertSuccess:O=>y=>{y(de.showAlert("success",O))},alertWarning:O=>y=>{y(de.showAlert("warning",O))},alertError:O=>y=>{y(de.showAlert("error",O))},alertCancel:()=>O=>{O(de.hideAlert())},clearTimer:()=>{We&&(clearTimeout(We),We=0)},restartTimer:O=>{Fe.clearTimer(),We=setTimeout(()=>O(de.hideAlert()),Re.publicRuntimeConfig?.alert?.timeout||1e4)},dispatchAlertSuccess:(O,y)=>(Fe.restartTimer(O),O(de.showAlert("success",y))),dispatchAlertWarning:(O,y)=>(Fe.restartTimer(O),O(de.showAlert("warning",y))),dispatchAlertError:(O,y)=>(Fe.restartTimer(O),O(de.showAlert("error",y))),dispatchAlertCancel:O=>(Fe.clearTimer(),O(de.hideAlert()))};var mr={exports:{}};/*!
 * Socket.IO v4.2.0
 * (c) 2014-2021 Guillermo Rauch
 * Released under the MIT License.
 */(function(O,y){(function(e,a){O.exports=a()})(self,function(){return function(h){var e={};function a(c){if(e[c])return e[c].exports;var m=e[c]={i:c,l:!1,exports:{}};return h[c].call(m.exports,m,m.exports,a),m.l=!0,m.exports}return a.m=h,a.c=e,a.d=function(c,m,t){a.o(c,m)||Object.defineProperty(c,m,{enumerable:!0,get:t})},a.r=function(c){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},a.t=function(c,m){if(m&1&&(c=a(c)),m&8||m&4&&typeof c=="object"&&c&&c.__esModule)return c;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:c}),m&2&&typeof c!="string")for(var _ in c)a.d(t,_,function(g){return c[g]}.bind(null,_));return t},a.n=function(c){var m=c&&c.__esModule?function(){return c.default}:function(){return c};return a.d(m,"a",m),m},a.o=function(c,m){return Object.prototype.hasOwnProperty.call(c,m)},a.p="",a(a.s="./build/index.js")}({"./build/index.js":function(h,e,a){function c(b){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(E){return typeof E}:c=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},c(b)}Object.defineProperty(e,"__esModule",{value:!0}),e.io=e.Socket=e.Manager=e.protocol=void 0;var m=a("./build/url.js"),t=a("./build/manager.js"),_=a("./node_modules/debug/src/browser.js")("socket.io-client");h.exports=e=R;var g=e.managers={};function R(b,j){c(b)==="object"&&(j=b,b=void 0),j=j||{};var E=(0,m.url)(b,j.path||"/socket.io"),N=E.source,M=E.id,x=E.path,I=g[M]&&x in g[M].nsps,A=j.forceNew||j["force new connection"]||j.multiplex===!1||I,f;return A?(_("ignoring socket cache for %s",N),f=new t.Manager(N,j)):(g[M]||(_("new io instance for %s",N),g[M]=new t.Manager(N,j)),f=g[M]),E.query&&!j.query&&(j.query=E.queryKey),f.socket(E.path,j)}e.io=R;var k=a("./node_modules/socket.io-parser/dist/index.js");Object.defineProperty(e,"protocol",{enumerable:!0,get:function(){return k.protocol}}),e.connect=R;var S=a("./build/manager.js");Object.defineProperty(e,"Manager",{enumerable:!0,get:function(){return S.Manager}});var C=a("./build/socket.js");Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return C.Socket}}),e.default=R},"./build/manager.js":function(h,e,a){function c(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(u){return typeof u}:c=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},c(d)}function m(d,w){if(!(d instanceof w))throw new TypeError("Cannot call a class as a function")}function t(d,w){for(var u=0;u<w.length;u++){var r=w[u];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(d,r.key,r)}}function _(d,w,u){return w&&t(d.prototype,w),u&&t(d,u),d}function g(d,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(w&&w.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),w&&R(d,w)}function R(d,w){return R=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},R(d,w)}function k(d){var w=b();return function(){var r=j(d),o;if(w){var i=j(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return S(this,o)}}function S(d,w){if(w&&(c(w)==="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(d)}function C(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function b(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(d){return!1}}function j(d){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},j(d)}Object.defineProperty(e,"__esModule",{value:!0}),e.Manager=void 0;var E=a("./node_modules/engine.io-client/lib/index.js"),N=a("./node_modules/engine.io-client/lib/util.js"),M=a("./build/socket.js"),x=a("./node_modules/socket.io-parser/dist/index.js"),I=a("./build/on.js"),A=a("./node_modules/backo2/index.js"),f=a("./build/typed-events.js"),l=a("./node_modules/debug/src/browser.js")("socket.io-client:manager"),s=function(d){g(u,d);var w=k(u);function u(r,o){var i;m(this,u);var n;i=w.call(this),i.nsps={},i.subs=[],r&&c(r)==="object"&&(o=r,r=void 0),o=o||{},o.path=o.path||"/socket.io",i.opts=o,(0,N.installTimerFunctions)(C(i),o),i.reconnection(o.reconnection!==!1),i.reconnectionAttempts(o.reconnectionAttempts||1/0),i.reconnectionDelay(o.reconnectionDelay||1e3),i.reconnectionDelayMax(o.reconnectionDelayMax||5e3),i.randomizationFactor((n=o.randomizationFactor)!==null&&n!==void 0?n:.5),i.backoff=new A({min:i.reconnectionDelay(),max:i.reconnectionDelayMax(),jitter:i.randomizationFactor()}),i.timeout(o.timeout==null?2e4:o.timeout),i._readyState="closed",i.uri=r;var p=o.parser||x;return i.encoder=new p.Encoder,i.decoder=new p.Decoder,i._autoConnect=o.autoConnect!==!1,i._autoConnect&&i.open(),i}return _(u,[{key:"reconnection",value:function(o){return arguments.length?(this._reconnection=!!o,this):this._reconnection}},{key:"reconnectionAttempts",value:function(o){return o===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=o,this)}},{key:"reconnectionDelay",value:function(o){var i;return o===void 0?this._reconnectionDelay:(this._reconnectionDelay=o,(i=this.backoff)===null||i===void 0||i.setMin(o),this)}},{key:"randomizationFactor",value:function(o){var i;return o===void 0?this._randomizationFactor:(this._randomizationFactor=o,(i=this.backoff)===null||i===void 0||i.setJitter(o),this)}},{key:"reconnectionDelayMax",value:function(o){var i;return o===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=o,(i=this.backoff)===null||i===void 0||i.setMax(o),this)}},{key:"timeout",value:function(o){return arguments.length?(this._timeout=o,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}},{key:"open",value:function(o){var i=this;if(l("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=E(this.uri,this.opts);var n=this.engine,p=this;this._readyState="opening",this.skipReconnect=!1;var v=(0,I.on)(n,"open",function(){p.onopen(),o&&o()}),P=(0,I.on)(n,"error",function(F){l("error"),p.cleanup(),p._readyState="closed",i.emitReserved("error",F),o?o(F):p.maybeReconnectOnOpen()});if(this._timeout!==!1){var T=this._timeout;l("connect attempt will timeout after %d",T),T===0&&v();var D=this.setTimeoutFn(function(){l("connect attempt timed out after %d",T),v(),n.close(),n.emit("error",new Error("timeout"))},T);this.opts.autoUnref&&D.unref(),this.subs.push(function(){clearTimeout(D)})}return this.subs.push(v),this.subs.push(P),this}},{key:"connect",value:function(o){return this.open(o)}},{key:"onopen",value:function(){l("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");var o=this.engine;this.subs.push((0,I.on)(o,"ping",this.onping.bind(this)),(0,I.on)(o,"data",this.ondata.bind(this)),(0,I.on)(o,"error",this.onerror.bind(this)),(0,I.on)(o,"close",this.onclose.bind(this)),(0,I.on)(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(o){this.decoder.add(o)}},{key:"ondecoded",value:function(o){this.emitReserved("packet",o)}},{key:"onerror",value:function(o){l("error",o),this.emitReserved("error",o)}},{key:"socket",value:function(o,i){var n=this.nsps[o];return n||(n=new M.Socket(this,o,i),this.nsps[o]=n),n}},{key:"_destroy",value:function(o){for(var i=Object.keys(this.nsps),n=0,p=i;n<p.length;n++){var v=p[n],P=this.nsps[v];if(P.active){l("socket %s is still active, skipping close",v);return}}this._close()}},{key:"_packet",value:function(o){l("writing packet %j",o);for(var i=this.encoder.encode(o),n=0;n<i.length;n++)this.engine.write(i[n],o.options)}},{key:"cleanup",value:function(){l("cleanup"),this.subs.forEach(function(o){return o()}),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){l("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this._readyState==="opening"&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(o){l("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",o),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var o=this;if(this._reconnecting||this.skipReconnect)return this;var i=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();l("will wait %dms before reconnect attempt",n),this._reconnecting=!0;var p=this.setTimeoutFn(function(){i.skipReconnect||(l("attempting reconnect"),o.emitReserved("reconnect_attempt",i.backoff.attempts),!i.skipReconnect&&i.open(function(v){v?(l("reconnect attempt error"),i._reconnecting=!1,i.reconnect(),o.emitReserved("reconnect_error",v)):(l("reconnect success"),i.onreconnect())}))},n);this.opts.autoUnref&&p.unref(),this.subs.push(function(){clearTimeout(p)})}}},{key:"onreconnect",value:function(){var o=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",o)}}]),u}(f.StrictEventEmitter);e.Manager=s},"./build/on.js":function(h,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.on=void 0;function c(m,t,_){return m.on(t,_),function(){m.off(t,_)}}e.on=c},"./build/socket.js":function(h,e,a){function c(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(o){return typeof o}:c=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},c(u)}function m(u,r){var o=typeof Symbol!="undefined"&&u[Symbol.iterator]||u["@@iterator"];if(!o){if(Array.isArray(u)||(o=t(u))||r&&u&&typeof u.length=="number"){o&&(u=o);var i=0,n=function(){};return{s:n,n:function(){return i>=u.length?{done:!0}:{done:!1,value:u[i++]}},e:function(D){throw D},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=!0,v=!1,P;return{s:function(){o=o.call(u)},n:function(){var D=o.next();return p=D.done,D},e:function(D){v=!0,P=D},f:function(){try{!p&&o.return!=null&&o.return()}finally{if(v)throw P}}}}function t(u,r){if(!!u){if(typeof u=="string")return _(u,r);var o=Object.prototype.toString.call(u).slice(8,-1);if(o==="Object"&&u.constructor&&(o=u.constructor.name),o==="Map"||o==="Set")return Array.from(u);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _(u,r)}}function _(u,r){(r==null||r>u.length)&&(r=u.length);for(var o=0,i=new Array(r);o<r;o++)i[o]=u[o];return i}function g(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function R(u,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(u,i.key,i)}}function k(u,r,o){return r&&R(u.prototype,r),o&&R(u,o),u}function S(u,r,o){return typeof Reflect!="undefined"&&Reflect.get?S=Reflect.get:S=function(n,p,v){var P=C(n,p);if(!!P){var T=Object.getOwnPropertyDescriptor(P,p);return T.get?T.get.call(v):T.value}},S(u,r,o||u)}function C(u,r){for(;!Object.prototype.hasOwnProperty.call(u,r)&&(u=I(u),u!==null););return u}function b(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),r&&j(u,r)}function j(u,r){return j=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},j(u,r)}function E(u){var r=x();return function(){var i=I(u),n;if(r){var p=I(this).constructor;n=Reflect.construct(i,arguments,p)}else n=i.apply(this,arguments);return N(this,n)}}function N(u,r){if(r&&(c(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(u)}function M(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function x(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(u){return!1}}function I(u){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},I(u)}Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=void 0;var A=a("./node_modules/socket.io-parser/dist/index.js"),f=a("./build/on.js"),l=a("./build/typed-events.js"),s=a("./node_modules/debug/src/browser.js")("socket.io-client:socket"),d=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),w=function(u){b(o,u);var r=E(o);function o(i,n,p){var v;return g(this,o),v=r.call(this),v.connected=!1,v.disconnected=!0,v.receiveBuffer=[],v.sendBuffer=[],v.ids=0,v.acks={},v.flags={},v.io=i,v.nsp=n,p&&p.auth&&(v.auth=p.auth),v.io._autoConnect&&v.open(),v}return k(o,[{key:"subEvents",value:function(){if(!this.subs){var n=this.io;this.subs=[(0,f.on)(n,"open",this.onopen.bind(this)),(0,f.on)(n,"packet",this.onpacket.bind(this)),(0,f.on)(n,"error",this.onerror.bind(this)),(0,f.on)(n,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var n=arguments.length,p=new Array(n),v=0;v<n;v++)p[v]=arguments[v];return p.unshift("message"),this.emit.apply(this,p),this}},{key:"emit",value:function(n){if(d.hasOwnProperty(n))throw new Error('"'+n+'" is a reserved event name');for(var p=arguments.length,v=new Array(p>1?p-1:0),P=1;P<p;P++)v[P-1]=arguments[P];v.unshift(n);var T={type:A.PacketType.EVENT,data:v};T.options={},T.options.compress=this.flags.compress!==!1,typeof v[v.length-1]=="function"&&(s("emitting packet with ack id %d",this.ids),this.acks[this.ids]=v.pop(),T.id=this.ids++);var D=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,F=this.flags.volatile&&(!D||!this.connected);return F?s("discard packet as the transport is not currently writable"):this.connected?this.packet(T):this.sendBuffer.push(T),this.flags={},this}},{key:"packet",value:function(n){n.nsp=this.nsp,this.io._packet(n)}},{key:"onopen",value:function(){var n=this;s("transport is open - connecting"),typeof this.auth=="function"?this.auth(function(p){n.packet({type:A.PacketType.CONNECT,data:p})}):this.packet({type:A.PacketType.CONNECT,data:this.auth})}},{key:"onerror",value:function(n){this.connected||this.emitReserved("connect_error",n)}},{key:"onclose",value:function(n){s("close (%s)",n),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",n)}},{key:"onpacket",value:function(n){var p=n.nsp===this.nsp;if(!!p)switch(n.type){case A.PacketType.CONNECT:if(n.data&&n.data.sid){var v=n.data.sid;this.onconnect(v)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case A.PacketType.EVENT:this.onevent(n);break;case A.PacketType.BINARY_EVENT:this.onevent(n);break;case A.PacketType.ACK:this.onack(n);break;case A.PacketType.BINARY_ACK:this.onack(n);break;case A.PacketType.DISCONNECT:this.ondisconnect();break;case A.PacketType.CONNECT_ERROR:var P=new Error(n.data.message);P.data=n.data.data,this.emitReserved("connect_error",P);break}}},{key:"onevent",value:function(n){var p=n.data||[];s("emitting event %j",p),n.id!=null&&(s("attaching ack callback to event"),p.push(this.ack(n.id))),this.connected?this.emitEvent(p):this.receiveBuffer.push(Object.freeze(p))}},{key:"emitEvent",value:function(n){if(this._anyListeners&&this._anyListeners.length){var p=this._anyListeners.slice(),v=m(p),P;try{for(v.s();!(P=v.n()).done;){var T=P.value;T.apply(this,n)}}catch(D){v.e(D)}finally{v.f()}}S(I(o.prototype),"emit",this).apply(this,n)}},{key:"ack",value:function(n){var p=this,v=!1;return function(){if(!v){v=!0;for(var P=arguments.length,T=new Array(P),D=0;D<P;D++)T[D]=arguments[D];s("sending ack %j",T),p.packet({type:A.PacketType.ACK,id:n,data:T})}}}},{key:"onack",value:function(n){var p=this.acks[n.id];typeof p=="function"?(s("calling ack %s with %j",n.id,n.data),p.apply(this,n.data),delete this.acks[n.id]):s("bad ack %s",n.id)}},{key:"onconnect",value:function(n){s("socket connected with id %s",n),this.id=n,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var n=this;this.receiveBuffer.forEach(function(p){return n.emitEvent(p)}),this.receiveBuffer=[],this.sendBuffer.forEach(function(p){return n.packet(p)}),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){s("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach(function(n){return n()}),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&(s("performing disconnect (%s)",this.nsp),this.packet({type:A.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(n){return this.flags.compress=n,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"onAny",value:function(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}},{key:"prependAny",value:function(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}},{key:"offAny",value:function(n){if(!this._anyListeners)return this;if(n){for(var p=this._anyListeners,v=0;v<p.length;v++)if(n===p[v])return p.splice(v,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}}]),o}(l.StrictEventEmitter);e.Socket=w},"./build/typed-events.js":function(h,e,a){function c(I){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(f){return typeof f}:c=function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},c(I)}function m(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")}function t(I,A){for(var f=0;f<A.length;f++){var l=A[f];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(I,l.key,l)}}function _(I,A,f){return A&&t(I.prototype,A),f&&t(I,f),I}function g(I,A,f){return typeof Reflect!="undefined"&&Reflect.get?g=Reflect.get:g=function(s,d,w){var u=R(s,d);if(!!u){var r=Object.getOwnPropertyDescriptor(u,d);return r.get?r.get.call(w):r.value}},g(I,A,f||I)}function R(I,A){for(;!Object.prototype.hasOwnProperty.call(I,A)&&(I=N(I),I!==null););return I}function k(I,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(A&&A.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),A&&S(I,A)}function S(I,A){return S=Object.setPrototypeOf||function(l,s){return l.__proto__=s,l},S(I,A)}function C(I){var A=E();return function(){var l=N(I),s;if(A){var d=N(this).constructor;s=Reflect.construct(l,arguments,d)}else s=l.apply(this,arguments);return b(this,s)}}function b(I,A){if(A&&(c(A)==="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(I)}function j(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function E(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(I){return!1}}function N(I){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)},N(I)}Object.defineProperty(e,"__esModule",{value:!0}),e.StrictEventEmitter=void 0;var M=a("./node_modules/component-emitter/index.js"),x=function(I){k(f,I);var A=C(f);function f(){return m(this,f),A.apply(this,arguments)}return _(f,[{key:"on",value:function(s,d){return g(N(f.prototype),"on",this).call(this,s,d),this}},{key:"once",value:function(s,d){return g(N(f.prototype),"once",this).call(this,s,d),this}},{key:"emit",value:function(s){for(var d,w=arguments.length,u=new Array(w>1?w-1:0),r=1;r<w;r++)u[r-1]=arguments[r];return(d=g(N(f.prototype),"emit",this)).call.apply(d,[this,s].concat(u)),this}},{key:"emitReserved",value:function(s){for(var d,w=arguments.length,u=new Array(w>1?w-1:0),r=1;r<w;r++)u[r-1]=arguments[r];return(d=g(N(f.prototype),"emit",this)).call.apply(d,[this,s].concat(u)),this}},{key:"listeners",value:function(s){return g(N(f.prototype),"listeners",this).call(this,s)}}]),f}(M);e.StrictEventEmitter=x},"./build/url.js":function(h,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.url=void 0;var c=a("./node_modules/parseuri/index.js"),m=a("./node_modules/debug/src/browser.js")("socket.io-client:url");function t(_){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",R=arguments.length>2?arguments[2]:void 0,k=_;R=R||typeof location!="undefined"&&location,_==null&&(_=R.protocol+"//"+R.host),typeof _=="string"&&(_.charAt(0)==="/"&&(_.charAt(1)==="/"?_=R.protocol+_:_=R.host+_),/^(https?|wss?):\/\//.test(_)||(m("protocol-less url %s",_),typeof R!="undefined"?_=R.protocol+"//"+_:_="https://"+_),m("parse %s",_),k=c(_)),k.port||(/^(http|ws)$/.test(k.protocol)?k.port="80":/^(http|ws)s$/.test(k.protocol)&&(k.port="443")),k.path=k.path||"/";var S=k.host.indexOf(":")!==-1,C=S?"["+k.host+"]":k.host;return k.id=k.protocol+"://"+C+":"+k.port+g,k.href=k.protocol+"://"+C+(R&&R.port===k.port?"":":"+k.port),k}e.url=t},"./node_modules/backo2/index.js":function(h,e){h.exports=a;function a(c){c=c||{},this.ms=c.min||100,this.max=c.max||1e4,this.factor=c.factor||2,this.jitter=c.jitter>0&&c.jitter<=1?c.jitter:0,this.attempts=0}a.prototype.duration=function(){var c=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var m=Math.random(),t=Math.floor(m*this.jitter*c);c=(Math.floor(m*10)&1)==0?c-t:c+t}return Math.min(c,this.max)|0},a.prototype.reset=function(){this.attempts=0},a.prototype.setMin=function(c){this.ms=c},a.prototype.setMax=function(c){this.max=c},a.prototype.setJitter=function(c){this.jitter=c}},"./node_modules/component-emitter/index.js":function(h,e,a){h.exports=c;function c(t){if(t)return m(t)}function m(t){for(var _ in c.prototype)t[_]=c.prototype[_];return t}c.prototype.on=c.prototype.addEventListener=function(t,_){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(_),this},c.prototype.once=function(t,_){function g(){this.off(t,g),_.apply(this,arguments)}return g.fn=_,this.on(t,g),this},c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=c.prototype.removeEventListener=function(t,_){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var g=this._callbacks["$"+t];if(!g)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var R,k=0;k<g.length;k++)if(R=g[k],R===_||R.fn===_){g.splice(k,1);break}return g.length===0&&delete this._callbacks["$"+t],this},c.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var _=new Array(arguments.length-1),g=this._callbacks["$"+t],R=1;R<arguments.length;R++)_[R-1]=arguments[R];if(g){g=g.slice(0);for(var R=0,k=g.length;R<k;++R)g[R].apply(this,_)}return this},c.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},c.prototype.hasListeners=function(t){return!!this.listeners(t).length}},"./node_modules/debug/src/browser.js":function(h,e,a){e.formatArgs=m,e.save=t,e.load=_,e.useColors=c,e.storage=g(),e.destroy=function(){var k=!1;return function(){k||(k=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function c(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function m(k){if(k[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+k[0]+(this.useColors?"%c ":" ")+"+"+h.exports.humanize(this.diff),!!this.useColors){var S="color: "+this.color;k.splice(1,0,S,"color: inherit");var C=0,b=0;k[0].replace(/%[a-zA-Z%]/g,function(j){j!=="%%"&&(C++,j==="%c"&&(b=C))}),k.splice(b,0,S)}}e.log=console.debug||console.log||function(){};function t(k){try{k?e.storage.setItem("debug",k):e.storage.removeItem("debug")}catch(S){}}function _(){var k;try{k=e.storage.getItem("debug")}catch(S){}return!k&&typeof process!="undefined"&&"env"in process&&(k={npm_config_legacy_peer_deps:"true",TERM_PROGRAM:"Apple_Terminal",LC_MONETARY:"en_US.UTF-8",NODE:"/usr/local/bin/node",ANDROID_HOME:"/Users/datamintsolutions/Documents/software/sdk",INIT_CWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/gallery",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/y9/0sjyrfqd3kq4nm0m0qg_hg440000gn/T/",npm_config_metrics_registry:"https://registry.npmjs.org/",npm_config_global_prefix:"/usr/local",GOOGLE_APPLICATION_CREDENTIALS:"/Users/datamintsolutions/Desktop/auth.json",TERM_PROGRAM_VERSION:"440",LC_NUMERIC:"en_US.UTF-8",ANDROID_SDK_ROOT:"/Users/datamintsolutions/Documents/software/sdk",TERM_SESSION_ID:"B63D7004-6476-44B8-8349-D72F98EFDBD4",COLOR:"0",npm_config_noproxy:"",npm_config_local_prefix:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/gallery",LC_ALL:"",USER:"datamintsolutions",npm_config_globalconfig:"/usr/local/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.Kg62pTe45Z/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/bin/npm-cli.js",GIT_PREFIX:"",PATH:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/gallery/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/.bin:/Users/datamintsolutions/Documents/work/capacitorunity/node_modules/.bin:/Users/datamintsolutions/Documents/work/node_modules/.bin:/Users/datamintsolutions/Documents/node_modules/.bin:/Users/datamintsolutions/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/usr/local/Cellar/git/2.18.0/libexec/git-core:/Library/Frameworks/Python.framework/Versions/3.9/bin:/Users/datamintsolutions/.cargo/bin:/usr/local/Cellar/dart/2.7.1/bin:/Users/datamintsolutions/Documents/software/flutter/.pub-cache/bin:/Users/datamintsolutions/Documents/software/flutter/bin:/usr/local/php5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/php5/bin:/Library/Frameworks/Mono.framework/Versions/Current/Commands:/Users/datamintsolutions/Documents/software/sdk/platform-tools/adb:/Users/datamintsolutions/Documents/software/sdk/platform-tools:/Users/datamintsolutions/.pub-cache/bin:/usr/local/go/bin:/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home/bin:/Users/datamintsolutions/Library/Android/sdk/platform-tools/:/Users/datamintsolutions/Documents/software/sdk/tools:/Users/datamintsolutions/Documents/software/sdk/platform-tools",LC_MESSAGES:"en_US.UTF-8",_:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/gallery/node_modules/.bin/cross-env",npm_package_json:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/gallery/package.json",__CFBundleIdentifier:"com.apple.Terminal",LC_COLLATE:"en_US.UTF-8",npm_config_init_module:"/Users/datamintsolutions/.npm-init.js",npm_config_userconfig:"/Users/datamintsolutions/.npmrc",PWD:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/packages/gallery",npm_command:"run-script",JAVA_HOME:"/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home",EDITOR:"vi",npm_lifecycle_event:"build",LANG:"en_US.UTF-8",npm_package_name:"@xrengine/gallery",XPC_FLAGS:"0x0",npm_package_engines_node:">= 16.3.0",npm_config_node_gyp:"/Users/datamintsolutions/Documents/work/capacitorunity/mappaxrengine/node_modules/@semantic-release/npm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",XPC_SERVICE_NAME:"0",npm_package_version:"0.4.8",SHLVL:"4",HOME:"/Users/datamintsolutions",npm_config_loglevel:"silent",GIT_SSH_COMMAND:"ssh -i ~/.ssh/kinjal",LOGNAME:"datamintsolutions",npm_config_cache:"/Users/datamintsolutions/.npm",npm_lifecycle_script:"cross-env APP_ENV=production NODE_OPTIONS=--max_old_space_size=6144 vite build && cp src/server.js www/server.js",LC_CTYPE:"en_US.UTF-8",CORDOVA_ANDROID_GRADLE_DISTRIBUTION_URL:"https://services.gradle.org/distributions/gradle-6.3-all.zip",npm_config_user_agent:"npm/7.21.0 node/v16.4.2 darwin x64 workspaces/false",ANDROID_NDK_HOME:"/Users/datamintsolutions/Documents/software/sdk/ndk-bundle",LC_TIME:"en_US.UTF-8",GIT_EXEC_PATH:"/usr/local/Cellar/git/2.18.0/libexec/git-core",npm_config_prefix:"/usr/local",npm_node_execpath:"/usr/local/bin/node",APP_ENV:"production",NODE_OPTIONS:"--max_old_space_size=6144",NODE_ENV:"production",VITE_GA_TRACKING_ID:"",VITE_SENTRY_DSN:"",VITE_APP_HOST:"localhost",VITE_APP_PORT:"3000",VITE_SERVER_HOST:"localhost",VITE_SERVER_PORT:"3030",VITE_GAMESERVER_HOST:"localhost",VITE_GAMESERVER_PORT:"3031",VITE_EMAILJS_SERVICE_ID:"",VITE_EMAILJS_TEMPLATE_ID:"",VITE_EMAILJS_USER_ID:"",VITE_READY_PLAYER_ME_URL:"https://xre.readyplayer.me",VITE_MEDIATOR_SERVER:"https://authn.io",publicRuntimeConfig:'{"title":"Gallery","dev":false,"loginDisabled":false,"logo":"./logo.svg","apiServer":"https://localhost:3030","appServer":"https://localhost:3000","readyPlayerMeUrl":"https://xre.readyplayer.me","siteTitle":"Gallery","siteDescription":"Connected Social for Everyone","feathersStoreKey":"TheOverlay-Auth-Store","localStorageKey":"arc-client-store-key-v1","auth":{"enableSmsMagicLink":true,"enableEmailMagicLink":true,"enableUserPassword":true,"enableGithubSocial":true,"enableFacebookSocial":true,"enableGoogleSocial":true},"alert":{"timeout":10000}}'}.DEBUG),k}function g(){try{return localStorage}catch(k){}}h.exports=a("./node_modules/debug/src/common.js")(e);var R=h.exports.formatters;R.j=function(k){try{return JSON.stringify(k)}catch(S){return"[UnexpectedJSONParseError]: "+S.message}}},"./node_modules/debug/src/common.js":function(h,e,a){function c(S){return g(S)||_(S)||t(S)||m()}function m(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t(S,C){if(!!S){if(typeof S=="string")return R(S,C);var b=Object.prototype.toString.call(S).slice(8,-1);if(b==="Object"&&S.constructor&&(b=S.constructor.name),b==="Map"||b==="Set")return Array.from(S);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return R(S,C)}}function _(S){if(typeof Symbol!="undefined"&&S[Symbol.iterator]!=null||S["@@iterator"]!=null)return Array.from(S)}function g(S){if(Array.isArray(S))return R(S)}function R(S,C){(C==null||C>S.length)&&(C=S.length);for(var b=0,j=new Array(C);b<C;b++)j[b]=S[b];return j}function k(S){b.debug=b,b.default=b,b.coerce=I,b.disable=N,b.enable=E,b.enabled=M,b.humanize=a("./node_modules/ms/index.js"),b.destroy=A,Object.keys(S).forEach(function(f){b[f]=S[f]}),b.names=[],b.skips=[],b.formatters={};function C(f){for(var l=0,s=0;s<f.length;s++)l=(l<<5)-l+f.charCodeAt(s),l|=0;return b.colors[Math.abs(l)%b.colors.length]}b.selectColor=C;function b(f){var l,s=null,d,w;function u(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];if(!!u.enabled){var n=u,p=Number(new Date),v=p-(l||p);n.diff=v,n.prev=l,n.curr=p,l=p,o[0]=b.coerce(o[0]),typeof o[0]!="string"&&o.unshift("%O");var P=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(D,F){if(D==="%%")return"%";P++;var H=b.formatters[F];if(typeof H=="function"){var L=o[P];D=H.call(n,L),o.splice(P,1),P--}return D}),b.formatArgs.call(n,o);var T=n.log||b.log;T.apply(n,o)}}return u.namespace=f,u.useColors=b.useColors(),u.color=b.selectColor(f),u.extend=j,u.destroy=b.destroy,Object.defineProperty(u,"enabled",{enumerable:!0,configurable:!1,get:function(){return s!==null?s:(d!==b.namespaces&&(d=b.namespaces,w=b.enabled(f)),w)},set:function(o){s=o}}),typeof b.init=="function"&&b.init(u),u}function j(f,l){var s=b(this.namespace+(typeof l=="undefined"?":":l)+f);return s.log=this.log,s}function E(f){b.save(f),b.namespaces=f,b.names=[],b.skips=[];var l,s=(typeof f=="string"?f:"").split(/[\s,]+/),d=s.length;for(l=0;l<d;l++)!s[l]||(f=s[l].replace(/\*/g,".*?"),f[0]==="-"?b.skips.push(new RegExp("^"+f.substr(1)+"$")):b.names.push(new RegExp("^"+f+"$")))}function N(){var f=[].concat(c(b.names.map(x)),c(b.skips.map(x).map(function(l){return"-"+l}))).join(",");return b.enable(""),f}function M(f){if(f[f.length-1]==="*")return!0;var l,s;for(l=0,s=b.skips.length;l<s;l++)if(b.skips[l].test(f))return!1;for(l=0,s=b.names.length;l<s;l++)if(b.names[l].test(f))return!0;return!1}function x(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function I(f){return f instanceof Error?f.stack||f.message:f}function A(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return b.enable(b.load()),b}h.exports=k},"./node_modules/engine.io-client/lib/globalThis.browser.js":function(h,e){h.exports=function(){return typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")()}()},"./node_modules/engine.io-client/lib/index.js":function(h,e,a){var c=a("./node_modules/engine.io-client/lib/socket.js");h.exports=function(m,t){return new c(m,t)},h.exports.Socket=c,h.exports.protocol=c.protocol,h.exports.Transport=a("./node_modules/engine.io-client/lib/transport.js"),h.exports.transports=a("./node_modules/engine.io-client/lib/transports/index.js"),h.exports.parser=a("./node_modules/engine.io-parser/lib/index.js")},"./node_modules/engine.io-client/lib/socket.js":function(h,e,a){function c(){return c=Object.assign||function(u){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(u[i]=o[i])}return u},c.apply(this,arguments)}function m(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(o){return typeof o}:m=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},m(u)}function t(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function _(u,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(u,i.key,i)}}function g(u,r,o){return r&&_(u.prototype,r),o&&_(u,o),u}function R(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),r&&k(u,r)}function k(u,r){return k=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},k(u,r)}function S(u){var r=j();return function(){var i=E(u),n;if(r){var p=E(this).constructor;n=Reflect.construct(i,arguments,p)}else n=i.apply(this,arguments);return C(this,n)}}function C(u,r){if(r&&(m(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(u)}function b(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function j(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(u){return!1}}function E(u){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},E(u)}var N=a("./node_modules/engine.io-client/lib/transports/index.js"),M=a("./node_modules/component-emitter/index.js"),x=a("./node_modules/debug/src/browser.js")("engine.io-client:socket"),I=a("./node_modules/engine.io-parser/lib/index.js"),A=a("./node_modules/parseuri/index.js"),f=a("./node_modules/parseqs/index.js"),l=a("./node_modules/engine.io-client/lib/util.js"),s=l.installTimerFunctions,d=function(u){R(o,u);var r=S(o);function o(i){var n,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t(this,o),n=r.call(this),i&&m(i)==="object"&&(p=i,i=null),i?(i=A(i),p.hostname=i.host,p.secure=i.protocol==="https"||i.protocol==="wss",p.port=i.port,i.query&&(p.query=i.query)):p.host&&(p.hostname=A(p.host).host),s(b(n),p),n.secure=p.secure!=null?p.secure:typeof location!="undefined"&&location.protocol==="https:",p.hostname&&!p.port&&(p.port=n.secure?"443":"80"),n.hostname=p.hostname||(typeof location!="undefined"?location.hostname:"localhost"),n.port=p.port||(typeof location!="undefined"&&location.port?location.port:n.secure?443:80),n.transports=p.transports||["polling","websocket"],n.readyState="",n.writeBuffer=[],n.prevBufferLen=0,n.opts=c({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},p),n.opts.path=n.opts.path.replace(/\/$/,"")+"/",typeof n.opts.query=="string"&&(n.opts.query=f.decode(n.opts.query)),n.id=null,n.upgrades=null,n.pingInterval=null,n.pingTimeout=null,n.pingTimeoutTimer=null,typeof addEventListener=="function"&&(n.opts.closeOnBeforeunload&&addEventListener("beforeunload",function(){n.transport&&(n.transport.removeAllListeners(),n.transport.close())},!1),n.hostname!=="localhost"&&(n.offlineEventListener=function(){n.onClose("transport close")},addEventListener("offline",n.offlineEventListener,!1))),n.open(),n}return g(o,[{key:"createTransport",value:function(n){x('creating transport "%s"',n);var p=w(this.opts.query);p.EIO=I.protocol,p.transport=n,this.id&&(p.sid=this.id);var v=c({},this.opts.transportOptions[n],this.opts,{query:p,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return x("options: %j",v),new N[n](v)}},{key:"open",value:function(){var n=this,p;if(this.opts.rememberUpgrade&&o.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)p="websocket";else if(this.transports.length===0){this.setTimeoutFn(function(){n.emit("error","No transports available")},0);return}else p=this.transports[0];this.readyState="opening";try{p=this.createTransport(p)}catch(v){x("error while creating transport: %s",v),this.transports.shift(),this.open();return}p.open(),this.setTransport(p)}},{key:"setTransport",value:function(n){var p=this;x("setting transport %s",n.name),this.transport&&(x("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=n,n.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",function(){p.onClose("transport close")})}},{key:"probe",value:function(n){var p=this;x('probing transport "%s"',n);var v=this.createTransport(n,{probe:1}),P=!1;o.priorWebsocketSuccess=!1;var T=function(){P||(x('probe transport "%s" opened',n),v.send([{type:"ping",data:"probe"}]),v.once("packet",function(Y){if(!P)if(Y.type==="pong"&&Y.data==="probe"){if(x('probe transport "%s" pong',n),p.upgrading=!0,p.emit("upgrading",v),!v)return;o.priorWebsocketSuccess=v.name==="websocket",x('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){P||p.readyState!=="closed"&&(x("changing transport and sending upgrade packet"),J(),p.setTransport(v),v.send([{type:"upgrade"}]),p.emit("upgrade",v),v=null,p.upgrading=!1,p.flush())})}else{x('probe transport "%s" failed',n);var $=new Error("probe error");$.transport=v.name,p.emit("upgradeError",$)}}))};function D(){P||(P=!0,J(),v.close(),v=null)}var F=function(Y){var $=new Error("probe error: "+Y);$.transport=v.name,D(),x('probe transport "%s" failed because of error: %s',n,Y),p.emit("upgradeError",$)};function H(){F("transport closed")}function L(){F("socket closed")}function z(X){v&&X.name!==v.name&&(x('"%s" works - aborting "%s"',X.name,v.name),D())}var J=function(){v.removeListener("open",T),v.removeListener("error",F),v.removeListener("close",H),p.removeListener("close",L),p.removeListener("upgrading",z)};v.once("open",T),v.once("error",F),v.once("close",H),this.once("close",L),this.once("upgrading",z),v.open()}},{key:"onOpen",value:function(){if(x("socket open"),this.readyState="open",o.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){x("starting upgrade probes");for(var n=0,p=this.upgrades.length;n<p;n++)this.probe(this.upgrades[n])}}},{key:"onPacket",value:function(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(x('socket receive: type "%s", data "%s"',n.type,n.data),this.emit("packet",n),this.emit("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("ping"),this.emit("pong");break;case"error":var p=new Error("server error");p.code=n.data,this.onError(p);break;case"message":this.emit("data",n.data),this.emit("message",n.data);break}else x('packet received with socket readyState "%s"',this.readyState)}},{key:"onHandshake",value:function(n){this.emit("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this.upgrades=this.filterUpgrades(n.upgrades),this.pingInterval=n.pingInterval,this.pingTimeout=n.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var n=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(function(){n.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()}},{key:"flush",value:function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(x("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}},{key:"write",value:function(n,p,v){return this.sendPacket("message",n,p,v),this}},{key:"send",value:function(n,p,v){return this.sendPacket("message",n,p,v),this}},{key:"sendPacket",value:function(n,p,v,P){if(typeof p=="function"&&(P=p,p=void 0),typeof v=="function"&&(P=v,v=null),!(this.readyState==="closing"||this.readyState==="closed")){v=v||{},v.compress=v.compress!==!1;var T={type:n,data:p,options:v};this.emit("packetCreate",T),this.writeBuffer.push(T),P&&this.once("flush",P),this.flush()}}},{key:"close",value:function(){var n=this,p=function(){n.onClose("forced close"),x("socket closing - telling transport to close"),n.transport.close()},v=function T(){n.removeListener("upgrade",T),n.removeListener("upgradeError",T),p()},P=function(){n.once("upgrade",v),n.once("upgradeError",v)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){n.upgrading?P():p()}):this.upgrading?P():p()),this}},{key:"onError",value:function(n){x("socket error %j",n),o.priorWebsocketSuccess=!1,this.emit("error",n),this.onClose("transport error",n)}},{key:"onClose",value:function(n,p){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(x('socket close with reason: "%s"',n),this.clearTimeoutFn(this.pingIntervalTimer),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",n,p),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(n){for(var p=[],v=0,P=n.length;v<P;v++)~this.transports.indexOf(n[v])&&p.push(n[v]);return p}}]),o}(M);d.priorWebsocketSuccess=!1,d.protocol=I.protocol;function w(u){var r={};for(var o in u)u.hasOwnProperty(o)&&(r[o]=u[o]);return r}h.exports=d},"./node_modules/engine.io-client/lib/transport.js":function(h,e,a){function c(f){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(s){return typeof s}:c=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},c(f)}function m(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}function t(f,l){for(var s=0;s<l.length;s++){var d=l[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function _(f,l,s){return l&&t(f.prototype,l),s&&t(f,s),f}function g(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),l&&R(f,l)}function R(f,l){return R=Object.setPrototypeOf||function(d,w){return d.__proto__=w,d},R(f,l)}function k(f){var l=b();return function(){var d=j(f),w;if(l){var u=j(this).constructor;w=Reflect.construct(d,arguments,u)}else w=d.apply(this,arguments);return S(this,w)}}function S(f,l){if(l&&(c(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(f)}function C(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function b(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}function j(f){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},j(f)}var E=a("./node_modules/engine.io-parser/lib/index.js"),N=a("./node_modules/component-emitter/index.js"),M=a("./node_modules/engine.io-client/lib/util.js"),x=M.installTimerFunctions,I=a("./node_modules/debug/src/browser.js")("engine.io-client:transport"),A=function(f){g(s,f);var l=k(s);function s(d){var w;return m(this,s),w=l.call(this),x(C(w),d),w.opts=d,w.query=d.query,w.readyState="",w.socket=d.socket,w}return _(s,[{key:"onError",value:function(w,u){var r=new Error(w);return r.type="TransportError",r.description=u,this.emit("error",r),this}},{key:"open",value:function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}},{key:"send",value:function(w){this.readyState==="open"?this.write(w):I("transport is not open, discarding packets")}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,this.emit("open")}},{key:"onData",value:function(w){var u=E.decodePacket(w,this.socket.binaryType);this.onPacket(u)}},{key:"onPacket",value:function(w){this.emit("packet",w)}},{key:"onClose",value:function(){this.readyState="closed",this.emit("close")}}]),s}(N);h.exports=A},"./node_modules/engine.io-client/lib/transports/index.js":function(h,e,a){var c=a("./node_modules/engine.io-client/lib/xmlhttprequest.js"),m=a("./node_modules/engine.io-client/lib/transports/polling-xhr.js"),t=a("./node_modules/engine.io-client/lib/transports/polling-jsonp.js"),_=a("./node_modules/engine.io-client/lib/transports/websocket.js");e.polling=g,e.websocket=_;function g(R){var k,S=!1,C=!1,b=R.jsonp!==!1;if(typeof location!="undefined"){var j=location.protocol==="https:",E=location.port;E||(E=j?443:80),S=R.hostname!==location.hostname||E!==R.port,C=R.secure!==j}if(R.xdomain=S,R.xscheme=C,k=new c(R),"open"in k&&!R.forceJSONP)return new m(R);if(!b)throw new Error("JSONP disabled");return new t(R)}},"./node_modules/engine.io-client/lib/transports/polling-jsonp.js":function(h,e,a){function c(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(w){return typeof w}:c=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},c(s)}function m(s,d){if(!(s instanceof d))throw new TypeError("Cannot call a class as a function")}function t(s,d){for(var w=0;w<d.length;w++){var u=d[w];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}function _(s,d,w){return d&&t(s.prototype,d),w&&t(s,w),s}function g(s,d,w){return typeof Reflect!="undefined"&&Reflect.get?g=Reflect.get:g=function(r,o,i){var n=R(r,o);if(!!n){var p=Object.getOwnPropertyDescriptor(n,o);return p.get?p.get.call(i):p.value}},g(s,d,w||s)}function R(s,d){for(;!Object.prototype.hasOwnProperty.call(s,d)&&(s=N(s),s!==null););return s}function k(s,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(d&&d.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),d&&S(s,d)}function S(s,d){return S=Object.setPrototypeOf||function(u,r){return u.__proto__=r,u},S(s,d)}function C(s){var d=E();return function(){var u=N(s),r;if(d){var o=N(this).constructor;r=Reflect.construct(u,arguments,o)}else r=u.apply(this,arguments);return b(this,r)}}function b(s,d){if(d&&(c(d)==="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(s)}function j(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function E(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(s){return!1}}function N(s){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},N(s)}var M=a("./node_modules/engine.io-client/lib/transports/polling.js"),x=a("./node_modules/engine.io-client/lib/globalThis.browser.js"),I=/\n/g,A=/\\n/g,f,l=function(s){k(w,s);var d=C(w);function w(u){var r;return m(this,w),r=d.call(this,u),r.query=r.query||{},f||(f=x.___eio=x.___eio||[]),r.index=f.length,f.push(r.onData.bind(j(r))),r.query.j=r.index,r}return _(w,[{key:"supportsBinary",get:function(){return!1}},{key:"doClose",value:function(){this.script&&(this.script.onerror=function(){},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),g(N(w.prototype),"doClose",this).call(this)}},{key:"doPoll",value:function(){var r=this,o=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),o.async=!0,o.src=this.uri(),o.onerror=function(p){r.onError("jsonp poll error",p)};var i=document.getElementsByTagName("script")[0];i?i.parentNode.insertBefore(o,i):(document.head||document.body).appendChild(o),this.script=o;var n=typeof navigator!="undefined"&&/gecko/i.test(navigator.userAgent);n&&this.setTimeoutFn(function(){var p=document.createElement("iframe");document.body.appendChild(p),document.body.removeChild(p)},100)}},{key:"doWrite",value:function(r,o){var i=this,n;if(!this.form){var p=document.createElement("form"),v=document.createElement("textarea"),P=this.iframeId="eio_iframe_"+this.index;p.className="socketio",p.style.position="absolute",p.style.top="-1000px",p.style.left="-1000px",p.target=P,p.method="POST",p.setAttribute("accept-charset","utf-8"),v.name="d",p.appendChild(v),document.body.appendChild(p),this.form=p,this.area=v}this.form.action=this.uri();function T(){D(),o()}var D=function(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(L){i.onError("jsonp polling iframe removal error",L)}try{var H='<iframe src="javascript:0" name="'+i.iframeId+'">';n=document.createElement(H)}catch(L){n=document.createElement("iframe"),n.name=i.iframeId,n.src="javascript:0"}n.id=i.iframeId,i.form.appendChild(n),i.iframe=n};D(),r=r.replace(A,`\\
`),this.area.value=r.replace(I,"\\n");try{this.form.submit()}catch(F){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){i.iframe.readyState==="complete"&&T()}:this.iframe.onload=T}}]),w}(M);h.exports=l},"./node_modules/engine.io-client/lib/transports/polling-xhr.js":function(h,e,a){function c(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(v){return typeof v}:c=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},c(n)}function m(){return m=Object.assign||function(n){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var P in v)Object.prototype.hasOwnProperty.call(v,P)&&(n[P]=v[P])}return n},m.apply(this,arguments)}function t(n,p){if(!(n instanceof p))throw new TypeError("Cannot call a class as a function")}function _(n,p){for(var v=0;v<p.length;v++){var P=p[v];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(n,P.key,P)}}function g(n,p,v){return p&&_(n.prototype,p),v&&_(n,v),n}function R(n,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(p&&p.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),p&&k(n,p)}function k(n,p){return k=Object.setPrototypeOf||function(P,T){return P.__proto__=T,P},k(n,p)}function S(n){var p=j();return function(){var P=E(n),T;if(p){var D=E(this).constructor;T=Reflect.construct(P,arguments,D)}else T=P.apply(this,arguments);return C(this,T)}}function C(n,p){if(p&&(c(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(n)}function b(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function j(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function E(n){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)},E(n)}var N=a("./node_modules/engine.io-client/lib/xmlhttprequest.js"),M=a("./node_modules/engine.io-client/lib/transports/polling.js"),x=a("./node_modules/component-emitter/index.js"),I=a("./node_modules/engine.io-client/lib/util.js"),A=I.pick,f=I.installTimerFunctions,l=a("./node_modules/engine.io-client/lib/globalThis.browser.js"),s=a("./node_modules/debug/src/browser.js")("engine.io-client:polling-xhr");function d(){}var w=function(){var n=new N({xdomain:!1});return n.responseType!=null}(),u=function(n){R(v,n);var p=S(v);function v(P){var T;if(t(this,v),T=p.call(this,P),typeof location!="undefined"){var D=location.protocol==="https:",F=location.port;F||(F=D?443:80),T.xd=typeof location!="undefined"&&P.hostname!==location.hostname||F!==P.port,T.xs=P.secure!==D}var H=P&&P.forceBase64;return T.supportsBinary=w&&!H,T}return g(v,[{key:"request",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return m(T,{xd:this.xd,xs:this.xs},this.opts),new r(this.uri(),T)}},{key:"doWrite",value:function(T,D){var F=this,H=this.request({method:"POST",data:T});H.on("success",D),H.on("error",function(L){F.onError("xhr post error",L)})}},{key:"doPoll",value:function(){var T=this;s("xhr poll");var D=this.request();D.on("data",this.onData.bind(this)),D.on("error",function(F){T.onError("xhr poll error",F)}),this.pollXhr=D}}]),v}(M),r=function(n){R(v,n);var p=S(v);function v(P,T){var D;return t(this,v),D=p.call(this),f(b(D),T),D.opts=T,D.method=T.method||"GET",D.uri=P,D.async=T.async!==!1,D.data=T.data!==void 0?T.data:null,D.create(),D}return g(v,[{key:"create",value:function(){var T=this,D=A(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");D.xdomain=!!this.opts.xd,D.xscheme=!!this.opts.xs;var F=this.xhr=new N(D);try{s("xhr open %s: %s",this.method,this.uri),F.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){F.setDisableHeaderCheck&&F.setDisableHeaderCheck(!0);for(var H in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(H)&&F.setRequestHeader(H,this.opts.extraHeaders[H])}}catch(L){}if(this.method==="POST")try{F.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(L){}try{F.setRequestHeader("Accept","*/*")}catch(L){}"withCredentials"in F&&(F.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(F.timeout=this.opts.requestTimeout),this.hasXDR()?(F.onload=function(){T.onLoad()},F.onerror=function(){T.onError(F.responseText)}):F.onreadystatechange=function(){F.readyState===4&&(F.status===200||F.status===1223?T.onLoad():T.setTimeoutFn(function(){T.onError(typeof F.status=="number"?F.status:0)},0))},s("xhr data %s",this.data),F.send(this.data)}catch(L){this.setTimeoutFn(function(){T.onError(L)},0);return}typeof document!="undefined"&&(this.index=v.requestsCount++,v.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(T){this.emit("data",T),this.onSuccess()}},{key:"onError",value:function(T){this.emit("error",T),this.cleanup(!0)}},{key:"cleanup",value:function(T){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=d:this.xhr.onreadystatechange=d,T)try{this.xhr.abort()}catch(D){}typeof document!="undefined"&&delete v.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var T=this.xhr.responseText;T!==null&&this.onData(T)}},{key:"hasXDR",value:function(){return typeof XDomainRequest!="undefined"&&!this.xs&&this.enablesXDR}},{key:"abort",value:function(){this.cleanup()}}]),v}(x);if(r.requestsCount=0,r.requests={},typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",i);else if(typeof addEventListener=="function"){var o="onpagehide"in l?"pagehide":"unload";addEventListener(o,i,!1)}}function i(){for(var n in r.requests)r.requests.hasOwnProperty(n)&&r.requests[n].abort()}h.exports=u,h.exports.Request=r},"./node_modules/engine.io-client/lib/transports/polling.js":function(h,e,a){function c(f){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(s){return typeof s}:c=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},c(f)}function m(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}function t(f,l){for(var s=0;s<l.length;s++){var d=l[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function _(f,l,s){return l&&t(f.prototype,l),s&&t(f,s),f}function g(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),l&&R(f,l)}function R(f,l){return R=Object.setPrototypeOf||function(d,w){return d.__proto__=w,d},R(f,l)}function k(f){var l=b();return function(){var d=j(f),w;if(l){var u=j(this).constructor;w=Reflect.construct(d,arguments,u)}else w=d.apply(this,arguments);return S(this,w)}}function S(f,l){if(l&&(c(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(f)}function C(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function b(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}function j(f){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},j(f)}var E=a("./node_modules/engine.io-client/lib/transport.js"),N=a("./node_modules/parseqs/index.js"),M=a("./node_modules/engine.io-parser/lib/index.js"),x=a("./node_modules/yeast/index.js"),I=a("./node_modules/debug/src/browser.js")("engine.io-client:polling"),A=function(f){g(s,f);var l=k(s);function s(){return m(this,s),l.apply(this,arguments)}return _(s,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(w){var u=this;this.readyState="pausing";var r=function(){I("paused"),u.readyState="paused",w()};if(this.polling||!this.writable){var o=0;this.polling&&(I("we are currently polling - waiting to pause"),o++,this.once("pollComplete",function(){I("pre-pause polling complete"),--o||r()})),this.writable||(I("we are currently writing - waiting to pause"),o++,this.once("drain",function(){I("pre-pause writing complete"),--o||r()}))}else r()}},{key:"poll",value:function(){I("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(w){var u=this;I("polling got data %s",w);var r=function(i){if(u.readyState==="opening"&&i.type==="open"&&u.onOpen(),i.type==="close")return u.onClose(),!1;u.onPacket(i)};M.decodePayload(w,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():I('ignoring poll - transport state "%s"',this.readyState))}},{key:"doClose",value:function(){var w=this,u=function(){I("writing close packet"),w.write([{type:"close"}])};this.readyState==="open"?(I("transport open - closing"),u()):(I("transport not open - deferring close"),this.once("open",u))}},{key:"write",value:function(w){var u=this;this.writable=!1,M.encodePayload(w,function(r){u.doWrite(r,function(){u.writable=!0,u.emit("drain")})})}},{key:"uri",value:function(){var w=this.query||{},u=this.opts.secure?"https":"http",r="";this.opts.timestampRequests!==!1&&(w[this.opts.timestampParam]=x()),!this.supportsBinary&&!w.sid&&(w.b64=1),w=N.encode(w),this.opts.port&&(u==="https"&&Number(this.opts.port)!==443||u==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),w.length&&(w="?"+w);var o=this.opts.hostname.indexOf(":")!==-1;return u+"://"+(o?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+w}}]),s}(E);h.exports=A},"./node_modules/engine.io-client/lib/transports/websocket-constructor.browser.js":function(h,e,a){var c=a("./node_modules/engine.io-client/lib/globalThis.browser.js"),m=function(){var t=typeof Promise=="function"&&typeof Promise.resolve=="function";return t?function(_){return Promise.resolve().then(_)}:function(_,g){return g(_,0)}}();h.exports={WebSocket:c.WebSocket||c.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer",nextTick:m}},"./node_modules/engine.io-client/lib/transports/websocket.js":function(h,e,a){function c(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(p){return typeof p}:c=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},c(i)}function m(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}function t(i,n){for(var p=0;p<n.length;p++){var v=n[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,v.key,v)}}function _(i,n,p){return n&&t(i.prototype,n),p&&t(i,p),i}function g(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),n&&R(i,n)}function R(i,n){return R=Object.setPrototypeOf||function(v,P){return v.__proto__=P,v},R(i,n)}function k(i){var n=b();return function(){var v=j(i),P;if(n){var T=j(this).constructor;P=Reflect.construct(v,arguments,T)}else P=v.apply(this,arguments);return S(this,P)}}function S(i,n){if(n&&(c(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(i)}function C(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function b(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(i){return!1}}function j(i){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)},j(i)}var E=a("./node_modules/engine.io-client/lib/transport.js"),N=a("./node_modules/engine.io-parser/lib/index.js"),M=a("./node_modules/parseqs/index.js"),x=a("./node_modules/yeast/index.js"),I=a("./node_modules/engine.io-client/lib/util.js"),A=I.pick,f=a("./node_modules/engine.io-client/lib/transports/websocket-constructor.browser.js"),l=f.WebSocket,s=f.usingBrowserWebSocket,d=f.defaultBinaryType,w=f.nextTick,u=a("./node_modules/debug/src/browser.js")("engine.io-client:websocket"),r=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",o=function(i){g(p,i);var n=k(p);function p(v){var P;return m(this,p),P=n.call(this,v),P.supportsBinary=!v.forceBase64,P}return _(p,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(!!this.check()){var P=this.uri(),T=this.opts.protocols,D=r?{}:A(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(D.headers=this.opts.extraHeaders);try{this.ws=s&&!r?T?new l(P,T):new l(P):new l(P,T,D)}catch(F){return this.emit("error",F)}this.ws.binaryType=this.socket.binaryType||d,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var P=this;this.ws.onopen=function(){P.opts.autoUnref&&P.ws._socket.unref(),P.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(T){return P.onData(T.data)},this.ws.onerror=function(T){return P.onError("websocket error",T)}}},{key:"write",value:function(P){var T=this;this.writable=!1;for(var D=function(L){var z=P[L],J=L===P.length-1;N.encodePacket(z,T.supportsBinary,function(X){var Y={};if(!s&&(z.options&&(Y.compress=z.options.compress),T.opts.perMessageDeflate)){var $=typeof X=="string"?Buffer.byteLength(X):X.length;$<T.opts.perMessageDeflate.threshold&&(Y.compress=!1)}try{s?T.ws.send(X):T.ws.send(X,Y)}catch(G){u("websocket closed before onclose event")}J&&w(function(){T.writable=!0,T.emit("drain")},T.setTimeoutFn)})},F=0;F<P.length;F++)D(F)}},{key:"onClose",value:function(){E.prototype.onClose.call(this)}},{key:"doClose",value:function(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var P=this.query||{},T=this.opts.secure?"wss":"ws",D="";this.opts.port&&(T==="wss"&&Number(this.opts.port)!==443||T==="ws"&&Number(this.opts.port)!==80)&&(D=":"+this.opts.port),this.opts.timestampRequests&&(P[this.opts.timestampParam]=x()),this.supportsBinary||(P.b64=1),P=M.encode(P),P.length&&(P="?"+P);var F=this.opts.hostname.indexOf(":")!==-1;return T+"://"+(F?"["+this.opts.hostname+"]":this.opts.hostname)+D+this.opts.path+P}},{key:"check",value:function(){return!!l&&!("__initialize"in l&&this.name===p.prototype.name)}}]),p}(E);h.exports=o},"./node_modules/engine.io-client/lib/util.js":function(h,e,a){var c=a("./node_modules/engine.io-client/lib/globalThis.browser.js");h.exports.pick=function(_){for(var g=arguments.length,R=new Array(g>1?g-1:0),k=1;k<g;k++)R[k-1]=arguments[k];return R.reduce(function(S,C){return _.hasOwnProperty(C)&&(S[C]=_[C]),S},{})};var m=setTimeout,t=clearTimeout;h.exports.installTimerFunctions=function(_,g){g.useNativeTimers?(_.setTimeoutFn=m.bind(c),_.clearTimeoutFn=t.bind(c)):(_.setTimeoutFn=setTimeout.bind(c),_.clearTimeoutFn=clearTimeout.bind(c))}},"./node_modules/engine.io-client/lib/xmlhttprequest.js":function(h,e,a){var c=a("./node_modules/has-cors/index.js"),m=a("./node_modules/engine.io-client/lib/globalThis.browser.js");h.exports=function(t){var _=t.xdomain,g=t.xscheme,R=t.enablesXDR;try{if(typeof XMLHttpRequest!="undefined"&&(!_||c))return new XMLHttpRequest}catch(k){}try{if(typeof XDomainRequest!="undefined"&&!g&&R)return new XDomainRequest}catch(k){}if(!_)try{return new m[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(k){}}},"./node_modules/engine.io-parser/lib/commons.js":function(h,e){var a=Object.create(null);a.open="0",a.close="1",a.ping="2",a.pong="3",a.message="4",a.upgrade="5",a.noop="6";var c=Object.create(null);Object.keys(a).forEach(function(t){c[a[t]]=t});var m={type:"error",data:"parser error"};h.exports={PACKET_TYPES:a,PACKET_TYPES_REVERSE:c,ERROR_PACKET:m}},"./node_modules/engine.io-parser/lib/decodePacket.browser.js":function(h,e,a){var c=a("./node_modules/engine.io-parser/lib/commons.js"),m=c.PACKET_TYPES_REVERSE,t=c.ERROR_PACKET,_=typeof ArrayBuffer=="function",g;_&&(g=a("./node_modules/engine.io-parser/node_modules/base64-arraybuffer/lib/base64-arraybuffer.js"));var R=function(b,j){if(typeof b!="string")return{type:"message",data:S(b,j)};var E=b.charAt(0);if(E==="b")return{type:"message",data:k(b.substring(1),j)};var N=m[E];return N?b.length>1?{type:m[E],data:b.substring(1)}:{type:m[E]}:t},k=function(b,j){if(g){var E=g.decode(b);return S(E,j)}else return{base64:!0,data:b}},S=function(b,j){switch(j){case"blob":return b instanceof ArrayBuffer?new Blob([b]):b;case"arraybuffer":default:return b}};h.exports=R},"./node_modules/engine.io-parser/lib/encodePacket.browser.js":function(h,e,a){var c=a("./node_modules/engine.io-parser/lib/commons.js"),m=c.PACKET_TYPES,t=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",_=typeof ArrayBuffer=="function",g=function(C){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(C):C&&C.buffer instanceof ArrayBuffer},R=function(C,b,j){var E=C.type,N=C.data;return t&&N instanceof Blob?b?j(N):k(N,j):_&&(N instanceof ArrayBuffer||g(N))?b?j(N instanceof ArrayBuffer?N:N.buffer):k(new Blob([N]),j):j(m[E]+(N||""))},k=function(C,b){var j=new FileReader;return j.onload=function(){var E=j.result.split(",")[1];b("b"+E)},j.readAsDataURL(C)};h.exports=R},"./node_modules/engine.io-parser/lib/index.js":function(h,e,a){var c=a("./node_modules/engine.io-parser/lib/encodePacket.browser.js"),m=a("./node_modules/engine.io-parser/lib/decodePacket.browser.js"),t=String.fromCharCode(30),_=function(k,S){var C=k.length,b=new Array(C),j=0;k.forEach(function(E,N){c(E,!1,function(M){b[N]=M,++j===C&&S(b.join(t))})})},g=function(k,S){for(var C=k.split(t),b=[],j=0;j<C.length;j++){var E=m(C[j],S);if(b.push(E),E.type==="error")break}return b};h.exports={protocol:4,encodePacket:c,encodePayload:_,decodePacket:m,decodePayload:g}},"./node_modules/engine.io-parser/node_modules/base64-arraybuffer/lib/base64-arraybuffer.js":function(h,e){(function(a){e.encode=function(c){var m=new Uint8Array(c),t,_=m.length,g="";for(t=0;t<_;t+=3)g+=a[m[t]>>2],g+=a[(m[t]&3)<<4|m[t+1]>>4],g+=a[(m[t+1]&15)<<2|m[t+2]>>6],g+=a[m[t+2]&63];return _%3==2?g=g.substring(0,g.length-1)+"=":_%3==1&&(g=g.substring(0,g.length-2)+"=="),g},e.decode=function(c){var m=c.length*.75,t=c.length,_,g=0,R,k,S,C;c[c.length-1]==="="&&(m--,c[c.length-2]==="="&&m--);var b=new ArrayBuffer(m),j=new Uint8Array(b);for(_=0;_<t;_+=4)R=a.indexOf(c[_]),k=a.indexOf(c[_+1]),S=a.indexOf(c[_+2]),C=a.indexOf(c[_+3]),j[g++]=R<<2|k>>4,j[g++]=(k&15)<<4|S>>2,j[g++]=(S&3)<<6|C&63;return b}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},"./node_modules/has-cors/index.js":function(h,e){try{h.exports=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(a){h.exports=!1}},"./node_modules/ms/index.js":function(h,e){function a(j){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a=function(N){return typeof N}:a=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},a(j)}var c=1e3,m=c*60,t=m*60,_=t*24,g=_*7,R=_*365.25;h.exports=function(j,E){E=E||{};var N=a(j);if(N==="string"&&j.length>0)return k(j);if(N==="number"&&isFinite(j))return E.long?C(j):S(j);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(j))};function k(j){if(j=String(j),!(j.length>100)){var E=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(j);if(!!E){var N=parseFloat(E[1]),M=(E[2]||"ms").toLowerCase();switch(M){case"years":case"year":case"yrs":case"yr":case"y":return N*R;case"weeks":case"week":case"w":return N*g;case"days":case"day":case"d":return N*_;case"hours":case"hour":case"hrs":case"hr":case"h":return N*t;case"minutes":case"minute":case"mins":case"min":case"m":return N*m;case"seconds":case"second":case"secs":case"sec":case"s":return N*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return N;default:return}}}}function S(j){var E=Math.abs(j);return E>=_?Math.round(j/_)+"d":E>=t?Math.round(j/t)+"h":E>=m?Math.round(j/m)+"m":E>=c?Math.round(j/c)+"s":j+"ms"}function C(j){var E=Math.abs(j);return E>=_?b(j,E,_,"day"):E>=t?b(j,E,t,"hour"):E>=m?b(j,E,m,"minute"):E>=c?b(j,E,c,"second"):j+" ms"}function b(j,E,N,M){var x=E>=N*1.5;return Math.round(j/N)+" "+M+(x?"s":"")}},"./node_modules/parseqs/index.js":function(h,e){e.encode=function(a){var c="";for(var m in a)a.hasOwnProperty(m)&&(c.length&&(c+="&"),c+=encodeURIComponent(m)+"="+encodeURIComponent(a[m]));return c},e.decode=function(a){for(var c={},m=a.split("&"),t=0,_=m.length;t<_;t++){var g=m[t].split("=");c[decodeURIComponent(g[0])]=decodeURIComponent(g[1])}return c}},"./node_modules/parseuri/index.js":function(h,e){var a=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,c=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];h.exports=function(g){var R=g,k=g.indexOf("["),S=g.indexOf("]");k!=-1&&S!=-1&&(g=g.substring(0,k)+g.substring(k,S).replace(/:/g,";")+g.substring(S,g.length));for(var C=a.exec(g||""),b={},j=14;j--;)b[c[j]]=C[j]||"";return k!=-1&&S!=-1&&(b.source=R,b.host=b.host.substring(1,b.host.length-1).replace(/;/g,":"),b.authority=b.authority.replace("[","").replace("]","").replace(/;/g,":"),b.ipv6uri=!0),b.pathNames=m(b,b.path),b.queryKey=t(b,b.query),b};function m(_,g){var R=/\/{2,9}/g,k=g.replace(R,"/").split("/");return(g.substr(0,1)=="/"||g.length===0)&&k.splice(0,1),g.substr(g.length-1,1)=="/"&&k.splice(k.length-1,1),k}function t(_,g){var R={};return g.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(k,S,C){S&&(R[S]=C)}),R}},"./node_modules/socket.io-parser/dist/binary.js":function(h,e,a){function c(k){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(C){return typeof C}:c=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},c(k)}Object.defineProperty(e,"__esModule",{value:!0}),e.reconstructPacket=e.deconstructPacket=void 0;var m=a("./node_modules/socket.io-parser/dist/is-binary.js");function t(k){var S=[],C=k.data,b=k;return b.data=_(C,S),b.attachments=S.length,{packet:b,buffers:S}}e.deconstructPacket=t;function _(k,S){if(!k)return k;if(m.isBinary(k)){var C={_placeholder:!0,num:S.length};return S.push(k),C}else if(Array.isArray(k)){for(var b=new Array(k.length),j=0;j<k.length;j++)b[j]=_(k[j],S);return b}else if(c(k)==="object"&&!(k instanceof Date)){var E={};for(var N in k)k.hasOwnProperty(N)&&(E[N]=_(k[N],S));return E}return k}function g(k,S){return k.data=R(k.data,S),k.attachments=void 0,k}e.reconstructPacket=g;function R(k,S){if(!k)return k;if(k&&k._placeholder)return S[k.num];if(Array.isArray(k))for(var C=0;C<k.length;C++)k[C]=R(k[C],S);else if(c(k)==="object")for(var b in k)k.hasOwnProperty(b)&&(k[b]=R(k[b],S));return k}},"./node_modules/socket.io-parser/dist/index.js":function(h,e,a){function c(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(o){return typeof o}:c=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},c(u)}function m(u,r,o){return typeof Reflect!="undefined"&&Reflect.get?m=Reflect.get:m=function(n,p,v){var P=t(n,p);if(!!P){var T=Object.getOwnPropertyDescriptor(P,p);return T.get?T.get.call(v):T.value}},m(u,r,o||u)}function t(u,r){for(;!Object.prototype.hasOwnProperty.call(u,r)&&(u=b(u),u!==null););return u}function _(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),r&&g(u,r)}function g(u,r){return g=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},g(u,r)}function R(u){var r=C();return function(){var i=b(u),n;if(r){var p=b(this).constructor;n=Reflect.construct(i,arguments,p)}else n=i.apply(this,arguments);return k(this,n)}}function k(u,r){if(r&&(c(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(u)}function S(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function C(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(u){return!1}}function b(u){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},b(u)}function j(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function E(u,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(u,i.key,i)}}function N(u,r,o){return r&&E(u.prototype,r),o&&E(u,o),u}Object.defineProperty(e,"__esModule",{value:!0}),e.Decoder=e.Encoder=e.PacketType=e.protocol=void 0;var M=a("./node_modules/component-emitter/index.js"),x=a("./node_modules/socket.io-parser/dist/binary.js"),I=a("./node_modules/socket.io-parser/dist/is-binary.js"),A=a("./node_modules/debug/src/browser.js")("socket.io-parser");e.protocol=5;var f;(function(u){u[u.CONNECT=0]="CONNECT",u[u.DISCONNECT=1]="DISCONNECT",u[u.EVENT=2]="EVENT",u[u.ACK=3]="ACK",u[u.CONNECT_ERROR=4]="CONNECT_ERROR",u[u.BINARY_EVENT=5]="BINARY_EVENT",u[u.BINARY_ACK=6]="BINARY_ACK"})(f=e.PacketType||(e.PacketType={}));var l=function(){function u(){j(this,u)}return N(u,[{key:"encode",value:function(o){return A("encoding packet %j",o),(o.type===f.EVENT||o.type===f.ACK)&&I.hasBinary(o)?(o.type=o.type===f.EVENT?f.BINARY_EVENT:f.BINARY_ACK,this.encodeAsBinary(o)):[this.encodeAsString(o)]}},{key:"encodeAsString",value:function(o){var i=""+o.type;return(o.type===f.BINARY_EVENT||o.type===f.BINARY_ACK)&&(i+=o.attachments+"-"),o.nsp&&o.nsp!=="/"&&(i+=o.nsp+","),o.id!=null&&(i+=o.id),o.data!=null&&(i+=JSON.stringify(o.data)),A("encoded %j as %s",o,i),i}},{key:"encodeAsBinary",value:function(o){var i=x.deconstructPacket(o),n=this.encodeAsString(i.packet),p=i.buffers;return p.unshift(n),p}}]),u}();e.Encoder=l;var s=function(u){_(o,u);var r=R(o);function o(){return j(this,o),r.call(this)}return N(o,[{key:"add",value:function(n){var p;if(typeof n=="string")p=this.decodeString(n),p.type===f.BINARY_EVENT||p.type===f.BINARY_ACK?(this.reconstructor=new w(p),p.attachments===0&&m(b(o.prototype),"emit",this).call(this,"decoded",p)):m(b(o.prototype),"emit",this).call(this,"decoded",p);else if(I.isBinary(n)||n.base64)if(this.reconstructor)p=this.reconstructor.takeBinaryData(n),p&&(this.reconstructor=null,m(b(o.prototype),"emit",this).call(this,"decoded",p));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}},{key:"decodeString",value:function(n){var p=0,v={type:Number(n.charAt(0))};if(f[v.type]===void 0)throw new Error("unknown packet type "+v.type);if(v.type===f.BINARY_EVENT||v.type===f.BINARY_ACK){for(var P=p+1;n.charAt(++p)!=="-"&&p!=n.length;);var T=n.substring(P,p);if(T!=Number(T)||n.charAt(p)!=="-")throw new Error("Illegal attachments");v.attachments=Number(T)}if(n.charAt(p+1)==="/"){for(var D=p+1;++p;){var F=n.charAt(p);if(F===","||p===n.length)break}v.nsp=n.substring(D,p)}else v.nsp="/";var H=n.charAt(p+1);if(H!==""&&Number(H)==H){for(var L=p+1;++p;){var z=n.charAt(p);if(z==null||Number(z)!=z){--p;break}if(p===n.length)break}v.id=Number(n.substring(L,p+1))}if(n.charAt(++p)){var J=d(n.substr(p));if(o.isPayloadValid(v.type,J))v.data=J;else throw new Error("invalid payload")}return A("decoded %s as %j",n,v),v}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(n,p){switch(n){case f.CONNECT:return c(p)==="object";case f.DISCONNECT:return p===void 0;case f.CONNECT_ERROR:return typeof p=="string"||c(p)==="object";case f.EVENT:case f.BINARY_EVENT:return Array.isArray(p)&&p.length>0;case f.ACK:case f.BINARY_ACK:return Array.isArray(p)}}}]),o}(M);e.Decoder=s;function d(u){try{return JSON.parse(u)}catch(r){return!1}}var w=function(){function u(r){j(this,u),this.packet=r,this.buffers=[],this.reconPack=r}return N(u,[{key:"takeBinaryData",value:function(o){if(this.buffers.push(o),this.buffers.length===this.reconPack.attachments){var i=x.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),i}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),u}()},"./node_modules/socket.io-parser/dist/is-binary.js":function(h,e,a){function c(C){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(j){return typeof j}:c=function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},c(C)}Object.defineProperty(e,"__esModule",{value:!0}),e.hasBinary=e.isBinary=void 0;var m=typeof ArrayBuffer=="function",t=function(b){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(b):b.buffer instanceof ArrayBuffer},_=Object.prototype.toString,g=typeof Blob=="function"||typeof Blob!="undefined"&&_.call(Blob)==="[object BlobConstructor]",R=typeof File=="function"||typeof File!="undefined"&&_.call(File)==="[object FileConstructor]";function k(C){return m&&(C instanceof ArrayBuffer||t(C))||g&&C instanceof Blob||R&&C instanceof File}e.isBinary=k;function S(C,b){if(!C||c(C)!=="object")return!1;if(Array.isArray(C)){for(var j=0,E=C.length;j<E;j++)if(S(C[j]))return!0;return!1}if(k(C))return!0;if(C.toJSON&&typeof C.toJSON=="function"&&arguments.length===1)return S(C.toJSON(),!0);for(var N in C)if(Object.prototype.hasOwnProperty.call(C,N)&&S(C[N]))return!0;return!1}e.hasBinary=S},"./node_modules/yeast/index.js":function(h,e,a){var c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),m=64,t={},_=0,g=0,R;function k(b){var j="";do j=c[b%m]+j,b=Math.floor(b/m);while(b>0);return j}function S(b){var j=0;for(g=0;g<b.length;g++)j=j*m+t[b.charAt(g)];return j}function C(){var b=k(+new Date);return b!==R?(_=0,R=b):b+"."+k(_++)}for(;g<m;g++)t[c[g]]=g;C.encode=k,C.decode=S,h.exports=C}})})})(mr);var Go=Lt(mr.exports),gr={exports:{}};(function(O,y){(function(e,a){O.exports=a()})(Tr,function(){return function(){var h={"../../node_modules/@feathersjs/hooks/lib/base.js":function(m,t,_){function g(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(i){return typeof i}:g=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},g(r)}function R(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),o&&k(r,o)}function k(r,o){return k=Object.setPrototypeOf||function(n,p){return n.__proto__=p,n},k(r,o)}function S(r){var o=j();return function(){var n=E(r),p;if(o){var v=E(this).constructor;p=Reflect.construct(n,arguments,v)}else p=n.apply(this,arguments);return C(this,p)}}function C(r,o){if(o&&(g(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(r)}function b(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function j(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}function E(r){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},E(r)}function N(r,o){for(var i=0;i<o.length;i++){var n=o[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function M(r,o,i){return o&&N(r.prototype,o),i&&N(r,i),r}function x(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.setMiddleware=t.getMiddleware=t.setManager=t.getManager=t.convertOptions=t.HookManager=t.BaseHookContext=t.HOOKS=void 0;var I=_("../../node_modules/@feathersjs/hooks/lib/utils.js");t.HOOKS=Symbol("@feathersjs/hooks");var A=function r(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};x(this,r),Object.defineProperty(this,"self",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.assign(this,o)};t.BaseHookContext=A;var f=function(){function r(){x(this,r),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_params",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_middleware",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_props",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_defaults",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return M(r,[{key:"parent",value:function(i){return this._parent=i,this}},{key:"middleware",value:function(i){return this._middleware=(i==null?void 0:i.length)?i:null,this}},{key:"getMiddleware",value:function(){var i,n=(i=this._parent)===null||i===void 0?void 0:i.getMiddleware();return n&&this._middleware?n.concat(this._middleware):n||this._middleware}},{key:"collectMiddleware",value:function(i,n){var p=w(i),v=this.getMiddleware();return p&&v?p.concat(v):p||v||[]}},{key:"props",value:function(i){return this._props||(this._props={}),I.copyProperties(this._props,i),this}},{key:"getProps",value:function(){var i,n=(i=this._parent)===null||i===void 0?void 0:i.getProps();return n&&this._props?I.copyProperties({},n,this._props):n||this._props||null}},{key:"params",value:function(){for(var i=arguments.length,n=new Array(i),p=0;p<i;p++)n[p]=arguments[p];return this._params=n,this}},{key:"getParams",value:function(){var i,n=(i=this._parent)===null||i===void 0?void 0:i.getParams();return n&&this._params?n.concat(this._params):n||this._params}},{key:"defaults",value:function(i){return this._defaults=i,this}},{key:"getDefaults",value:function(i,n,p){var v,P=typeof this._defaults=="function"?this._defaults(i,n,p):null,T=(v=this._parent)===null||v===void 0?void 0:v.getDefaults(i,n,p);return T&&P?Object.assign({},T,P):T||P}},{key:"getContextClass",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A,n=function(P){R(D,P);var T=S(D);function D(F){var H;return x(this,D),H=T.call(this,F),I.copyToSelf(b(H)),H}return D}(i),p=this.getParams(),v=this.getProps();return p&&p.forEach(function(P,T){if((v==null?void 0:v[P])!==void 0)throw new Error("Hooks can not have a property and param named '".concat(P,"'. Use .defaults instead."));Object.defineProperty(n.prototype,P,{enumerable:!0,get:function(){return this===null||this===void 0?void 0:this.arguments[T]},set:function(F){this.arguments[T]=F}})}),v&&I.copyProperties(n.prototype,v),n}},{key:"initializeContext",value:function(i,n,p){var v=this._parent?this._parent.initializeContext(i,n,p):p,P=this.getDefaults(i,n,v);if(i&&(v.self=i),v.arguments=n,P)for(var T=0,D=Object.keys(P);T<D.length;T++){var F=D[T];v[F]===void 0&&(v[F]=P[F])}return v}}]),r}();t.HookManager=f;function l(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return r?Array.isArray(r)?new f().middleware(r):r:new f}t.convertOptions=l;function s(r){return r&&r[t.HOOKS]||null}t.getManager=s;function d(r,o){var i=s(r);return r[t.HOOKS]=o.parent(i),r}t.setManager=d;function w(r){var o=s(r);return o?o.getMiddleware():null}t.getMiddleware=w;function u(r,o){var i=new f().middleware(o);return d(r,i)}t.setMiddleware=u},"../../node_modules/@feathersjs/hooks/lib/compose.js":function(m,t){function _(S,C){var b=typeof Symbol!="undefined"&&S[Symbol.iterator]||S["@@iterator"];if(!b){if(Array.isArray(S)||(b=g(S))||C&&S&&typeof S.length=="number"){b&&(S=b);var j=0,E=function(){};return{s:E,n:function(){return j>=S.length?{done:!0}:{done:!1,value:S[j++]}},e:function(A){throw A},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N=!0,M=!1,x;return{s:function(){b=b.call(S)},n:function(){var A=b.next();return N=A.done,A},e:function(A){M=!0,x=A},f:function(){try{!N&&b.return!=null&&b.return()}finally{if(M)throw x}}}}function g(S,C){if(!!S){if(typeof S=="string")return R(S,C);var b=Object.prototype.toString.call(S).slice(8,-1);if(b==="Object"&&S.constructor&&(b=S.constructor.name),b==="Map"||b==="Set")return Array.from(S);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return R(S,C)}}function R(S,C){(C==null||C>S.length)&&(C=S.length);for(var b=0,j=new Array(C);b<C;b++)j[b]=S[b];return j}Object.defineProperty(t,"__esModule",{value:!0}),t.compose=void 0;function k(S){if(!Array.isArray(S))throw new TypeError("Middleware stack must be an array!");var C=_(S),b;try{for(C.s();!(b=C.n()).done;){var j=b.value;if(typeof j!="function")throw new TypeError("Middleware must be composed of functions!")}}catch(E){C.e(E)}finally{C.f()}return function(E,N){var M=-1;return x.call(this,0);function x(I){if(I<=M)return Promise.reject(new Error("next() called multiple times"));M=I;var A=S[I];if(I===S.length&&(A=N),!A)return Promise.resolve();try{return Promise.resolve(A.call(this,E,x.bind(this,I+1)))}catch(f){return Promise.reject(f)}}}}t.compose=k},"../../node_modules/@feathersjs/hooks/lib/hooks.js":function(m,t,_){Object.defineProperty(t,"__esModule",{value:!0}),t.hookDecorator=t.objectHooks=t.functionHooks=t.getOriginal=void 0;var g=_("../../node_modules/@feathersjs/hooks/lib/compose.js"),R=_("../../node_modules/@feathersjs/hooks/lib/base.js"),k=_("../../node_modules/@feathersjs/hooks/lib/utils.js");function S(E){return typeof E.original=="function"?S(E.original):E}t.getOriginal=S;function C(E,N){if(typeof E!="function")throw new Error("Can not apply hooks to non-function");var M=R.convertOptions(N),x=function I(){for(var A=this,f=I.Context,l=I.original,s=arguments.length,d=new Array(s),w=0;w<s;w++)d[w]=arguments[w];var u=d[d.length-1]instanceof f,r=u?d.pop():new f,o=M.initializeContext(this,d,r),i=[function(p,v){return v().then(function(){return u?p:p.result})}],n=M.collectMiddleware(this,d);return n&&Array.prototype.push.apply(i,n),i.push(function(p,v){return Object.prototype.hasOwnProperty.call(o,"result")?v():Promise.resolve(l.apply(A,p.arguments)).then(function(P){return p.result=P,v()})}),g.compose(i).call(this,o)};return k.copyFnProperties(x,E),k.copyProperties(x,E),R.setManager(x,M),Object.assign(x,{original:S(E),Context:M.getContextClass(),createContext:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new x.Context(A)}})}t.functionHooks=C;function b(E,N){var M=typeof E=="function"?E.prototype:E;return Array.isArray(N)?R.setMiddleware(M,N):Object.keys(N).reduce(function(x,I){var A=M[I];if(typeof A!="function")throw new Error("Can not apply hooks. '".concat(I,"' is not a function"));var f=R.convertOptions(N[I]);return x[I]=C(A,f.props({method:I})),x},M)}t.objectHooks=b;var j=function(N){var M=function(I,A,f){var l=R.convertOptions(N);if(!f)return R.setManager(I.prototype,l),I;var s=f.value;if(typeof s!="function")throw new Error("Can not apply hooks. '".concat(A,"' is not a function"));return f.value=C(s,l.props({method:A})),f};return M};t.hookDecorator=j},"../../node_modules/@feathersjs/hooks/lib/index.js":function(m,t,_){function g(A){return C(A)||S(A)||k(A)||R()}function R(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k(A,f){if(!!A){if(typeof A=="string")return b(A,f);var l=Object.prototype.toString.call(A).slice(8,-1);if(l==="Object"&&A.constructor&&(l=A.constructor.name),l==="Map"||l==="Set")return Array.from(A);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return b(A,f)}}function S(A){if(typeof Symbol!="undefined"&&A[Symbol.iterator]!=null||A["@@iterator"]!=null)return Array.from(A)}function C(A){if(Array.isArray(A))return b(A)}function b(A,f){(f==null||f>A.length)&&(f=A.length);for(var l=0,s=new Array(f);l<f;l++)s[l]=A[l];return s}var j=this&&this.__createBinding||(Object.create?function(A,f,l,s){s===void 0&&(s=l),Object.defineProperty(A,s,{enumerable:!0,get:function(){return f[l]}})}:function(A,f,l,s){s===void 0&&(s=l),A[s]=f[l]}),E=this&&this.__exportStar||function(A,f){for(var l in A)l!=="default"&&!Object.prototype.hasOwnProperty.call(f,l)&&j(f,A,l)};Object.defineProperty(t,"__esModule",{value:!0}),t.hooks=t.middleware=void 0;var N=_("../../node_modules/@feathersjs/hooks/lib/base.js"),M=_("../../node_modules/@feathersjs/hooks/lib/hooks.js");E(_("../../node_modules/@feathersjs/hooks/lib/hooks.js"),t),E(_("../../node_modules/@feathersjs/hooks/lib/compose.js"),t),E(_("../../node_modules/@feathersjs/hooks/lib/base.js"),t);function x(A,f){var l=new N.HookManager().middleware(A);return f&&(f.params&&l.params.apply(l,g(f.params)),f.defaults&&l.defaults(f.defaults),f.props&&l.props(f.props)),l}t.middleware=x;function I(){for(var A=arguments.length,f=new Array(A),l=0;l<A;l++)f[l]=arguments[l];var s=f[0],d=f[1];return typeof s=="function"&&(d instanceof N.HookManager||Array.isArray(d)||f.length===1)?M.functionHooks(s,d):f.length===2?M.objectHooks(s,d):M.hookDecorator(s)}t.hooks=I},"../../node_modules/@feathersjs/hooks/lib/utils.js":function(m,t){function _(E,N){var M=typeof Symbol!="undefined"&&E[Symbol.iterator]||E["@@iterator"];if(!M){if(Array.isArray(E)||(M=g(E))||N&&E&&typeof E.length=="number"){M&&(E=M);var x=0,I=function(){};return{s:I,n:function(){return x>=E.length?{done:!0}:{done:!1,value:E[x++]}},e:function(d){throw d},f:I}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var A=!0,f=!1,l;return{s:function(){M=M.call(E)},n:function(){var d=M.next();return A=d.done,d},e:function(d){f=!0,l=d},f:function(){try{!A&&M.return!=null&&M.return()}finally{if(f)throw l}}}}function g(E,N){if(!!E){if(typeof E=="string")return R(E,N);var M=Object.prototype.toString.call(E).slice(8,-1);if(M==="Object"&&E.constructor&&(M=E.constructor.name),M==="Map"||M==="Set")return Array.from(E);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return R(E,N)}}function R(E,N){(N==null||N>E.length)&&(N=E.length);for(var M=0,x=new Array(N);M<N;M++)x[M]=E[M];return x}Object.defineProperty(t,"__esModule",{value:!0}),t.copyFnProperties=t.copyProperties=t.copyToSelf=void 0;var k=Object.prototype,S=typeof k.__lookupGetter__=="function"&&typeof k.__defineGetter__=="function"&&typeof k.__defineSetter__=="function";function C(E){for(var N in E)if(!E.hasOwnProperty(N)){var M=S?E.constructor.prototype.__lookupGetter__(N):Object.getOwnPropertyDescriptor(E,N);if(S&&M){E.__defineGetter__(N,M);var x=E.constructor.prototype.__lookupSetter__(N);x&&E.__defineSetter__(N,x)}else M?Object.defineProperty(E,N,M):E[N]=E[N]}}t.copyToSelf=C;function b(E){for(var N=arguments.length,M=new Array(N>1?N-1:0),x=1;x<N;x++)M[x-1]=arguments[x];for(var I=0,A=M;I<A.length;I++){var f=A[I],l=Object.keys(f).concat(Object.getOwnPropertySymbols(f)),s=_(l),d;try{for(s.s();!(d=s.n()).done;){var w=d.value,u=Object.getOwnPropertyDescriptor(f,w);u&&!Object.prototype.hasOwnProperty.call(E,w)&&Object.defineProperty(E,w,u)}}catch(r){s.e(r)}finally{s.f()}}return E}t.copyProperties=b;function j(E,N){var M=["name","length"];try{for(var x=0,I=M;x<I.length;x++){var A=I[x],f=N[A];Object.defineProperty(E,A,{value:f})}}catch(l){}return E}t.copyFnProperties=j},"../authentication-client/lib/core.js":function(m,t,_){function g(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(v){return typeof v}:g=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},g(n)}function R(n,p){for(var v=0;v<p.length;v++){var P=p[v];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(n,P.key,P)}}function k(n,p,v){return p&&R(n.prototype,p),v&&R(n,v),n}function S(n,p){return N(n)||E(n,p)||b(n,p)||C()}function C(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(n,p){if(!!n){if(typeof n=="string")return j(n,p);var v=Object.prototype.toString.call(n).slice(8,-1);if(v==="Object"&&n.constructor&&(v=n.constructor.name),v==="Map"||v==="Set")return Array.from(n);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return j(n,p)}}function j(n,p){(p==null||p>n.length)&&(p=n.length);for(var v=0,P=new Array(p);v<p;v++)P[v]=n[v];return P}function E(n,p){var v=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(v!=null){var P=[],T=!0,D=!1,F,H;try{for(v=v.call(n);!(T=(F=v.next()).done)&&(P.push(F.value),!(p&&P.length===p));T=!0);}catch(L){D=!0,H=L}finally{try{!T&&v.return!=null&&v.return()}finally{if(D)throw H}}return P}}function N(n){if(Array.isArray(n))return n}function M(n,p){if(!(n instanceof p))throw new TypeError("Cannot call a class as a function")}function x(n,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(p&&p.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),p&&I(n,p)}function I(n,p){return I=Object.setPrototypeOf||function(P,T){return P.__proto__=T,P},I(n,p)}function A(n){var p=s();return function(){var P=d(n),T;if(p){var D=d(this).constructor;T=Reflect.construct(P,arguments,D)}else T=P.apply(this,arguments);return f(this,T)}}function f(n,p){if(p&&(g(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(n)}function l(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function s(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function d(n){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)},d(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.AuthenticationClient=void 0;var w=_("../errors/lib/index.js"),u=_("../authentication-client/lib/storage.js"),r=function(n){x(v,n);var p=A(v);function v(P,T){return M(this,v),p.call(this,P,"OauthError",401,"oauth-error",T)}return v}(w.FeathersError),o=function(p,v){var P=new RegExp("(?:&?)".concat(v,"=([^&]*)")),T=p.hash?p.hash.match(P):null;if(T!==null){var D=S(T,2),F=D[1];return[F,P]}return[null,P]},i=function(){function n(p,v){M(this,n);var P=p.io,T=new u.StorageWrapper(p.get("storage")||v.storage);this.app=p,this.options=v,this.authenticated=!1,this.app.set("storage",T),P&&this.handleSocket(P)}return k(n,[{key:"service",get:function(){return this.app.service(this.options.path)}},{key:"storage",get:function(){return this.app.get("storage")}},{key:"handleSocket",value:function(v){var P=this,T=this.app.io?"connect":"open",D=this.app.io?"disconnect":"disconnection";v.on(D,function(){var F=new Promise(function(H){return v.once(T,function(L){return H(L)})}).then(function(){return P.authenticated?P.reAuthenticate(!0):null});P.app.set("authentication",F)})}},{key:"getFromLocation",value:function(v){var P=o(v,this.options.locationKey),T=S(P,2),D=T[0],F=T[1];if(D!==null)return v.hash=v.hash.replace(F,""),Promise.resolve(D);var H=o(v,this.options.locationErrorKey),L=S(H,2),z=L[0],J=L[1];return z!==null?(v.hash=v.hash.replace(J,""),Promise.reject(new r(decodeURIComponent(z)))):Promise.resolve(null)}},{key:"setAccessToken",value:function(v){return this.storage.setItem(this.options.storageKey,v)}},{key:"getAccessToken",value:function(){var v=this;return this.storage.getItem(this.options.storageKey).then(function(P){return!P&&typeof window!="undefined"&&window.location?v.getFromLocation(window.location):P||null})}},{key:"removeAccessToken",value:function(){return this.storage.removeItem(this.options.storageKey)}},{key:"reset",value:function(){return this.app.set("authentication",null),this.authenticated=!1,Promise.resolve(null)}},{key:"handleError",value:function(v,P){var T=this;if(v.code===401||v.code===403){var D=this.removeAccessToken().then(function(){return T.reset()});return P==="logout"?D:D.then(function(){return Promise.reject(v)})}return Promise.reject(v)}},{key:"reAuthenticate",value:function(){var v=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,T=arguments.length>1?arguments[1]:void 0,D=this.app.get("authentication");return!D||P===!0?this.getAccessToken().then(function(F){if(!F)throw new w.NotAuthenticated("No accessToken found in storage");return v.authenticate({strategy:T||v.options.jwtStrategy,accessToken:F})}):D}},{key:"authenticate",value:function(v,P){var T=this;if(!v)return this.reAuthenticate();var D=this.service.create(v,P).then(function(F){var H=F.accessToken;return T.authenticated=!0,T.app.emit("login",F),T.app.emit("authenticated",F),T.setAccessToken(H).then(function(){return F})}).catch(function(F){return T.handleError(F,"authenticate")});return this.app.set("authentication",D),D}},{key:"logout",value:function(){var v=this;return Promise.resolve(this.app.get("authentication")).then(function(){return v.service.remove(null).then(function(P){return v.removeAccessToken().then(function(){return v.reset()}).then(function(){return v.app.emit("logout",P),P})})}).catch(function(P){return v.handleError(P,"logout")})}}]),n}();t.AuthenticationClient=i},"../authentication-client/lib/hooks/authentication.js":function(m,t,_){Object.defineProperty(t,"__esModule",{value:!0}),t.authentication=void 0;var g=_("../commons/lib/index.js"),R=function(){return function(S,C){var b=S.app,j=S.params,E=S.path,N=S.method,M=S.app.authentication;return(0,g.stripSlashes)(M.options.path)===E&&N==="create"?C():Promise.resolve(b.get("authentication")).then(function(x){x&&(S.params=Object.assign({},x,j))}).then(C)}};t.authentication=R},"../authentication-client/lib/hooks/index.js":function(m,t,_){Object.defineProperty(t,"__esModule",{value:!0}),t.populateHeader=t.authentication=void 0;var g=_("../authentication-client/lib/hooks/authentication.js");Object.defineProperty(t,"authentication",{enumerable:!0,get:function(){return g.authentication}});var R=_("../authentication-client/lib/hooks/populate-header.js");Object.defineProperty(t,"populateHeader",{enumerable:!0,get:function(){return R.populateHeader}})},"../authentication-client/lib/hooks/populate-header.js":function(m,t){function _(R,k,S){return k in R?Object.defineProperty(R,k,{value:S,enumerable:!0,configurable:!0,writable:!0}):R[k]=S,R}Object.defineProperty(t,"__esModule",{value:!0}),t.populateHeader=void 0;var g=function(){return function(k,S){var C=k.app,b=k.params.accessToken,j=C.authentication;if(C.rest&&b){var E=j.options,N=E.scheme,M=E.header,x="".concat(N," ").concat(b);k.params.headers=Object.assign({},_({},M,x),k.params.headers)}return S()}};t.populateHeader=g},"../authentication-client/lib/index.js":function(m,t,_){var g=this&&this.__createBinding||(Object.create?function(N,M,x,I){I===void 0&&(I=x),Object.defineProperty(N,I,{enumerable:!0,get:function(){return M[x]}})}:function(N,M,x,I){I===void 0&&(I=x),N[I]=M[x]}),R=this&&this.__setModuleDefault||(Object.create?function(N,M){Object.defineProperty(N,"default",{enumerable:!0,value:M})}:function(N,M){N.default=M}),k=this&&this.__importStar||function(N){if(N&&N.__esModule)return N;var M={};if(N!=null)for(var x in N)x!=="default"&&Object.prototype.hasOwnProperty.call(N,x)&&g(M,N,x);return R(M,N),M};Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=t.defaultStorage=t.hooks=t.MemoryStorage=t.AuthenticationClient=t.getDefaultStorage=void 0;var S=_("../authentication-client/lib/core.js");Object.defineProperty(t,"AuthenticationClient",{enumerable:!0,get:function(){return S.AuthenticationClient}});var C=k(_("../authentication-client/lib/hooks/index.js"));t.hooks=C;var b=_("../authentication-client/lib/storage.js");Object.defineProperty(t,"MemoryStorage",{enumerable:!0,get:function(){return b.MemoryStorage}});var j=function(){try{return new b.StorageWrapper(window.localStorage)}catch(M){}return new b.MemoryStorage};t.getDefaultStorage=j,t.defaultStorage=(0,t.getDefaultStorage)(),t.defaults={header:"Authorization",scheme:"Bearer",storageKey:"feathers-jwt",locationKey:"access_token",locationErrorKey:"error",jwtStrategy:"jwt",path:"/authentication",Authentication:S.AuthenticationClient,storage:t.defaultStorage};var E=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=Object.assign({},t.defaults,M),I=x.Authentication;return function(A){var f=new I(A,x);A.authentication=f,A.authenticate=f.authenticate.bind(f),A.reAuthenticate=f.reAuthenticate.bind(f),A.logout=f.logout.bind(f),A.hooks([C.authentication(),C.populateHeader()])}};t.default=E,m.exports=Object.assign(E,m.exports)},"../authentication-client/lib/storage.js":function(m,t){function _(C,b){if(!(C instanceof b))throw new TypeError("Cannot call a class as a function")}function g(C,b){for(var j=0;j<b.length;j++){var E=b[j];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(C,E.key,E)}}function R(C,b,j){return b&&g(C.prototype,b),j&&g(C,j),C}Object.defineProperty(t,"__esModule",{value:!0}),t.StorageWrapper=t.MemoryStorage=void 0;var k=function(){function C(){_(this,C),this.store={}}return R(C,[{key:"getItem",value:function(j){return Promise.resolve(this.store[j])}},{key:"setItem",value:function(j,E){return Promise.resolve(this.store[j]=E)}},{key:"removeItem",value:function(j){var E=this.store[j];return delete this.store[j],Promise.resolve(E)}}]),C}();t.MemoryStorage=k;var S=function(){function C(b){_(this,C),this.storage=b}return R(C,[{key:"getItem",value:function(j){return Promise.resolve(this.storage.getItem(j))}},{key:"setItem",value:function(j,E){return Promise.resolve(this.storage.setItem(j,E))}},{key:"removeItem",value:function(j){return Promise.resolve(this.storage.removeItem(j))}}]),C}();t.StorageWrapper=S},"../commons/lib/debug.js":function(m,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createDebug=t.setDebug=t.noopDebug=void 0;var _={};function g(){return function(){}}t.noopDebug=g;var R=g;function k(C){R=C,Object.keys(_).forEach(function(b){_[b]=C(b)})}t.setDebug=k;function S(C){return _[C]||(_[C]=R(C)),function(){return _[C].apply(_,arguments)}}t.createDebug=S},"../commons/lib/index.js":function(m,t,_){function g(f,l,s){return l in f?Object.defineProperty(f,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):f[l]=s,f}function R(f){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(s){return typeof s}:R=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},R(f)}function k(f,l){return E(f)||j(f,l)||C(f,l)||S()}function S(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C(f,l){if(!!f){if(typeof f=="string")return b(f,l);var s=Object.prototype.toString.call(f).slice(8,-1);if(s==="Object"&&f.constructor&&(s=f.constructor.name),s==="Map"||s==="Set")return Array.from(f);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return b(f,l)}}function b(f,l){(l==null||l>f.length)&&(l=f.length);for(var s=0,d=new Array(l);s<l;s++)d[s]=f[s];return d}function j(f,l){var s=f==null?null:typeof Symbol!="undefined"&&f[Symbol.iterator]||f["@@iterator"];if(s!=null){var d=[],w=!0,u=!1,r,o;try{for(s=s.call(f);!(w=(r=s.next()).done)&&(d.push(r.value),!(l&&d.length===l));w=!0);}catch(i){u=!0,o=i}finally{try{!w&&s.return!=null&&s.return()}finally{if(u)throw o}}return d}}function E(f){if(Array.isArray(f))return f}var N=this&&this.__createBinding||(Object.create?function(f,l,s,d){d===void 0&&(d=s),Object.defineProperty(f,d,{enumerable:!0,get:function(){return l[s]}})}:function(f,l,s,d){d===void 0&&(d=s),f[d]=l[s]}),M=this&&this.__exportStar||function(f,l){for(var s in f)s!=="default"&&!Object.prototype.hasOwnProperty.call(l,s)&&N(l,f,s)};Object.defineProperty(t,"__esModule",{value:!0}),t.createSymbol=t.isPromise=t._=t.stripSlashes=void 0;function x(f){return f.replace(/^(\/+)|(\/+)$/g,"")}t.stripSlashes=x,t._={each:function(l,s){l&&typeof l.forEach=="function"?l.forEach(s):t._.isObject(l)&&Object.keys(l).forEach(function(d){return s(l[d],d)})},some:function(l,s){return Object.keys(l).map(function(d){return[l[d],d]}).some(function(d){var w=k(d,2),u=w[0],r=w[1];return s(u,r)})},every:function(l,s){return Object.keys(l).map(function(d){return[l[d],d]}).every(function(d){var w=k(d,2),u=w[0],r=w[1];return s(u,r)})},keys:function(l){return Object.keys(l)},values:function(l){return t._.keys(l).map(function(s){return l[s]})},isMatch:function(l,s){return t._.keys(s).every(function(d){return l[d]===s[d]})},isEmpty:function(l){return t._.keys(l).length===0},isObject:function(l){return R(l)==="object"&&!Array.isArray(l)&&l!==null},isObjectOrArray:function(l){return R(l)==="object"&&l!==null},extend:function(l){for(var s=arguments.length,d=new Array(s>1?s-1:0),w=1;w<s;w++)d[w-1]=arguments[w];return Object.assign.apply(Object,[l].concat(d))},omit:function(l){for(var s=t._.extend({},l),d=arguments.length,w=new Array(d>1?d-1:0),u=1;u<d;u++)w[u-1]=arguments[u];return w.forEach(function(r){return delete s[r]}),s},pick:function(l){for(var s=arguments.length,d=new Array(s>1?s-1:0),w=1;w<s;w++)d[w-1]=arguments[w];return d.reduce(function(u,r){return l[r]!==void 0&&(u[r]=l[r]),u},{})},merge:function(l,s){return t._.isObject(l)&&t._.isObject(s)&&Object.keys(s).forEach(function(d){t._.isObject(s[d])?(l[d]||Object.assign(l,g({},d,{})),t._.merge(l[d],s[d])):Object.assign(l,g({},d,s[d]))}),l}};function I(f){return t._.isObject(f)&&typeof f.then=="function"}t.isPromise=I;function A(f){return typeof Symbol!="undefined"?Symbol(f):f}t.createSymbol=A,M(_("../commons/lib/debug.js"),t)},"../errors/lib/index.js":function(m,t){var _=["message","errors"];function g($,G){if($==null)return{};var B=R($,G),K,q;if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols($);for(q=0;q<Z.length;q++)K=Z[q],!(G.indexOf(K)>=0)&&(!Object.prototype.propertyIsEnumerable.call($,K)||(B[K]=$[K]))}return B}function R($,G){if($==null)return{};var B={},K=Object.keys($),q,Z;for(Z=0;Z<K.length;Z++)q=K[Z],!(G.indexOf(q)>=0)&&(B[q]=$[q]);return B}function k($){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?k=function(B){return typeof B}:k=function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},k($)}function S($,G){if(!($ instanceof G))throw new TypeError("Cannot call a class as a function")}function C($,G){for(var B=0;B<G.length;B++){var K=G[B];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty($,K.key,K)}}function b($,G,B){return G&&C($.prototype,G),B&&C($,B),$}function j($,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(G&&G.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),G&&l($,G)}function E($){var G=A();return function(){var K=s($),q;if(G){var Z=s(this).constructor;q=Reflect.construct(K,arguments,Z)}else q=K.apply(this,arguments);return N(this,q)}}function N($,G){if(G&&(k(G)==="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M($)}function M($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function x($){var G=typeof Map=="function"?new Map:void 0;return x=function(K){if(K===null||!f(K))return K;if(typeof K!="function")throw new TypeError("Super expression must either be null or a function");if(typeof G!="undefined"){if(G.has(K))return G.get(K);G.set(K,q)}function q(){return I(K,arguments,s(this).constructor)}return q.prototype=Object.create(K.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),l(q,K)},x($)}function I($,G,B){return A()?I=Reflect.construct:I=function(q,Z,ce){var ue=[null];ue.push.apply(ue,Z);var le=Function.bind.apply(q,ue),se=new le;return ce&&l(se,ce.prototype),se},I.apply(null,arguments)}function A(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch($){return!1}}function f($){return Function.toString.call($).indexOf("[native code]")!==-1}function l($,G){return l=Object.setPrototypeOf||function(K,q){return K.__proto__=q,K},l($,G)}function s($){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)},s($)}Object.defineProperty(t,"__esModule",{value:!0}),t.convert=t.errors=t.Unavailable=t.BadGateway=t.NotImplemented=t.GeneralError=t.TooManyRequests=t.Unprocessable=t.LengthRequired=t.Gone=t.Conflict=t.Timeout=t.NotAcceptable=t.MethodNotAllowed=t.NotFound=t.Forbidden=t.PaymentError=t.NotAuthenticated=t.BadRequest=t.FeathersError=void 0;var d=function($){j(B,$);var G=E(B);function B(K,q,Z,ce,ue){var le;S(this,B);var se=typeof K=="string"?K:"Error",_e={name:q,code:Z,className:ce,type:"FeathersError"};if(Array.isArray(ue))_e.data=ue;else if(k(K)==="object"||ue!==void 0){var ke=k(K)==="object"?K:ue,Ge=ke.message,ze=ke.errors,De=g(ke,_);se=Ge||se,_e.errors=ze,_e.data=De}return le=G.call(this,se),Object.assign(M(le),_e),le}return b(B,[{key:"toJSON",value:function(){var q={name:this.name,message:this.message,code:this.code,className:this.className};return this.data!==void 0&&(q.data=this.data),this.errors!==void 0&&(q.errors=this.errors),q}}]),B}(x(Error));t.FeathersError=d;var w=function($){j(B,$);var G=E(B);function B(K,q){return S(this,B),G.call(this,K,"BadRequest",400,"bad-request",q)}return B}(d);t.BadRequest=w;var u=function($){j(B,$);var G=E(B);function B(K,q){return S(this,B),G.call(this,K,"NotAuthenticated",401,"not-authenticated",q)}return B}(d);t.NotAuthenticated=u;var r=function($){j(B,$);var G=E(B);function B(K,q){return S(this,B),G.call(this,K,"PaymentError",402,"payment-error",q)}return B}(d);t.PaymentError=r;var o=function($){j(B,$);var G=E(B);function B(K,q){return S(this,B),G.call(this,K,"Forbidden",403,"forbidden",q)}return B}(d);t.Forbidden=o;var i=function($){j(B,$);var G=E(B);function B(K,q){return S(this,B),G.call(this,K,"NotFound",404,"not-found",q)}return B}(d);t.NotFound=i;var n=function($){j(B,$);var G=E(B);function B(K,q){return S(this,B),G.call(this,K,"MethodNotAllowed",405,"method-not-allowed",q)}return B}(d);t.MethodNotAllowed=n;var p=function($){j(B,$);var G=E(B);function B(K,q){return S(this,B),G.call(this,K,"NotAcceptable",406,"not-acceptable",q)}return B}(d);t.NotAcceptable=p;var v=function($){j(B,$);var G=E(B);function B(K,q){return S(this,B),G.call(this,K,"Timeout",408,"timeout",q)}return B}(d);t.Timeout=v;var P=function($){j(B,$);var G=E(B);function B(K,q){return S(this,B),G.call(this,K,"Conflict",409,"conflict",q)}return B}(d);t.Conflict=P;var T=function($){j(B,$);var G=E(B);function B(K,q){return S(this,B),G.call(this,K,"Gone",410,"gone",q)}return B}(d);t.Gone=T;var D=function($){j(B,$);var G=E(B);function B(K,q){return S(this,B),G.call(this,K,"LengthRequired",411,"length-required",q)}return B}(d);t.LengthRequired=D;var F=function($){j(B,$);var G=E(B);function B(K,q){return S(this,B),G.call(this,K,"Unprocessable",422,"unprocessable",q)}return B}(d);t.Unprocessable=F;var H=function($){j(B,$);var G=E(B);function B(K,q){return S(this,B),G.call(this,K,"TooManyRequests",429,"too-many-requests",q)}return B}(d);t.TooManyRequests=H;var L=function($){j(B,$);var G=E(B);function B(K,q){return S(this,B),G.call(this,K,"GeneralError",500,"general-error",q)}return B}(d);t.GeneralError=L;var z=function($){j(B,$);var G=E(B);function B(K,q){return S(this,B),G.call(this,K,"NotImplemented",501,"not-implemented",q)}return B}(d);t.NotImplemented=z;var J=function($){j(B,$);var G=E(B);function B(K,q){return S(this,B),G.call(this,K,"BadGateway",502,"bad-gateway",q)}return B}(d);t.BadGateway=J;var X=function($){j(B,$);var G=E(B);function B(K,q){return S(this,B),G.call(this,K,"Unavailable",503,"unavailable",q)}return B}(d);t.Unavailable=X,t.errors={FeathersError:d,BadRequest:w,NotAuthenticated:u,PaymentError:r,Forbidden:o,NotFound:i,MethodNotAllowed:n,NotAcceptable:p,Timeout:v,Conflict:P,LengthRequired:D,Unprocessable:F,TooManyRequests:H,GeneralError:L,NotImplemented:z,BadGateway:J,Unavailable:X,400:w,401:u,402:r,403:o,404:i,405:n,406:p,408:v,409:P,410:T,411:D,422:F,429:H,500:L,501:z,502:J,503:X};function Y($){if(!$)return $;var G=t.errors[$.name],B=G?new G($.message,$.data):new Error($.message||$);return k($)==="object"&&Object.assign(B,$),B}t.convert=Y},"../feathers/lib/application.js":function(m,t,_){function g(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(L){return typeof L}:g=function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},g(F)}function R(F){return C(F)||S(F)||j(F)||k()}function k(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(F){if(typeof Symbol!="undefined"&&F[Symbol.iterator]!=null||F["@@iterator"]!=null)return Array.from(F)}function C(F){if(Array.isArray(F))return E(F)}function b(F,H){var L=typeof Symbol!="undefined"&&F[Symbol.iterator]||F["@@iterator"];if(!L){if(Array.isArray(F)||(L=j(F))||H&&F&&typeof F.length=="number"){L&&(F=L);var z=0,J=function(){};return{s:J,n:function(){return z>=F.length?{done:!0}:{done:!1,value:F[z++]}},e:function(B){throw B},f:J}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X=!0,Y=!1,$;return{s:function(){L=L.call(F)},n:function(){var B=L.next();return X=B.done,B},e:function(B){Y=!0,$=B},f:function(){try{!X&&L.return!=null&&L.return()}finally{if(Y)throw $}}}}function j(F,H){if(!!F){if(typeof F=="string")return E(F,H);var L=Object.prototype.toString.call(F).slice(8,-1);if(L==="Object"&&F.constructor&&(L=F.constructor.name),L==="Map"||L==="Set")return Array.from(F);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return E(F,H)}}function E(F,H){(H==null||H>F.length)&&(H=F.length);for(var L=0,z=new Array(H);L<H;L++)z[L]=F[L];return z}function N(F,H,L){return H in F?Object.defineProperty(F,H,{value:L,enumerable:!0,configurable:!0,writable:!0}):F[H]=L,F}function M(F,H){if(!(F instanceof H))throw new TypeError("Cannot call a class as a function")}function x(F,H){for(var L=0;L<H.length;L++){var z=H[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(F,z.key,z)}}function I(F,H,L){return H&&x(F.prototype,H),L&&x(F,L),F}function A(F,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(H&&H.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),H&&f(F,H)}function f(F,H){return f=Object.setPrototypeOf||function(z,J){return z.__proto__=J,z},f(F,H)}function l(F){var H=w();return function(){var z=u(F),J;if(H){var X=u(this).constructor;J=Reflect.construct(z,arguments,X)}else J=z.apply(this,arguments);return s(this,J)}}function s(F,H){if(H&&(g(H)==="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(F)}function d(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(F){return!1}}function u(F){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)},u(F)}var r=this&&this.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(t,"__esModule",{value:!0}),t.Feathers=void 0;var o=r(_("../feathers/lib/version.js")),i=_("../feathers/lib/dependencies.js"),n=_("../feathers/lib/events.js"),p=_("../feathers/lib/hooks/index.js"),v=_("../feathers/lib/service.js"),P=_("../feathers/lib/hooks/legacy.js"),T=(0,i.createDebug)("@feathersjs/feathers"),D=function(F){A(L,F);var H=l(L);function L(){var z;return M(this,L),z=H.call(this),z.services={},z.settings={},z.mixins=[p.hookMixin,n.eventMixin],z.version=o.default,z._isSetup=!1,z.appHooks=N({},i.HOOKS,[n.eventHook]),z.legacyHooks=(0,P.enableLegacyHooks)(d(z)),z}return I(L,[{key:"get",value:function(J){return this.settings[J]}},{key:"set",value:function(J,X){return this.settings[J]=X,this}},{key:"configure",value:function(J){return J.call(this,this),this}},{key:"defaultService",value:function(J){throw new Error("Can not find service '".concat(J,"'"))}},{key:"service",value:function(J){var X=(0,i.stripSlashes)(J)||"/",Y=this.services[X];return typeof Y=="undefined"?(this.use(X,this.defaultService(X)),this.service(X)):Y}},{key:"use",value:function(J,X,Y){var $=this;if(typeof J!="string")throw new Error("'".concat(J,"' is not a valid service path."));var G=(0,i.stripSlashes)(J)||"/",B=X,K=typeof B.service=="function"&&B.services;if(K)return Object.keys(B.services).forEach(function(se){return $.use("".concat(G,"/").concat(se),B.service(se))}),this;var q=(0,v.wrapService)(G,X,Y),Z=(0,v.getServiceOptions)(X,Y),ce=b(v.protectedMethods),ue;try{for(ce.s();!(ue=ce.n()).done;){var le=ue.value;if(Z.methods.includes(le))throw new Error("'".concat(le,"' on service '").concat(G,"' is not allowed as a custom method name"))}}catch(se){ce.e(se)}finally{ce.f()}return T("Registering new service at `".concat(G,"`")),this.mixins.forEach(function(se){return se.call($,q,G,Z)}),this._isSetup&&typeof q.setup=="function"&&(T("Setting up service for `".concat(G,"`")),q.setup(this,G)),this.services[G]=q,this}},{key:"hooks",value:function(J){var X=this,Y=J;if(Y.before||Y.after||Y.error)return this.legacyHooks(Y);if(Array.isArray(J)){var $;($=this.appHooks[i.HOOKS]).push.apply($,R(J))}else{var G=J;Object.keys(G).forEach(function(B){var K=X.appHooks[B]||[];X.appHooks[B]=K.concat(G[B])})}return this}},{key:"setup",value:function(){for(var J=this,X=Promise.resolve(),Y=function(){var K=G[$];X=X.then(function(){var q=J.service(K);if(typeof q.setup=="function")return T("Setting up service for `".concat(K,"`")),q.setup(J,K)})},$=0,G=Object.keys(this.services);$<G.length;$++)Y();return X.then(function(){return J._isSetup=!0,J})}}]),L}(i.EventEmitter);t.Feathers=D},"../feathers/lib/declarations.js":function(m,t){Object.defineProperty(t,"__esModule",{value:!0})},"../feathers/lib/dependencies.js":function(m,t,_){var g=this&&this.__createBinding||(Object.create?function(S,C,b,j){j===void 0&&(j=b),Object.defineProperty(S,j,{enumerable:!0,get:function(){return C[b]}})}:function(S,C,b,j){j===void 0&&(j=b),S[j]=C[b]}),R=this&&this.__exportStar||function(S,C){for(var b in S)b!=="default"&&!Object.prototype.hasOwnProperty.call(C,b)&&g(C,S,b)};Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;var k=_("../../node_modules/events/events.js");Object.defineProperty(t,"EventEmitter",{enumerable:!0,get:function(){return k.EventEmitter}}),R(_("../commons/lib/index.js"),t),R(_("../../node_modules/@feathersjs/hooks/lib/index.js"),t)},"../feathers/lib/events.js":function(m,t,_){Object.defineProperty(t,"__esModule",{value:!0}),t.eventMixin=t.eventHook=void 0;var g=_("../feathers/lib/dependencies.js"),R=_("../feathers/lib/service.js");function k(C,b){var j=(0,R.getServiceOptions)(C.self),E=j.events,N=R.defaultEventMap[C.method]||null;return C.event=N,b().then(function(){if(typeof C.event=="string"&&!E.includes(C.event)){var M=Array.isArray(C.result)?C.result:[C.result];M.forEach(function(x){return C.self.emit(C.event,x,C)})}})}t.eventHook=k;function S(C){var b=typeof C.on=="function"&&typeof C.emit=="function";return b||Object.assign(C,g.EventEmitter.prototype),C}t.eventMixin=S},"../feathers/lib/hooks/index.js":function(m,t,_){function g(P){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(D){return typeof D}:g=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},g(P)}function R(P){return b(P)||C(P)||S(P)||k()}function k(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(P,T){if(!!P){if(typeof P=="string")return j(P,T);var D=Object.prototype.toString.call(P).slice(8,-1);if(D==="Object"&&P.constructor&&(D=P.constructor.name),D==="Map"||D==="Set")return Array.from(P);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return j(P,T)}}function C(P){if(typeof Symbol!="undefined"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}function b(P){if(Array.isArray(P))return j(P)}function j(P,T){(T==null||T>P.length)&&(T=P.length);for(var D=0,F=new Array(T);D<T;D++)F[D]=P[D];return F}function E(P,T){if(!(P instanceof T))throw new TypeError("Cannot call a class as a function")}function N(P,T){for(var D=0;D<T.length;D++){var F=T[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}function M(P,T,D){return T&&N(P.prototype,T),D&&N(P,D),P}function x(P,T,D){return typeof Reflect!="undefined"&&Reflect.get?x=Reflect.get:x=function(H,L,z){var J=I(H,L);if(!!J){var X=Object.getOwnPropertyDescriptor(J,L);return X.get?X.get.call(z):X.value}},x(P,T,D||P)}function I(P,T){for(;!Object.prototype.hasOwnProperty.call(P,T)&&(P=u(P),P!==null););return P}function A(P,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(T&&T.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),T&&f(P,T)}function f(P,T){return f=Object.setPrototypeOf||function(F,H){return F.__proto__=H,F},f(P,T)}function l(P){var T=w();return function(){var F=u(P),H;if(T){var L=u(this).constructor;H=Reflect.construct(F,arguments,L)}else H=F.apply(this,arguments);return s(this,H)}}function s(P,T){if(T&&(g(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(P)}function d(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(P){return!1}}function u(P){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},u(P)}Object.defineProperty(t,"__esModule",{value:!0}),t.hookMixin=t.FeathersHookManager=t.createContext=t.fromErrorHooks=t.fromBeforeHook=t.fromAfterHook=void 0;var r=_("../feathers/lib/dependencies.js"),o=_("../feathers/lib/service.js"),i=_("../feathers/lib/hooks/legacy.js");Object.defineProperty(t,"fromAfterHook",{enumerable:!0,get:function(){return i.fromAfterHook}}),Object.defineProperty(t,"fromBeforeHook",{enumerable:!0,get:function(){return i.fromBeforeHook}}),Object.defineProperty(t,"fromErrorHooks",{enumerable:!0,get:function(){return i.fromErrorHooks}});function n(P,T){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},F=P[T].createContext;if(typeof F!="function")throw new Error("Can not create context for method ".concat(T));return F(D)}t.createContext=n;var p=function(P){A(D,P);var T=l(D);function D(F,H){var L;return E(this,D),L=T.call(this),L.app=F,L.method=H,L._middleware=[],L}return M(D,[{key:"collectMiddleware",value:function(H,L){var z=this.app,J=z.appHooks[r.HOOKS].concat(z.appHooks[this.method]||[]),X=(0,i.collectLegacyHooks)(this.app,this.method),Y=x(u(D.prototype),"collectMiddleware",this).call(this,H,L),$=(0,i.collectLegacyHooks)(H,this.method);return[].concat(R(J),R(X),R(Y),R($))}},{key:"initializeContext",value:function(H,L,z){var J=x(u(D.prototype),"initializeContext",this).call(this,H,L,z);return J.params=J.params||{},J}},{key:"middleware",value:function(H){var L;return(L=this._middleware).push.apply(L,R(H)),this}}]),D}(r.HookManager);t.FeathersHookManager=p;function v(P,T,D){if(typeof P.hooks=="function")return P;var F=this,H=(0,o.getHookMethods)(P,D).reduce(function(z,J){var X,Y=o.defaultServiceArguments[J]||["data","params"];return z[J]=(X=new p(F,J)).params.apply(X,R(Y)).props({app:F,path:T,method:J,service:P,event:null,type:null}),z},{}),L=(0,i.enableLegacyHooks)(P);return(0,r.hooks)(P,H),P.hooks=function(z){var J=this;return z.before||z.after||z.error?L.call(this,z):Array.isArray(z)?(0,r.hooks)(this,z):(Object.keys(z).forEach(function(X){var Y=(0,r.getManager)(J[X]);if(!(Y instanceof p))throw new Error("Method ".concat(X," is not a Feathers hooks enabled service method"));Y.middleware(z[X])}),this)},P}t.hookMixin=v},"../feathers/lib/hooks/legacy.js":function(m,t,_){function g(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(i){return typeof i}:g=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},g(r)}function R(r){return C(r)||S(r)||j(r)||k()}function k(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function C(r){if(Array.isArray(r))return E(r)}function b(r,o){var i=typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=j(r))||o&&r&&typeof r.length=="number"){i&&(r=i);var n=0,p=function(){};return{s:p,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(F){throw F},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v=!0,P=!1,T;return{s:function(){i=i.call(r)},n:function(){var F=i.next();return v=F.done,F},e:function(F){P=!0,T=F},f:function(){try{!v&&i.return!=null&&i.return()}finally{if(P)throw T}}}}function j(r,o){if(!!r){if(typeof r=="string")return E(r,o);var i=Object.prototype.toString.call(r).slice(8,-1);if(i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set")return Array.from(r);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return E(r,o)}}function E(r,o){(o==null||o>r.length)&&(o=r.length);for(var i=0,n=new Array(o);i<o;i++)n[i]=r[i];return n}function N(r,o){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);o&&(n=n.filter(function(p){return Object.getOwnPropertyDescriptor(r,p).enumerable})),i.push.apply(i,n)}return i}function M(r){for(var o=1;o<arguments.length;o++){var i=arguments[o]!=null?arguments[o]:{};o%2?N(Object(i),!0).forEach(function(n){x(r,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):N(Object(i)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(i,n))})}return r}function x(r,o,i){return o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r}Object.defineProperty(t,"__esModule",{value:!0}),t.enableLegacyHooks=t.convertHookData=t.collectLegacyHooks=t.fromErrorHooks=t.fromAfterHook=t.fromBeforeHook=void 0;var I=_("../feathers/lib/dependencies.js"),A=I._.each;function f(r){return function(o,i){return o.type="before",Promise.resolve(r.call(o.self,o)).then(function(){return o.type=null,i()})}}t.fromBeforeHook=f;function l(r){return function(o,i){return i().then(function(){return o.type="after",r.call(o.self,o)}).then(function(){o.type=null})}}t.fromAfterHook=l;function s(r){return function(o,i){return i().catch(function(n){var p=Promise.resolve();o.original=M({},o),o.error=n,o.type="error",delete o.result;var v=b(r),P;try{var T=function(){var F=P.value;p=p.then(function(){return F.call(o.self,o)})};for(v.s();!(P=v.n()).done;)T()}catch(D){v.e(D)}finally{v.f()}return p.then(function(){if(o.type=null,o.result===void 0)throw o.error})})}}t.fromErrorHooks=s;function d(r,o){var i=r.__hooks,n=i.before[o],p=n===void 0?[]:n,v=i.after[o],P=v===void 0?[]:v,T=i.error[o],D=T===void 0?[]:T,F=p,H=R(P).reverse(),L=s(D);return[L].concat(R(F),R(H))}t.collectLegacyHooks=d;function w(r){var o={};return Array.isArray(r)?o={all:r}:g(r)!=="object"?o={all:[r]}:A(r,function(i,n){o[n]=Array.isArray(i)?i:[i]}),o}t.convertHookData=w;function u(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["find","get","create","update","patch","remove"],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:["before","after","error"],n={};return i.forEach(function(p){n[p]={}}),Object.defineProperty(r,"__hooks",{configurable:!0,value:n,writable:!0}),function(v){var P=this;return A(v,function(T,D){if(!P.__hooks[D])throw new Error("'".concat(D,"' is not a valid hook type"));var F=w(T);A(F,function(H,L){if(L!=="all"&&o.indexOf(L)===-1)throw new Error("'".concat(L,"' is not a valid hook method"))}),o.forEach(function(H){var L,z=[].concat(R(F.all||[]),R(F[H]||[]));P.__hooks[D][H]=P.__hooks[D][H]||[],D==="before"&&(z=z.map(f)),D==="after"&&(z=z.map(l)),(L=P.__hooks[D][H]).push.apply(L,R(z))})}),this}}t.enableLegacyHooks=u},"../feathers/lib/index.js":function(m,t,_){var g=this&&this.__createBinding||(Object.create?function(E,N,M,x){x===void 0&&(x=M),Object.defineProperty(E,x,{enumerable:!0,get:function(){return N[M]}})}:function(E,N,M,x){x===void 0&&(x=M),E[x]=N[M]}),R=this&&this.__exportStar||function(E,N){for(var M in E)M!=="default"&&!Object.prototype.hasOwnProperty.call(N,M)&&g(N,E,M)},k=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(t,"__esModule",{value:!0}),t.Feathers=t.version=t.feathers=void 0;var S=_("../feathers/lib/dependencies.js"),C=k(_("../feathers/lib/version.js"));t.version=C.default;var b=_("../feathers/lib/application.js");Object.defineProperty(t,"Feathers",{enumerable:!0,get:function(){return b.Feathers}});function j(){return new b.Feathers}t.feathers=j,j.setDebug=S.setDebug,R(_("../feathers/lib/hooks/index.js"),t),R(_("../feathers/lib/declarations.js"),t),R(_("../feathers/lib/service.js"),t),m.exports=Object.assign(j,m.exports)},"../feathers/lib/service.js":function(m,t,_){function g(E,N){var M=Object.keys(E);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(E);N&&(x=x.filter(function(I){return Object.getOwnPropertyDescriptor(E,I).enumerable})),M.push.apply(M,x)}return M}function R(E){for(var N=1;N<arguments.length;N++){var M=arguments[N]!=null?arguments[N]:{};N%2?g(Object(M),!0).forEach(function(x){k(E,x,M[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(M)):g(Object(M)).forEach(function(x){Object.defineProperty(E,x,Object.getOwnPropertyDescriptor(M,x))})}return E}function k(E,N,M){return N in E?Object.defineProperty(E,N,{value:M,enumerable:!0,configurable:!0,writable:!0}):E[N]=M,E}Object.defineProperty(t,"__esModule",{value:!0}),t.wrapService=t.getServiceOptions=t.getHookMethods=t.protectedMethods=t.defaultEventMap=t.defaultServiceMethods=t.defaultServiceArguments=t.SERVICE=void 0;var S=_("../feathers/lib/dependencies.js");t.SERVICE=(0,S.createSymbol)("@feathersjs/service"),t.defaultServiceArguments={find:["params"],get:["id","params"],create:["data","params"],update:["id","data","params"],patch:["id","data","params"],remove:["id","params"]},t.defaultServiceMethods=Object.keys(t.defaultServiceArguments),t.defaultEventMap={create:"created",update:"updated",patch:"patched",remove:"removed"},t.protectedMethods=Object.keys(Object.prototype).concat(Object.keys(S.EventEmitter.prototype)).concat(["before","after","error","hooks","setup","publish"]);function C(E,N){var M=N.methods;return t.defaultServiceMethods.filter(function(x){return typeof E[x]=="function"&&!M.includes(x)}).concat(M)}t.getHookMethods=C;function b(E){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=E[t.SERVICE];if(M)return M;var x=N.methods,I=x===void 0?t.defaultServiceMethods.filter(function(d){return typeof E[d]=="function"}):x,A=N.events,f=A===void 0?E.events||[]:A,l=N.serviceEvents,s=l===void 0?Object.values(t.defaultEventMap).concat(f):l;return R(R({},N),{},{events:f,methods:I,serviceEvents:s})}t.getServiceOptions=b;function j(E,N,M){if(N[t.SERVICE])return N;var x=Object.create(N),I=b(N,M);if(Object.keys(I.methods).length===0&&typeof N.setup!="function")throw new Error("Invalid service object passed for path `".concat(E,"`"));return Object.defineProperty(x,t.SERVICE,{value:I}),x}t.wrapService=j},"../feathers/lib/version.js":function(m,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default="development"},"../rest-client/lib/axios.js":function(m,t,_){function g(f){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(s){return typeof s}:g=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},g(f)}function R(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}function k(f,l){for(var s=0;s<l.length;s++){var d=l[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function S(f,l,s){return l&&k(f.prototype,l),s&&k(f,s),f}function C(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),l&&b(f,l)}function b(f,l){return b=Object.setPrototypeOf||function(d,w){return d.__proto__=w,d},b(f,l)}function j(f){var l=M();return function(){var d=x(f),w;if(l){var u=x(this).constructor;w=Reflect.construct(d,arguments,u)}else w=d.apply(this,arguments);return E(this,w)}}function E(f,l){if(l&&(g(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(f)}function N(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function M(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}function x(f){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},x(f)}Object.defineProperty(t,"__esModule",{value:!0}),t.AxiosClient=void 0;var I=_("../rest-client/lib/base.js"),A=function(f){C(s,f);var l=j(s);function s(){return R(this,s),l.apply(this,arguments)}return S(s,[{key:"request",value:function(w,u){var r=Object.assign({url:w.url,method:w.method,data:w.body,headers:Object.assign({Accept:"application/json"},this.options.headers,w.headers)},u.connection);return this.connection.request(r).then(function(o){return o.data}).catch(function(o){var i=o.response||o;throw i instanceof Error?i:i.data||i})}}]),s}(I.Base);t.AxiosClient=A},"../rest-client/lib/base.js":function(m,t,_){function g(M,x){if(!(M instanceof x))throw new TypeError("Cannot call a class as a function")}function R(M,x){for(var I=0;I<x.length;I++){var A=x[I];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(M,A.key,A)}}function k(M,x,I){return x&&R(M.prototype,x),I&&R(M,I),M}var S=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(t,"__esModule",{value:!0}),t.Base=void 0;var C=S(_("../../node_modules/qs/lib/index.js")),b=_("../errors/lib/index.js"),j=_("../commons/lib/index.js");function E(M){throw M.code==="ECONNREFUSED"?new b.Unavailable(M.message,j._.pick(M,"address","port","config")):(0,b.convert)(M)}var N=function(){function M(x){g(this,M),this.name=(0,j.stripSlashes)(x.name),this.options=x.options,this.connection=x.connection,this.base="".concat(x.base,"/").concat(this.name)}return k(M,[{key:"makeUrl",value:function(I,A){var f=this.base;return I=I||{},typeof A!="undefined"&&A!==null&&(f+="/".concat(encodeURIComponent(A))),f+this.getQuery(I)}},{key:"getQuery",value:function(I){if(Object.keys(I).length!==0){var A=C.default.stringify(I);return"?".concat(A)}return""}},{key:"methods",value:function(){for(var I=this,A=arguments.length,f=new Array(A),l=0;l<A;l++)f[l]=arguments[l];return f.forEach(function(s){I[s]=function(d){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.request({body:d,url:this.makeUrl(w.query),method:"POST",headers:Object.assign({"Content-Type":"application/json","X-Service-Method":s},w.headers)},w).catch(E)}}),this}},{key:"find",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.request({url:this.makeUrl(I.query),method:"GET",headers:Object.assign({},I.headers)},I).catch(E)}},{key:"get",value:function(I){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof I=="undefined"?Promise.reject(new Error("id for 'get' can not be undefined")):this.request({url:this.makeUrl(A.query,I),method:"GET",headers:Object.assign({},A.headers)},A).catch(E)}},{key:"create",value:function(I){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.request({url:this.makeUrl(A.query),body:I,method:"POST",headers:Object.assign({"Content-Type":"application/json"},A.headers)},A).catch(E)}},{key:"update",value:function(I,A){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return typeof I=="undefined"?Promise.reject(new Error("id for 'update' can not be undefined, only 'null' when updating multiple entries")):this.request({url:this.makeUrl(f.query,I),body:A,method:"PUT",headers:Object.assign({"Content-Type":"application/json"},f.headers)},f).catch(E)}},{key:"patch",value:function(I,A){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return typeof I=="undefined"?Promise.reject(new Error("id for 'patch' can not be undefined, only 'null' when updating multiple entries")):this.request({url:this.makeUrl(f.query,I),body:A,method:"PATCH",headers:Object.assign({"Content-Type":"application/json"},f.headers)},f).catch(E)}},{key:"remove",value:function(I){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return typeof I=="undefined"?Promise.reject(new Error("id for 'remove' can not be undefined, only 'null' when removing multiple entries")):this.request({url:this.makeUrl(A.query,I),method:"DELETE",headers:Object.assign({},A.headers)},A).catch(E)}}]),M}();t.Base=N},"../rest-client/lib/fetch.js":function(m,t,_){function g(l){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(d){return typeof d}:g=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},g(l)}function R(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}function k(l,s){for(var d=0;d<s.length;d++){var w=s[d];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(l,w.key,w)}}function S(l,s,d){return s&&k(l.prototype,s),d&&k(l,d),l}function C(l,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(s&&s.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),s&&b(l,s)}function b(l,s){return b=Object.setPrototypeOf||function(w,u){return w.__proto__=u,w},b(l,s)}function j(l){var s=M();return function(){var w=x(l),u;if(s){var r=x(this).constructor;u=Reflect.construct(w,arguments,r)}else u=w.apply(this,arguments);return E(this,u)}}function E(l,s){if(s&&(g(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(l)}function N(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function M(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(l){return!1}}function x(l){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},x(l)}Object.defineProperty(t,"__esModule",{value:!0}),t.FetchClient=void 0;var I=_("../errors/lib/index.js"),A=_("../rest-client/lib/base.js"),f=function(l){C(d,l);var s=j(d);function d(){return R(this,d),s.apply(this,arguments)}return S(d,[{key:"request",value:function(u,r){var o=Object.assign({},u,r.connection);return o.headers=Object.assign({Accept:"application/json"},this.options.headers,o.headers),u.body&&(o.body=JSON.stringify(u.body)),this.connection(u.url,o).then(this.checkStatus).then(function(i){return i.status===204?null:i.json()})}},{key:"checkStatus",value:function(u){return u.ok?u:u.json().catch(function(){var r=I.errors[u.status]||Error;return new r("JSON parsing error")}).then(function(r){throw r.response=u,r})}}]),d}(A.Base);t.FetchClient=f},"../rest-client/lib/index.js":function(m,t,_){Object.defineProperty(t,"__esModule",{value:!0}),t.SuperagentClient=t.FetchClient=t.AxiosClient=void 0;var g=_("../rest-client/lib/base.js"),R=_("../rest-client/lib/axios.js");Object.defineProperty(t,"AxiosClient",{enumerable:!0,get:function(){return R.AxiosClient}});var k=_("../rest-client/lib/fetch.js");Object.defineProperty(t,"FetchClient",{enumerable:!0,get:function(){return k.FetchClient}});var S=_("../rest-client/lib/superagent.js");Object.defineProperty(t,"SuperagentClient",{enumerable:!0,get:function(){return S.SuperagentClient}});var C={superagent:S.SuperagentClient,fetch:k.FetchClient,axios:R.AxiosClient};function b(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",E={Base:g.Base};return Object.keys(C).forEach(function(N){E[N]=function(M){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C[N];if(!M)throw new Error("".concat(N," has to be provided to feathers-rest"));typeof x=="function"&&(I=x,x={});var A=function(s){return new I({base:j,name:s,connection:M,options:x})},f=function(s){if(s.rest!==void 0)throw new Error("Only one default client provider can be configured");s.rest=M,s.defaultService=A};return f.Service=I,f.service=A,f}}),E}t.default=b,m.exports=Object.assign(b,m.exports)},"../rest-client/lib/superagent.js":function(m,t,_){function g(f){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(s){return typeof s}:g=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},g(f)}function R(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}function k(f,l){for(var s=0;s<l.length;s++){var d=l[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(f,d.key,d)}}function S(f,l,s){return l&&k(f.prototype,l),s&&k(f,s),f}function C(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),l&&b(f,l)}function b(f,l){return b=Object.setPrototypeOf||function(d,w){return d.__proto__=w,d},b(f,l)}function j(f){var l=M();return function(){var d=x(f),w;if(l){var u=x(this).constructor;w=Reflect.construct(d,arguments,u)}else w=d.apply(this,arguments);return E(this,w)}}function E(f,l){if(l&&(g(l)==="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(f)}function N(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function M(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}function x(f){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},x(f)}Object.defineProperty(t,"__esModule",{value:!0}),t.SuperagentClient=void 0;var I=_("../rest-client/lib/base.js"),A=function(f){C(s,f);var l=j(s);function s(){return R(this,s),l.apply(this,arguments)}return S(s,[{key:"request",value:function(w,u){var r=this.connection(w.method,w.url).set(this.options.headers||{}).set("Accept","application/json").set(u.connection||{}).set(w.headers||{}).type(w.type||"json");return new Promise(function(o,i){r.set(w.headers),w.body&&r.send(w.body),r.end(function(n,p){if(n){try{var v=n.response;n=JSON.parse(n.response.text),n.response=v}catch(P){}return i(n)}o(p&&p.body)})})}}]),s}(I.Base);t.SuperagentClient=A},"../socketio-client/lib/index.js":function(m,t,_){Object.defineProperty(t,"__esModule",{value:!0});var g=_("../transport-commons/client.js"),R=_("../feathers/lib/index.js");function k(S,C){if(!S)throw new Error("Socket.io connection needs to be provided");var b=function(N){var M=Object.values(R.defaultEventMap),x=Object.assign({},C,{events:M,name:N,connection:S,method:"emit"});return new g.Service(x)},j=function(N){if(N.io!==void 0)throw new Error("Only one default client provider can be configured");N.io=S,N.defaultService=b};return j.Service=g.Service,j.service=b,j}t.default=k,m.exports=Object.assign(k,m.exports)},"../transport-commons/client.js":function(m,t,_){m.exports=_("../transport-commons/lib/client.js")},"../transport-commons/lib/client.js":function(m,t,_){function g(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}function R(x,I){for(var A=0;A<I.length;A++){var f=I[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(x,f.key,f)}}function k(x,I,A){return I&&R(x.prototype,I),A&&R(x,A),x}Object.defineProperty(t,"__esModule",{value:!0}),t.Service=void 0;var S=_("../errors/lib/index.js"),C=_("../commons/lib/index.js"),b=(0,C.createDebug)("@feathersjs/transport-commons/client"),j=["addListener","emit","listenerCount","listeners","on","once","prependListener","prependOnceListener","removeAllListeners","removeListener"],E=["eventNames","getMaxListeners","setMaxListeners"],N=function(I){E.forEach(function(A){I[A]=function(){var f;if(typeof this.connection[A]!="function")throw new Error("Can not call '".concat(A,"' on the client service connection"));return(f=this.connection)[A].apply(f,arguments)}}),j.forEach(function(A){I[A]=function(f){var l;if(typeof this.connection[A]!="function")throw new Error("Can not call '".concat(A,"' on the client service connection"));var s="".concat(this.path," ").concat(f);b("Calling emitter method ".concat(A," with ")+"namespaced event '".concat(s,"'"));for(var d=arguments.length,w=new Array(d>1?d-1:0),u=1;u<d;u++)w[u-1]=arguments[u];var r=(l=this.connection)[A].apply(l,[s].concat(w));return r===this.connection?this:r}})},M=function(){function x(I){g(this,x),this.events=I.events,this.path=I.name,this.connection=I.connection,this.method=I.method,N(this)}return k(x,[{key:"send",value:function(A){for(var f=this,l=arguments.length,s=new Array(l>1?l-1:0),d=1;d<l;d++)s[d-1]=arguments[d];return new Promise(function(w,u){var r;s.unshift(A,f.path),s.push(function(o,i){return o?u((0,S.convert)(o)):w(i)}),b("Sending socket.".concat(f.method),s),(r=f.connection)[f.method].apply(r,s)})}},{key:"methods",value:function(){for(var A=this,f=arguments.length,l=new Array(f),s=0;s<f;s++)l[s]=arguments[s];return l.forEach(function(d){A[d]=function(w){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.send(d,w,u.query||{})}}),this}},{key:"find",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.send("find",A.query||{})}},{key:"get",value:function(A){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.send("get",A,f.query||{})}},{key:"create",value:function(A){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.send("create",A,f.query||{})}},{key:"update",value:function(A,f){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.send("update",A,f,l.query||{})}},{key:"patch",value:function(A,f){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.send("patch",A,f,l.query||{})}},{key:"remove",value:function(A){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.send("remove",A,f.query||{})}},{key:"off",value:function(A){for(var f=arguments.length,l=new Array(f>1?f-1:0),s=1;s<f;s++)l[s-1]=arguments[s];if(typeof this.connection.off=="function"){var d,w=(d=this.connection).off.apply(d,["".concat(this.path," ").concat(A)].concat(l));return w===this.connection?this:w}else if(l.length===0)return this.removeAllListeners(A);return this.removeListener.apply(this,[A].concat(l))}}]),x}();t.Service=M},"../../node_modules/call-bind/callBound.js":function(m,t,_){var g=_("../../node_modules/get-intrinsic/index.js"),R=_("../../node_modules/call-bind/index.js"),k=R(g("String.prototype.indexOf"));m.exports=function(C,b){var j=g(C,!!b);return typeof j=="function"&&k(C,".prototype.")>-1?R(j):j}},"../../node_modules/call-bind/index.js":function(m,t,_){var g=_("../../node_modules/function-bind/index.js"),R=_("../../node_modules/get-intrinsic/index.js"),k=R("%Function.prototype.apply%"),S=R("%Function.prototype.call%"),C=R("%Reflect.apply%",!0)||g.call(S,k),b=R("%Object.getOwnPropertyDescriptor%",!0),j=R("%Object.defineProperty%",!0),E=R("%Math.max%");if(j)try{j({},"a",{value:1})}catch(M){j=null}m.exports=function(x){var I=C(g,S,arguments);if(b&&j){var A=b(I,"length");A.configurable&&j(I,"length",{value:1+E(0,x.length-(arguments.length-1))})}return I};var N=function(){return C(g,k,arguments)};j?j(m.exports,"apply",{value:N}):m.exports.apply=N},"../../node_modules/events/events.js":function(m){var t=typeof Reflect=="object"?Reflect:null,_=t&&typeof t.apply=="function"?t.apply:function(r,o,i){return Function.prototype.apply.call(r,o,i)},g;t&&typeof t.ownKeys=="function"?g=t.ownKeys:Object.getOwnPropertySymbols?g=function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:g=function(r){return Object.getOwnPropertyNames(r)};function R(u){console&&console.warn&&console.warn(u)}var k=Number.isNaN||function(r){return r!==r};function S(){S.init.call(this)}m.exports=S,m.exports.once=s,S.EventEmitter=S,S.prototype._events=void 0,S.prototype._eventsCount=0,S.prototype._maxListeners=void 0;var C=10;function b(u){if(typeof u!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}Object.defineProperty(S,"defaultMaxListeners",{enumerable:!0,get:function(){return C},set:function(u){if(typeof u!="number"||u<0||k(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");C=u}}),S.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},S.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||k(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this};function j(u){return u._maxListeners===void 0?S.defaultMaxListeners:u._maxListeners}S.prototype.getMaxListeners=function(){return j(this)},S.prototype.emit=function(r){for(var o=[],i=1;i<arguments.length;i++)o.push(arguments[i]);var n=r==="error",p=this._events;if(p!==void 0)n=n&&p.error===void 0;else if(!n)return!1;if(n){var v;if(o.length>0&&(v=o[0]),v instanceof Error)throw v;var P=new Error("Unhandled error."+(v?" ("+v.message+")":""));throw P.context=v,P}var T=p[r];if(T===void 0)return!1;if(typeof T=="function")_(T,this,o);else for(var D=T.length,F=A(T,D),i=0;i<D;++i)_(F[i],this,o);return!0};function E(u,r,o,i){var n,p,v;if(b(o),p=u._events,p===void 0?(p=u._events=Object.create(null),u._eventsCount=0):(p.newListener!==void 0&&(u.emit("newListener",r,o.listener?o.listener:o),p=u._events),v=p[r]),v===void 0)v=p[r]=o,++u._eventsCount;else if(typeof v=="function"?v=p[r]=i?[o,v]:[v,o]:i?v.unshift(o):v.push(o),n=j(u),n>0&&v.length>n&&!v.warned){v.warned=!0;var P=new Error("Possible EventEmitter memory leak detected. "+v.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");P.name="MaxListenersExceededWarning",P.emitter=u,P.type=r,P.count=v.length,R(P)}return u}S.prototype.addListener=function(r,o){return E(this,r,o,!1)},S.prototype.on=S.prototype.addListener,S.prototype.prependListener=function(r,o){return E(this,r,o,!0)};function N(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function M(u,r,o){var i={fired:!1,wrapFn:void 0,target:u,type:r,listener:o},n=N.bind(i);return n.listener=o,i.wrapFn=n,n}S.prototype.once=function(r,o){return b(o),this.on(r,M(this,r,o)),this},S.prototype.prependOnceListener=function(r,o){return b(o),this.prependListener(r,M(this,r,o)),this},S.prototype.removeListener=function(r,o){var i,n,p,v,P;if(b(o),n=this._events,n===void 0)return this;if(i=n[r],i===void 0)return this;if(i===o||i.listener===o)--this._eventsCount==0?this._events=Object.create(null):(delete n[r],n.removeListener&&this.emit("removeListener",r,i.listener||o));else if(typeof i!="function"){for(p=-1,v=i.length-1;v>=0;v--)if(i[v]===o||i[v].listener===o){P=i[v].listener,p=v;break}if(p<0)return this;p===0?i.shift():f(i,p),i.length===1&&(n[r]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",r,P||o)}return this},S.prototype.off=S.prototype.removeListener,S.prototype.removeAllListeners=function(r){var o,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[r]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete i[r]),this;if(arguments.length===0){var p=Object.keys(i),v;for(n=0;n<p.length;++n)v=p[n],v!=="removeListener"&&this.removeAllListeners(v);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(o=i[r],typeof o=="function")this.removeListener(r,o);else if(o!==void 0)for(n=o.length-1;n>=0;n--)this.removeListener(r,o[n]);return this};function x(u,r,o){var i=u._events;if(i===void 0)return[];var n=i[r];return n===void 0?[]:typeof n=="function"?o?[n.listener||n]:[n]:o?l(n):A(n,n.length)}S.prototype.listeners=function(r){return x(this,r,!0)},S.prototype.rawListeners=function(r){return x(this,r,!1)},S.listenerCount=function(u,r){return typeof u.listenerCount=="function"?u.listenerCount(r):I.call(u,r)},S.prototype.listenerCount=I;function I(u){var r=this._events;if(r!==void 0){var o=r[u];if(typeof o=="function")return 1;if(o!==void 0)return o.length}return 0}S.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]};function A(u,r){for(var o=new Array(r),i=0;i<r;++i)o[i]=u[i];return o}function f(u,r){for(;r+1<u.length;r++)u[r]=u[r+1];u.pop()}function l(u){for(var r=new Array(u.length),o=0;o<r.length;++o)r[o]=u[o].listener||u[o];return r}function s(u,r){return new Promise(function(o,i){function n(v){u.removeListener(r,p),i(v)}function p(){typeof u.removeListener=="function"&&u.removeListener("error",n),o([].slice.call(arguments))}w(u,r,p,{once:!0}),r!=="error"&&d(u,n,{once:!0})})}function d(u,r,o){typeof u.on=="function"&&w(u,"error",r,o)}function w(u,r,o,i){if(typeof u.on=="function")i.once?u.once(r,o):u.on(r,o);else if(typeof u.addEventListener=="function")u.addEventListener(r,function n(p){i.once&&u.removeEventListener(r,n),o(p)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u)}},"../../node_modules/function-bind/implementation.js":function(m){var t="Function.prototype.bind called on incompatible ",_=Array.prototype.slice,g=Object.prototype.toString,R="[object Function]";m.exports=function(S){var C=this;if(typeof C!="function"||g.call(C)!==R)throw new TypeError(t+C);for(var b=_.call(arguments,1),j,E=function(){if(this instanceof j){var A=C.apply(this,b.concat(_.call(arguments)));return Object(A)===A?A:this}else return C.apply(S,b.concat(_.call(arguments)))},N=Math.max(0,C.length-b.length),M=[],x=0;x<N;x++)M.push("$"+x);if(j=Function("binder","return function ("+M.join(",")+"){ return binder.apply(this,arguments); }")(E),C.prototype){var I=function(){};I.prototype=C.prototype,j.prototype=new I,I.prototype=null}return j}},"../../node_modules/function-bind/index.js":function(m,t,_){var g=_("../../node_modules/function-bind/implementation.js");m.exports=Function.prototype.bind||g},"../../node_modules/get-intrinsic/index.js":function(m,t,_){var g,R=SyntaxError,k=Function,S=TypeError,C=function(P){try{return k('"use strict"; return ('+P+").constructor;")()}catch(T){}},b=Object.getOwnPropertyDescriptor;if(b)try{b({},"")}catch(P){b=null}var j=function(){throw new S},E=b?function(){try{return arguments.callee,j}catch(P){try{return b(arguments,"callee").get}catch(T){return j}}}():j,N=_("../../node_modules/has-symbols/index.js")(),M=Object.getPrototypeOf||function(P){return P.__proto__},x={},I=typeof Uint8Array=="undefined"?g:M(Uint8Array),A={"%AggregateError%":typeof AggregateError=="undefined"?g:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?g:ArrayBuffer,"%ArrayIteratorPrototype%":N?M([][Symbol.iterator]()):g,"%AsyncFromSyncIteratorPrototype%":g,"%AsyncFunction%":x,"%AsyncGenerator%":x,"%AsyncGeneratorFunction%":x,"%AsyncIteratorPrototype%":x,"%Atomics%":typeof Atomics=="undefined"?g:Atomics,"%BigInt%":typeof BigInt=="undefined"?g:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?g:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?g:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?g:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?g:FinalizationRegistry,"%Function%":k,"%GeneratorFunction%":x,"%Int8Array%":typeof Int8Array=="undefined"?g:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?g:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?g:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":N?M(M([][Symbol.iterator]())):g,"%JSON%":typeof JSON=="object"?JSON:g,"%Map%":typeof Map=="undefined"?g:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!N?g:M(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?g:Promise,"%Proxy%":typeof Proxy=="undefined"?g:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?g:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?g:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!N?g:M(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?g:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":N?M(""[Symbol.iterator]()):g,"%Symbol%":N?Symbol:g,"%SyntaxError%":R,"%ThrowTypeError%":E,"%TypedArray%":I,"%TypeError%":S,"%Uint8Array%":typeof Uint8Array=="undefined"?g:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?g:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?g:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?g:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?g:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?g:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?g:WeakSet},f=function P(T){var D;if(T==="%AsyncFunction%")D=C("async function () {}");else if(T==="%GeneratorFunction%")D=C("function* () {}");else if(T==="%AsyncGeneratorFunction%")D=C("async function* () {}");else if(T==="%AsyncGenerator%"){var F=P("%AsyncGeneratorFunction%");F&&(D=F.prototype)}else if(T==="%AsyncIteratorPrototype%"){var H=P("%AsyncGenerator%");H&&(D=M(H.prototype))}return A[T]=D,D},l={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},s=_("../../node_modules/function-bind/index.js"),d=_("../../node_modules/has/src/index.js"),w=s.call(Function.call,Array.prototype.concat),u=s.call(Function.apply,Array.prototype.splice),r=s.call(Function.call,String.prototype.replace),o=s.call(Function.call,String.prototype.slice),i=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,n=/\\(\\)?/g,p=function(T){var D=o(T,0,1),F=o(T,-1);if(D==="%"&&F!=="%")throw new R("invalid intrinsic syntax, expected closing `%`");if(F==="%"&&D!=="%")throw new R("invalid intrinsic syntax, expected opening `%`");var H=[];return r(T,i,function(L,z,J,X){H[H.length]=J?r(X,n,"$1"):z||L}),H},v=function(T,D){var F=T,H;if(d(l,F)&&(H=l[F],F="%"+H[0]+"%"),d(A,F)){var L=A[F];if(L===x&&(L=f(F)),typeof L=="undefined"&&!D)throw new S("intrinsic "+T+" exists, but is not available. Please file an issue!");return{alias:H,name:F,value:L}}throw new R("intrinsic "+T+" does not exist!")};m.exports=function(T,D){if(typeof T!="string"||T.length===0)throw new S("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof D!="boolean")throw new S('"allowMissing" argument must be a boolean');var F=p(T),H=F.length>0?F[0]:"",L=v("%"+H+"%",D),z=L.name,J=L.value,X=!1,Y=L.alias;Y&&(H=Y[0],u(F,w([0,1],Y)));for(var $=1,G=!0;$<F.length;$+=1){var B=F[$],K=o(B,0,1),q=o(B,-1);if((K==='"'||K==="'"||K==="`"||q==='"'||q==="'"||q==="`")&&K!==q)throw new R("property names with quotes must have matching quotes");if((B==="constructor"||!G)&&(X=!0),H+="."+B,z="%"+H+"%",d(A,z))J=A[z];else if(J!=null){if(!(B in J)){if(!D)throw new S("base intrinsic for "+T+" exists, but the property is not available.");return}if(b&&$+1>=F.length){var Z=b(J,B);G=!!Z,G&&"get"in Z&&!("originalValue"in Z.get)?J=Z.get:J=J[B]}else G=d(J,B),J=J[B];G&&!X&&(A[z]=J)}}return J}},"../../node_modules/has-symbols/index.js":function(m,t,_){var g=typeof Symbol!="undefined"&&Symbol,R=_("../../node_modules/has-symbols/shams.js");m.exports=function(){return typeof g!="function"||typeof Symbol!="function"||typeof g("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:R()}},"../../node_modules/has-symbols/shams.js":function(m){m.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var _={},g=Symbol("test"),R=Object(g);if(typeof g=="string"||Object.prototype.toString.call(g)!=="[object Symbol]"||Object.prototype.toString.call(R)!=="[object Symbol]")return!1;var k=42;_[g]=k;for(g in _)return!1;if(typeof Object.keys=="function"&&Object.keys(_).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(_).length!==0)return!1;var S=Object.getOwnPropertySymbols(_);if(S.length!==1||S[0]!==g||!Object.prototype.propertyIsEnumerable.call(_,g))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var C=Object.getOwnPropertyDescriptor(_,g);if(C.value!==k||C.enumerable!==!0)return!1}return!0}},"../../node_modules/has/src/index.js":function(m,t,_){var g=_("../../node_modules/function-bind/index.js");m.exports=g.call(Function.call,Object.prototype.hasOwnProperty)},"../../node_modules/object-inspect/index.js":function(m,t,_){var g=typeof Map=="function"&&Map.prototype,R=Object.getOwnPropertyDescriptor&&g?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,k=g&&R&&typeof R.get=="function"?R.get:null,S=g&&Map.prototype.forEach,C=typeof Set=="function"&&Set.prototype,b=Object.getOwnPropertyDescriptor&&C?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,j=C&&b&&typeof b.get=="function"?b.get:null,E=C&&Set.prototype.forEach,N=typeof WeakMap=="function"&&WeakMap.prototype,M=N?WeakMap.prototype.has:null,x=typeof WeakSet=="function"&&WeakSet.prototype,I=x?WeakSet.prototype.has:null,A=typeof WeakRef=="function"&&WeakRef.prototype,f=A?WeakRef.prototype.deref:null,l=Boolean.prototype.valueOf,s=Object.prototype.toString,d=Function.prototype.toString,w=String.prototype.match,u=typeof BigInt=="function"?BigInt.prototype.valueOf:null,r=Object.getOwnPropertySymbols,o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,i=typeof Symbol=="function"&&typeof Symbol.iterator=="object",n=Object.prototype.propertyIsEnumerable,p=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(U){return U.__proto__}:null),v=_("?c95a").custom,P=v&&G(v)?v:null,T=typeof Symbol=="function"&&typeof Symbol.toStringTag!="undefined"?Symbol.toStringTag:null;m.exports=function U(V,te,ne,oe){var ee=te||{};if(q(ee,"quoteStyle")&&ee.quoteStyle!=="single"&&ee.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(q(ee,"maxStringLength")&&(typeof ee.maxStringLength=="number"?ee.maxStringLength<0&&ee.maxStringLength!==1/0:ee.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var pe=q(ee,"customInspect")?ee.customInspect:!0;if(typeof pe!="boolean"&&pe!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(q(ee,"indent")&&ee.indent!==null&&ee.indent!=="	"&&!(parseInt(ee.indent,10)===ee.indent&&ee.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(typeof V=="undefined")return"undefined";if(V===null)return"null";if(typeof V=="boolean")return V?"true":"false";if(typeof V=="string")return De(V,ee);if(typeof V=="number")return V===0?1/0/V>0?"0":"-0":String(V);if(typeof V=="bigint")return String(V)+"n";var me=typeof ee.depth=="undefined"?5:ee.depth;if(typeof ne=="undefined"&&(ne=0),ne>=me&&me>0&&typeof V=="object")return H(V)?"[Array]":"[Object]";var ie=Sr(ee,ne);if(typeof oe=="undefined")oe=[];else if(ue(oe,V)>=0)return"[Circular]";function ae(Se,Ue,Or){if(Ue&&(oe=oe.slice(),oe.push(Ue)),Or){var Nt={depth:ee.depth};return q(ee,"quoteStyle")&&(Nt.quoteStyle=ee.quoteStyle),U(Se,Nt,ne+1,oe)}return U(Se,ee,ne+1,oe)}if(typeof V=="function"){var Et=ce(V),Rt=Be(V,ae);return"[Function"+(Et?": "+Et:" (anonymous)")+"]"+(Rt.length>0?" { "+Rt.join(", ")+" }":"")}if(G(V)){var At=i?String(V).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):o.call(V);return typeof V=="object"&&!i?je(At):At}if(ze(V)){for(var Ee="<"+String(V.nodeName).toLowerCase(),Je=V.attributes||[],Le=0;Le<Je.length;Le++)Ee+=" "+Je[Le].name+"="+D(F(Je[Le].value),"double",ee);return Ee+=">",V.childNodes&&V.childNodes.length&&(Ee+="..."),Ee+="</"+String(V.nodeName).toLowerCase()+">",Ee}if(H(V)){if(V.length===0)return"[]";var Xe=Be(V,ae);return ie&&!_r(Xe)?"["+qe(Xe,ie)+"]":"[ "+Xe.join(", ")+" ]"}if(J(V)){var Ct=Be(V,ae);return Ct.length===0?"["+String(V)+"]":"{ ["+String(V)+"] "+Ct.join(", ")+" }"}if(typeof V=="object"&&pe){if(P&&typeof V[P]=="function")return V[P]();if(pe!=="symbol"&&typeof V.inspect=="function")return V.inspect()}if(le(V)){var Tt=[];return S.call(V,function(Se,Ue){Tt.push(ae(Ue,V,!0)+" => "+ae(Se,V))}),jt("Map",k.call(V),Tt,ie)}if(ke(V)){var xt=[];return E.call(V,function(Se){xt.push(ae(Se,V))}),jt("Set",j.call(V),xt,ie)}if(se(V))return Ke("WeakMap");if(Ge(V))return Ke("WeakSet");if(_e(V))return Ke("WeakRef");if(Y(V))return je(ae(Number(V)));if(B(V))return je(ae(u.call(V)));if($(V))return je(l.call(V));if(X(V))return je(ae(String(V)));if(!L(V)&&!z(V)){var Ye=Be(V,ae),It=p?p(V)===Object.prototype:V instanceof Object||V.constructor===Object,Qe=V instanceof Object?"":"null prototype",Mt=!It&&T&&Object(V)===V&&T in V?Z(V).slice(8,-1):Qe?"Object":"",wr=It||typeof V.constructor!="function"?"":V.constructor.name?V.constructor.name+" ":"",Ze=wr+(Mt||Qe?"["+[].concat(Mt||[],Qe||[]).join(": ")+"] ":"");return Ye.length===0?Ze+"{}":ie?Ze+"{"+qe(Ye,ie)+"}":Ze+"{ "+Ye.join(", ")+" }"}return String(V)};function D(U,V,te){var ne=(te.quoteStyle||V)==="double"?'"':"'";return ne+U+ne}function F(U){return String(U).replace(/"/g,"&quot;")}function H(U){return Z(U)==="[object Array]"&&(!T||!(typeof U=="object"&&T in U))}function L(U){return Z(U)==="[object Date]"&&(!T||!(typeof U=="object"&&T in U))}function z(U){return Z(U)==="[object RegExp]"&&(!T||!(typeof U=="object"&&T in U))}function J(U){return Z(U)==="[object Error]"&&(!T||!(typeof U=="object"&&T in U))}function X(U){return Z(U)==="[object String]"&&(!T||!(typeof U=="object"&&T in U))}function Y(U){return Z(U)==="[object Number]"&&(!T||!(typeof U=="object"&&T in U))}function $(U){return Z(U)==="[object Boolean]"&&(!T||!(typeof U=="object"&&T in U))}function G(U){if(i)return U&&typeof U=="object"&&U instanceof Symbol;if(typeof U=="symbol")return!0;if(!U||typeof U!="object"||!o)return!1;try{return o.call(U),!0}catch(V){}return!1}function B(U){if(!U||typeof U!="object"||!u)return!1;try{return u.call(U),!0}catch(V){}return!1}var K=Object.prototype.hasOwnProperty||function(U){return U in this};function q(U,V){return K.call(U,V)}function Z(U){return s.call(U)}function ce(U){if(U.name)return U.name;var V=w.call(d.call(U),/^function\s*([\w$]+)/);return V?V[1]:null}function ue(U,V){if(U.indexOf)return U.indexOf(V);for(var te=0,ne=U.length;te<ne;te++)if(U[te]===V)return te;return-1}function le(U){if(!k||!U||typeof U!="object")return!1;try{k.call(U);try{j.call(U)}catch(V){return!0}return U instanceof Map}catch(V){}return!1}function se(U){if(!M||!U||typeof U!="object")return!1;try{M.call(U,M);try{I.call(U,I)}catch(V){return!0}return U instanceof WeakMap}catch(V){}return!1}function _e(U){if(!f||!U||typeof U!="object")return!1;try{return f.call(U),!0}catch(V){}return!1}function ke(U){if(!j||!U||typeof U!="object")return!1;try{j.call(U);try{k.call(U)}catch(V){return!0}return U instanceof Set}catch(V){}return!1}function Ge(U){if(!I||!U||typeof U!="object")return!1;try{I.call(U,I);try{M.call(U,M)}catch(V){return!0}return U instanceof WeakSet}catch(V){}return!1}function ze(U){return!U||typeof U!="object"?!1:typeof HTMLElement!="undefined"&&U instanceof HTMLElement?!0:typeof U.nodeName=="string"&&typeof U.getAttribute=="function"}function De(U,V){if(U.length>V.maxStringLength){var te=U.length-V.maxStringLength,ne="... "+te+" more character"+(te>1?"s":"");return De(U.slice(0,V.maxStringLength),V)+ne}var oe=U.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,br);return D(oe,"single",V)}function br(U){var V=U.charCodeAt(0),te={8:"b",9:"t",10:"n",12:"f",13:"r"}[V];return te?"\\"+te:"\\x"+(V<16?"0":"")+V.toString(16).toUpperCase()}function je(U){return"Object("+U+")"}function Ke(U){return U+" { ? }"}function jt(U,V,te,ne){var oe=ne?qe(te,ne):te.join(", ");return U+" ("+V+") {"+oe+"}"}function _r(U){for(var V=0;V<U.length;V++)if(ue(U[V],`
`)>=0)return!1;return!0}function Sr(U,V){var te;if(U.indent==="	")te="	";else if(typeof U.indent=="number"&&U.indent>0)te=Array(U.indent+1).join(" ");else return null;return{base:te,prev:Array(V+1).join(te)}}function qe(U,V){if(U.length===0)return"";var te=`
`+V.prev+V.base;return te+U.join(","+te)+`
`+V.prev}function Be(U,V){var te=H(U),ne=[];if(te){ne.length=U.length;for(var oe=0;oe<U.length;oe++)ne[oe]=q(U,oe)?V(U[oe],U):""}var ee=typeof r=="function"?r(U):[],pe;if(i){pe={};for(var me=0;me<ee.length;me++)pe["$"+ee[me]]=ee[me]}for(var ie in U)!q(U,ie)||te&&String(Number(ie))===ie&&ie<U.length||i&&pe["$"+ie]instanceof Symbol||(/[^\w$]/.test(ie)?ne.push(V(ie,U)+": "+V(U[ie],U)):ne.push(ie+": "+V(U[ie],U)));if(typeof r=="function")for(var ae=0;ae<ee.length;ae++)n.call(U,ee[ae])&&ne.push("["+V(ee[ae])+"]: "+V(U[ee[ae]],U));return ne}},"../../node_modules/qs/lib/formats.js":function(m){var t=String.prototype.replace,_=/%20/g,g={RFC1738:"RFC1738",RFC3986:"RFC3986"};m.exports={default:g.RFC3986,formatters:{RFC1738:function(R){return t.call(R,_,"+")},RFC3986:function(R){return String(R)}},RFC1738:g.RFC1738,RFC3986:g.RFC3986}},"../../node_modules/qs/lib/index.js":function(m,t,_){var g=_("../../node_modules/qs/lib/stringify.js"),R=_("../../node_modules/qs/lib/parse.js"),k=_("../../node_modules/qs/lib/formats.js");m.exports={formats:k,parse:R,stringify:g}},"../../node_modules/qs/lib/parse.js":function(m,t,_){var g=_("../../node_modules/qs/lib/utils.js"),R=Object.prototype.hasOwnProperty,k=Array.isArray,S={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:g.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},C=function(A){return A.replace(/&#(\d+);/g,function(f,l){return String.fromCharCode(parseInt(l,10))})},b=function(A,f){return A&&typeof A=="string"&&f.comma&&A.indexOf(",")>-1?A.split(","):A},j="utf8=%26%2310003%3B",E="utf8=%E2%9C%93",N=function(f,l){var s={},d=l.ignoreQueryPrefix?f.replace(/^\?/,""):f,w=l.parameterLimit===1/0?void 0:l.parameterLimit,u=d.split(l.delimiter,w),r=-1,o,i=l.charset;if(l.charsetSentinel)for(o=0;o<u.length;++o)u[o].indexOf("utf8=")===0&&(u[o]===E?i="utf-8":u[o]===j&&(i="iso-8859-1"),r=o,o=u.length);for(o=0;o<u.length;++o)if(o!==r){var n=u[o],p=n.indexOf("]="),v=p===-1?n.indexOf("="):p+1,P,T;v===-1?(P=l.decoder(n,S.decoder,i,"key"),T=l.strictNullHandling?null:""):(P=l.decoder(n.slice(0,v),S.decoder,i,"key"),T=g.maybeMap(b(n.slice(v+1),l),function(D){return l.decoder(D,S.decoder,i,"value")})),T&&l.interpretNumericEntities&&i==="iso-8859-1"&&(T=C(T)),n.indexOf("[]=")>-1&&(T=k(T)?[T]:T),R.call(s,P)?s[P]=g.combine(s[P],T):s[P]=T}return s},M=function(A,f,l,s){for(var d=s?f:b(f,l),w=A.length-1;w>=0;--w){var u,r=A[w];if(r==="[]"&&l.parseArrays)u=[].concat(d);else{u=l.plainObjects?Object.create(null):{};var o=r.charAt(0)==="["&&r.charAt(r.length-1)==="]"?r.slice(1,-1):r,i=parseInt(o,10);!l.parseArrays&&o===""?u={0:d}:!isNaN(i)&&r!==o&&String(i)===o&&i>=0&&l.parseArrays&&i<=l.arrayLimit?(u=[],u[i]=d):u[o]=d}d=u}return d},x=function(f,l,s,d){if(!!f){var w=s.allowDots?f.replace(/\.([^.[]+)/g,"[$1]"):f,u=/(\[[^[\]]*])/,r=/(\[[^[\]]*])/g,o=s.depth>0&&u.exec(w),i=o?w.slice(0,o.index):w,n=[];if(i){if(!s.plainObjects&&R.call(Object.prototype,i)&&!s.allowPrototypes)return;n.push(i)}for(var p=0;s.depth>0&&(o=r.exec(w))!==null&&p<s.depth;){if(p+=1,!s.plainObjects&&R.call(Object.prototype,o[1].slice(1,-1))&&!s.allowPrototypes)return;n.push(o[1])}return o&&n.push("["+w.slice(o.index)+"]"),M(n,l,s,d)}},I=function(f){if(!f)return S;if(f.decoder!==null&&f.decoder!==void 0&&typeof f.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof f.charset!="undefined"&&f.charset!=="utf-8"&&f.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var l=typeof f.charset=="undefined"?S.charset:f.charset;return{allowDots:typeof f.allowDots=="undefined"?S.allowDots:!!f.allowDots,allowPrototypes:typeof f.allowPrototypes=="boolean"?f.allowPrototypes:S.allowPrototypes,allowSparse:typeof f.allowSparse=="boolean"?f.allowSparse:S.allowSparse,arrayLimit:typeof f.arrayLimit=="number"?f.arrayLimit:S.arrayLimit,charset:l,charsetSentinel:typeof f.charsetSentinel=="boolean"?f.charsetSentinel:S.charsetSentinel,comma:typeof f.comma=="boolean"?f.comma:S.comma,decoder:typeof f.decoder=="function"?f.decoder:S.decoder,delimiter:typeof f.delimiter=="string"||g.isRegExp(f.delimiter)?f.delimiter:S.delimiter,depth:typeof f.depth=="number"||f.depth===!1?+f.depth:S.depth,ignoreQueryPrefix:f.ignoreQueryPrefix===!0,interpretNumericEntities:typeof f.interpretNumericEntities=="boolean"?f.interpretNumericEntities:S.interpretNumericEntities,parameterLimit:typeof f.parameterLimit=="number"?f.parameterLimit:S.parameterLimit,parseArrays:f.parseArrays!==!1,plainObjects:typeof f.plainObjects=="boolean"?f.plainObjects:S.plainObjects,strictNullHandling:typeof f.strictNullHandling=="boolean"?f.strictNullHandling:S.strictNullHandling}};m.exports=function(A,f){var l=I(f);if(A===""||A===null||typeof A=="undefined")return l.plainObjects?Object.create(null):{};for(var s=typeof A=="string"?N(A,l):A,d=l.plainObjects?Object.create(null):{},w=Object.keys(s),u=0;u<w.length;++u){var r=w[u],o=x(r,s[r],l,typeof A=="string");d=g.merge(d,o,l)}return l.allowSparse===!0?d:g.compact(d)}},"../../node_modules/qs/lib/stringify.js":function(m,t,_){var g=_("../../node_modules/side-channel/index.js"),R=_("../../node_modules/qs/lib/utils.js"),k=_("../../node_modules/qs/lib/formats.js"),S=Object.prototype.hasOwnProperty,C={brackets:function(s){return s+"[]"},comma:"comma",indices:function(s,d){return s+"["+d+"]"},repeat:function(s){return s}},b=Array.isArray,j=Array.prototype.push,E=function(l,s){j.apply(l,b(s)?s:[s])},N=Date.prototype.toISOString,M=k.default,x={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:R.encode,encodeValuesOnly:!1,format:M,formatter:k.formatters[M],indices:!1,serializeDate:function(s){return N.call(s)},skipNulls:!1,strictNullHandling:!1},I=function(s){return typeof s=="string"||typeof s=="number"||typeof s=="boolean"||typeof s=="symbol"||typeof s=="bigint"},A=function l(s,d,w,u,r,o,i,n,p,v,P,T,D,F,H){var L=s;if(H.has(s))throw new RangeError("Cyclic object value");if(typeof i=="function"?L=i(d,L):L instanceof Date?L=v(L):w==="comma"&&b(L)&&(L=R.maybeMap(L,function(Z){return Z instanceof Date?v(Z):Z})),L===null){if(u)return o&&!D?o(d,x.encoder,F,"key",P):d;L=""}if(I(L)||R.isBuffer(L)){if(o){var z=D?d:o(d,x.encoder,F,"key",P);return[T(z)+"="+T(o(L,x.encoder,F,"value",P))]}return[T(d)+"="+T(String(L))]}var J=[];if(typeof L=="undefined")return J;var X;if(w==="comma"&&b(L))X=[{value:L.length>0?L.join(",")||null:void 0}];else if(b(i))X=i;else{var Y=Object.keys(L);X=n?Y.sort(n):Y}for(var $=0;$<X.length;++$){var G=X[$],B=typeof G=="object"&&G.value!==void 0?G.value:L[G];if(!(r&&B===null)){var K=b(L)?typeof w=="function"?w(d,G):d:d+(p?"."+G:"["+G+"]");H.set(s,!0);var q=g();E(J,l(B,K,w,u,r,o,i,n,p,v,P,T,D,F,q))}}return J},f=function(s){if(!s)return x;if(s.encoder!==null&&s.encoder!==void 0&&typeof s.encoder!="function")throw new TypeError("Encoder has to be a function.");var d=s.charset||x.charset;if(typeof s.charset!="undefined"&&s.charset!=="utf-8"&&s.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var w=k.default;if(typeof s.format!="undefined"){if(!S.call(k.formatters,s.format))throw new TypeError("Unknown format option provided.");w=s.format}var u=k.formatters[w],r=x.filter;return(typeof s.filter=="function"||b(s.filter))&&(r=s.filter),{addQueryPrefix:typeof s.addQueryPrefix=="boolean"?s.addQueryPrefix:x.addQueryPrefix,allowDots:typeof s.allowDots=="undefined"?x.allowDots:!!s.allowDots,charset:d,charsetSentinel:typeof s.charsetSentinel=="boolean"?s.charsetSentinel:x.charsetSentinel,delimiter:typeof s.delimiter=="undefined"?x.delimiter:s.delimiter,encode:typeof s.encode=="boolean"?s.encode:x.encode,encoder:typeof s.encoder=="function"?s.encoder:x.encoder,encodeValuesOnly:typeof s.encodeValuesOnly=="boolean"?s.encodeValuesOnly:x.encodeValuesOnly,filter:r,format:w,formatter:u,serializeDate:typeof s.serializeDate=="function"?s.serializeDate:x.serializeDate,skipNulls:typeof s.skipNulls=="boolean"?s.skipNulls:x.skipNulls,sort:typeof s.sort=="function"?s.sort:null,strictNullHandling:typeof s.strictNullHandling=="boolean"?s.strictNullHandling:x.strictNullHandling}};m.exports=function(l,s){var d=l,w=f(s),u,r;typeof w.filter=="function"?(r=w.filter,d=r("",d)):b(w.filter)&&(r=w.filter,u=r);var o=[];if(typeof d!="object"||d===null)return"";var i;s&&s.arrayFormat in C?i=s.arrayFormat:s&&"indices"in s?i=s.indices?"indices":"repeat":i="indices";var n=C[i];u||(u=Object.keys(d)),w.sort&&u.sort(w.sort);for(var p=g(),v=0;v<u.length;++v){var P=u[v];w.skipNulls&&d[P]===null||E(o,A(d[P],P,n,w.strictNullHandling,w.skipNulls,w.encode?w.encoder:null,w.filter,w.sort,w.allowDots,w.serializeDate,w.format,w.formatter,w.encodeValuesOnly,w.charset,p))}var T=o.join(w.delimiter),D=w.addQueryPrefix===!0?"?":"";return w.charsetSentinel&&(w.charset==="iso-8859-1"?D+="utf8=%26%2310003%3B&":D+="utf8=%E2%9C%93&"),T.length>0?D+T:""}},"../../node_modules/qs/lib/utils.js":function(m,t,_){var g=_("../../node_modules/qs/lib/formats.js"),R=Object.prototype.hasOwnProperty,k=Array.isArray,S=function(){for(var s=[],d=0;d<256;++d)s.push("%"+((d<16?"0":"")+d.toString(16)).toUpperCase());return s}(),C=function(d){for(;d.length>1;){var w=d.pop(),u=w.obj[w.prop];if(k(u)){for(var r=[],o=0;o<u.length;++o)typeof u[o]!="undefined"&&r.push(u[o]);w.obj[w.prop]=r}}},b=function(d,w){for(var u=w&&w.plainObjects?Object.create(null):{},r=0;r<d.length;++r)typeof d[r]!="undefined"&&(u[r]=d[r]);return u},j=function s(d,w,u){if(!w)return d;if(typeof w!="object"){if(k(d))d.push(w);else if(d&&typeof d=="object")(u&&(u.plainObjects||u.allowPrototypes)||!R.call(Object.prototype,w))&&(d[w]=!0);else return[d,w];return d}if(!d||typeof d!="object")return[d].concat(w);var r=d;return k(d)&&!k(w)&&(r=b(d,u)),k(d)&&k(w)?(w.forEach(function(o,i){if(R.call(d,i)){var n=d[i];n&&typeof n=="object"&&o&&typeof o=="object"?d[i]=s(n,o,u):d.push(o)}else d[i]=o}),d):Object.keys(w).reduce(function(o,i){var n=w[i];return R.call(o,i)?o[i]=s(o[i],n,u):o[i]=n,o},r)},E=function(d,w){return Object.keys(w).reduce(function(u,r){return u[r]=w[r],u},d)},N=function(s,d,w){var u=s.replace(/\+/g," ");if(w==="iso-8859-1")return u.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(u)}catch(r){return u}},M=function(d,w,u,r,o){if(d.length===0)return d;var i=d;if(typeof d=="symbol"?i=Symbol.prototype.toString.call(d):typeof d!="string"&&(i=String(d)),u==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(P){return"%26%23"+parseInt(P.slice(2),16)+"%3B"});for(var n="",p=0;p<i.length;++p){var v=i.charCodeAt(p);if(v===45||v===46||v===95||v===126||v>=48&&v<=57||v>=65&&v<=90||v>=97&&v<=122||o===g.RFC1738&&(v===40||v===41)){n+=i.charAt(p);continue}if(v<128){n=n+S[v];continue}if(v<2048){n=n+(S[192|v>>6]+S[128|v&63]);continue}if(v<55296||v>=57344){n=n+(S[224|v>>12]+S[128|v>>6&63]+S[128|v&63]);continue}p+=1,v=65536+((v&1023)<<10|i.charCodeAt(p)&1023),n+=S[240|v>>18]+S[128|v>>12&63]+S[128|v>>6&63]+S[128|v&63]}return n},x=function(d){for(var w=[{obj:{o:d},prop:"o"}],u=[],r=0;r<w.length;++r)for(var o=w[r],i=o.obj[o.prop],n=Object.keys(i),p=0;p<n.length;++p){var v=n[p],P=i[v];typeof P=="object"&&P!==null&&u.indexOf(P)===-1&&(w.push({obj:i,prop:v}),u.push(P))}return C(w),d},I=function(d){return Object.prototype.toString.call(d)==="[object RegExp]"},A=function(d){return!d||typeof d!="object"?!1:!!(d.constructor&&d.constructor.isBuffer&&d.constructor.isBuffer(d))},f=function(d,w){return[].concat(d,w)},l=function(d,w){if(k(d)){for(var u=[],r=0;r<d.length;r+=1)u.push(w(d[r]));return u}return w(d)};m.exports={arrayToObject:b,assign:E,combine:f,compact:x,decode:N,encode:M,isBuffer:A,isRegExp:I,maybeMap:l,merge:j}},"../../node_modules/side-channel/index.js":function(m,t,_){var g=_("../../node_modules/get-intrinsic/index.js"),R=_("../../node_modules/call-bind/callBound.js"),k=_("../../node_modules/object-inspect/index.js"),S=g("%TypeError%"),C=g("%WeakMap%",!0),b=g("%Map%",!0),j=R("WeakMap.prototype.get",!0),E=R("WeakMap.prototype.set",!0),N=R("WeakMap.prototype.has",!0),M=R("Map.prototype.get",!0),x=R("Map.prototype.set",!0),I=R("Map.prototype.has",!0),A=function(d,w){for(var u=d,r;(r=u.next)!==null;u=r)if(r.key===w)return u.next=r.next,r.next=d.next,d.next=r,r},f=function(d,w){var u=A(d,w);return u&&u.value},l=function(d,w,u){var r=A(d,w);r?r.value=u:d.next={key:w,next:d.next,value:u}},s=function(d,w){return!!A(d,w)};m.exports=function(){var w,u,r,o={assert:function(i){if(!o.has(i))throw new S("Side channel does not contain "+k(i))},get:function(i){if(C&&i&&(typeof i=="object"||typeof i=="function")){if(w)return j(w,i)}else if(b){if(u)return M(u,i)}else if(r)return f(r,i)},has:function(i){if(C&&i&&(typeof i=="object"||typeof i=="function")){if(w)return N(w,i)}else if(b){if(u)return I(u,i)}else if(r)return s(r,i);return!1},set:function(i,n){C&&i&&(typeof i=="object"||typeof i=="function")?(w||(w=new C),E(w,i,n)):b?(u||(u=new b),x(u,i,n)):(r||(r={key:{},next:null}),l(r,i,n))}};return o}},"./src/feathers.ts":function(m,t,_){var g=this&&this.__createBinding||(Object.create?function(M,x,I,A){A===void 0&&(A=I),Object.defineProperty(M,A,{enumerable:!0,get:function(){return x[I]}})}:function(M,x,I,A){A===void 0&&(A=I),M[A]=x[I]}),R=this&&this.__setModuleDefault||(Object.create?function(M,x){Object.defineProperty(M,"default",{enumerable:!0,value:x})}:function(M,x){M.default=x}),k=this&&this.__exportStar||function(M,x){for(var I in M)I!=="default"&&!Object.prototype.hasOwnProperty.call(x,I)&&g(x,M,I)},S=this&&this.__importStar||function(M){if(M&&M.__esModule)return M;var x={};if(M!=null)for(var I in M)I!=="default"&&Object.prototype.hasOwnProperty.call(M,I)&&g(x,M,I);return R(x,M),x},C=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(t,"__esModule",{value:!0}),t.socketio=t.rest=t.authentication=t.errors=void 0;const b=_("../feathers/lib/index.js"),j=C(_("../authentication-client/lib/index.js"));t.authentication=j.default;const E=C(_("../rest-client/lib/index.js"));t.rest=E.default;const N=C(_("../socketio-client/lib/index.js"));t.socketio=N.default,k(_("../feathers/lib/index.js"),t),t.errors=S(_("../errors/lib/index.js")),t.default=b.feathers,m.exports=Object.assign(b.feathers,m.exports)},"?c95a":function(){}},e={};function a(m){var t=e[m];if(t!==void 0)return t.exports;var _=e[m]={exports:{}};return h[m].call(_.exports,_,_.exports,a),_.exports}var c=a("./src/feathers.ts");return c}()})})(gr);var Pt=Lt(gr.exports);const zo=Re.publicRuntimeConfig.feathersStoreKey,kt=Re.publicRuntimeConfig.offlineMode?void 0:Pt();if(!Re.publicRuntimeConfig.offlineMode){const O=Go(Re.publicRuntimeConfig.apiServer,{withCredentials:!0});kt.configure(Pt.socketio(O,{timeout:1e4})),kt.configure(Pt.authentication({storageKey:zo}))}const Qo=kt;function Zo(O){if(typeof O!="string")throw new Error(Er(7));return O.charAt(0).toUpperCase()+O.slice(1)}export{Fe as A,Nr as _,Xo as a,Zo as b,Qo as c,Wo as d,pr as e,Ur as g,Uo as m,hr as u,Yo as w};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FwaXRhbGl6ZS43NWM4MmZiMC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FycmF5V2l0aG91dEhvbGVzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2l0ZXJhYmxlVG9BcnJheS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9ub25JdGVyYWJsZVNwcmVhZC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvc3R5bGVzL2VzbS9UaGVtZVByb3ZpZGVyL25lc3RlZC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvc3R5bGVzL2VzbS9jcmVhdGVHZW5lcmF0ZUNsYXNzTmFtZS9jcmVhdGVHZW5lcmF0ZUNsYXNzTmFtZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvc3R5bGVzL2VzbS9nZXRUaGVtZVByb3BzL2dldFRoZW1lUHJvcHMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvaXMtaW4tYnJvd3Nlci9kaXN0L21vZHVsZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9qc3MvZGlzdC9qc3MuZXNtLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2pzcy1wbHVnaW4tcnVsZS12YWx1ZS1mdW5jdGlvbi9kaXN0L2pzcy1wbHVnaW4tcnVsZS12YWx1ZS1mdW5jdGlvbi5lc20uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvanNzLXBsdWdpbi1nbG9iYWwvZGlzdC9qc3MtcGx1Z2luLWdsb2JhbC5lc20uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvanNzLXBsdWdpbi1uZXN0ZWQvZGlzdC9qc3MtcGx1Z2luLW5lc3RlZC5lc20uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvaHlwaGVuYXRlLXN0eWxlLW5hbWUvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvanNzLXBsdWdpbi1jYW1lbC1jYXNlL2Rpc3QvanNzLXBsdWdpbi1jYW1lbC1jYXNlLmVzbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9qc3MtcGx1Z2luLWRlZmF1bHQtdW5pdC9kaXN0L2pzcy1wbHVnaW4tZGVmYXVsdC11bml0LmVzbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtdmVuZG9yL2Rpc3QvY3NzLXZlbmRvci5lc20uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvanNzLXBsdWdpbi12ZW5kb3ItcHJlZml4ZXIvZGlzdC9qc3MtcGx1Z2luLXZlbmRvci1wcmVmaXhlci5lc20uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvanNzLXBsdWdpbi1wcm9wcy1zb3J0L2Rpc3QvanNzLXBsdWdpbi1wcm9wcy1zb3J0LmVzbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvc3R5bGVzL2VzbS9qc3NQcmVzZXQvanNzUHJlc2V0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9zdHlsZXMvZXNtL21lcmdlQ2xhc3Nlcy9tZXJnZUNsYXNzZXMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL3N0eWxlcy9lc20vbWFrZVN0eWxlcy9tdWx0aUtleVN0b3JlLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9zdHlsZXMvZXNtL3VzZVRoZW1lL1RoZW1lQ29udGV4dC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvc3R5bGVzL2VzbS91c2VUaGVtZS91c2VUaGVtZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvc3R5bGVzL2VzbS9TdHlsZXNQcm92aWRlci9TdHlsZXNQcm92aWRlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvc3R5bGVzL2VzbS9tYWtlU3R5bGVzL2luZGV4Q291bnRlci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvc3R5bGVzL2VzbS9nZXRTdHlsZXNDcmVhdG9yL25vb3BUaGVtZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvc3R5bGVzL2VzbS9nZXRTdHlsZXNDcmVhdG9yL2dldFN0eWxlc0NyZWF0b3IuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL3N0eWxlcy9lc20vbWFrZVN0eWxlcy9tYWtlU3R5bGVzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nsc3gvZGlzdC9jbHN4Lm0uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsLXVpL3N0eWxlcy9lc20vd2l0aFN0eWxlcy93aXRoU3R5bGVzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9zdHlsZXMvZGVmYXVsdFRoZW1lLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC11aS9jb3JlL2VzbS9zdHlsZXMvd2l0aFN0eWxlcy5qcyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9jb21tb24vcmVkdWNlcnMvYWxlcnQvQWxlcnRBY3Rpb25zLnRzIiwiLi4vLi4vLi4vY2xpZW50LWNvcmUvc3JjL2NvbW1vbi9yZWR1Y2Vycy9hbGVydC9BbGVydFNlcnZpY2UudHMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9kaXN0L3NvY2tldC5pby5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZmVhdGhlcnNqcy9jbGllbnQvZGlzdC9mZWF0aGVycy5qcyIsIi4uLy4uLy4uL2NsaWVudC1jb3JlL3NyYy9mZWF0aGVycy50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwtdWkvY29yZS9lc20vdXRpbHMvY2FwaXRhbGl6ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXJyYXlMaWtlVG9BcnJheSBmcm9tIFwiLi9hcnJheUxpa2VUb0FycmF5LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KGFycik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59IiwiaW1wb3J0IGFycmF5V2l0aG91dEhvbGVzIGZyb20gXCIuL2FycmF5V2l0aG91dEhvbGVzLmpzXCI7XG5pbXBvcnQgaXRlcmFibGVUb0FycmF5IGZyb20gXCIuL2l0ZXJhYmxlVG9BcnJheS5qc1wiO1xuaW1wb3J0IHVuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IGZyb20gXCIuL3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5LmpzXCI7XG5pbXBvcnQgbm9uSXRlcmFibGVTcHJlYWQgZnJvbSBcIi4vbm9uSXRlcmFibGVTcHJlYWQuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIGFycmF5V2l0aG91dEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5KGFycikgfHwgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBub25JdGVyYWJsZVNwcmVhZCgpO1xufSIsInZhciBoYXNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5mb3I7XG5leHBvcnQgZGVmYXVsdCBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdtdWkubmVzdGVkJykgOiAnX19USEVNRV9ORVNURURfXyc7IiwiaW1wb3J0IG5lc3RlZCBmcm9tICcuLi9UaGVtZVByb3ZpZGVyL25lc3RlZCc7XG4vKipcbiAqIFRoaXMgaXMgdGhlIGxpc3Qgb2YgdGhlIHN0eWxlIHJ1bGUgbmFtZSB3ZSB1c2UgYXMgZHJvcCBpbiByZXBsYWNlbWVudCBmb3IgdGhlIGJ1aWx0LWluXG4gKiBwc2V1ZG8gY2xhc3NlcyAoOmNoZWNrZWQsIDpkaXNhYmxlZCwgOmZvY3VzZWQsIGV0Yy4pLlxuICpcbiAqIFdoeSBkbyB0aGV5IGV4aXN0IGluIHRoZSBmaXJzdCBwbGFjZT9cbiAqIFRoZXNlIGNsYXNzZXMgYXJlIHVzZWQgYXQgYSBzcGVjaWZpY2l0eSBvZiAyLlxuICogSXQgYWxsb3dzIHRoZW0gdG8gb3ZlcnJpZGUgcHJldmlvdXNseSBkZWZpbmllZCBzdHlsZXMgYXMgd2VsbCBhc1xuICogYmVpbmcgdW50b3VjaGVkIGJ5IHNpbXBsZSB1c2VyIG92ZXJyaWRlcy5cbiAqL1xuXG52YXIgcHNldWRvQ2xhc3NlcyA9IFsnY2hlY2tlZCcsICdkaXNhYmxlZCcsICdlcnJvcicsICdmb2N1c2VkJywgJ2ZvY3VzVmlzaWJsZScsICdyZXF1aXJlZCcsICdleHBhbmRlZCcsICdzZWxlY3RlZCddOyAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggZ2VuZXJhdGVzIHVuaXF1ZSBjbGFzcyBuYW1lcyBiYXNlZCBvbiBjb3VudGVycy5cbi8vIFdoZW4gbmV3IGdlbmVyYXRvciBmdW5jdGlvbiBpcyBjcmVhdGVkLCBydWxlIGNvdW50ZXIgaXMgcmVzZXQuXG4vLyBXZSBuZWVkIHRvIHJlc2V0IHRoZSBydWxlIGNvdW50ZXIgZm9yIFNTUiBmb3IgZWFjaCByZXF1ZXN0LlxuLy9cbi8vIEl0J3MgaW5zcGlyZWQgYnlcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9jc3NpbmpzL2pzcy9ibG9iLzRlNmEwNWRkM2Y3YjY1NzJmZGQzYWIyMTY4NjFkOWU0NDZjMjAzMzEvc3JjL3V0aWxzL2NyZWF0ZUdlbmVyYXRlQ2xhc3NOYW1lLmpzXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUdlbmVyYXRlQ2xhc3NOYW1lKCkge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gIHZhciBfb3B0aW9ucyRkaXNhYmxlR2xvYmEgPSBvcHRpb25zLmRpc2FibGVHbG9iYWwsXG4gICAgICBkaXNhYmxlR2xvYmFsID0gX29wdGlvbnMkZGlzYWJsZUdsb2JhID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJGRpc2FibGVHbG9iYSxcbiAgICAgIF9vcHRpb25zJHByb2R1Y3Rpb25QciA9IG9wdGlvbnMucHJvZHVjdGlvblByZWZpeCxcbiAgICAgIHByb2R1Y3Rpb25QcmVmaXggPSBfb3B0aW9ucyRwcm9kdWN0aW9uUHIgPT09IHZvaWQgMCA/ICdqc3MnIDogX29wdGlvbnMkcHJvZHVjdGlvblByLFxuICAgICAgX29wdGlvbnMkc2VlZCA9IG9wdGlvbnMuc2VlZCxcbiAgICAgIHNlZWQgPSBfb3B0aW9ucyRzZWVkID09PSB2b2lkIDAgPyAnJyA6IF9vcHRpb25zJHNlZWQ7XG4gIHZhciBzZWVkUHJlZml4ID0gc2VlZCA9PT0gJycgPyAnJyA6IFwiXCIuY29uY2F0KHNlZWQsIFwiLVwiKTtcbiAgdmFyIHJ1bGVDb3VudGVyID0gMDtcblxuICB2YXIgZ2V0TmV4dENvdW50ZXJJZCA9IGZ1bmN0aW9uIGdldE5leHRDb3VudGVySWQoKSB7XG4gICAgcnVsZUNvdW50ZXIgKz0gMTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAocnVsZUNvdW50ZXIgPj0gMWUxMCkge1xuICAgICAgICBjb25zb2xlLndhcm4oWydNYXRlcmlhbC1VSTogWW91IG1pZ2h0IGhhdmUgYSBtZW1vcnkgbGVhay4nLCAnVGhlIHJ1bGVDb3VudGVyIGlzIG5vdCBzdXBwb3NlZCB0byBncm93IHRoYXQgbXVjaC4nXS5qb2luKCcnKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJ1bGVDb3VudGVyO1xuICB9O1xuXG4gIHJldHVybiBmdW5jdGlvbiAocnVsZSwgc3R5bGVTaGVldCkge1xuICAgIHZhciBuYW1lID0gc3R5bGVTaGVldC5vcHRpb25zLm5hbWU7IC8vIElzIGEgZ2xvYmFsIHN0YXRpYyBNVUkgc3R5bGU/XG5cbiAgICBpZiAobmFtZSAmJiBuYW1lLmluZGV4T2YoJ011aScpID09PSAwICYmICFzdHlsZVNoZWV0Lm9wdGlvbnMubGluayAmJiAhZGlzYWJsZUdsb2JhbCkge1xuICAgICAgLy8gV2UgY2FuIHVzZSBhIHNob3J0aGFuZCBjbGFzcyBuYW1lLCB3ZSBuZXZlciB1c2UgdGhlIGtleXMgdG8gc3R5bGUgdGhlIGNvbXBvbmVudHMuXG4gICAgICBpZiAocHNldWRvQ2xhc3Nlcy5pbmRleE9mKHJ1bGUua2V5KSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIFwiTXVpLVwiLmNvbmNhdChydWxlLmtleSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcmVmaXggPSBcIlwiLmNvbmNhdChzZWVkUHJlZml4KS5jb25jYXQobmFtZSwgXCItXCIpLmNvbmNhdChydWxlLmtleSk7XG5cbiAgICAgIGlmICghc3R5bGVTaGVldC5vcHRpb25zLnRoZW1lW25lc3RlZF0gfHwgc2VlZCAhPT0gJycpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHByZWZpeCwgXCItXCIpLmNvbmNhdChnZXROZXh0Q291bnRlcklkKCkpO1xuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQoc2VlZFByZWZpeCkuY29uY2F0KHByb2R1Y3Rpb25QcmVmaXgpLmNvbmNhdChnZXROZXh0Q291bnRlcklkKCkpO1xuICAgIH1cblxuICAgIHZhciBzdWZmaXggPSBcIlwiLmNvbmNhdChydWxlLmtleSwgXCItXCIpLmNvbmNhdChnZXROZXh0Q291bnRlcklkKCkpOyAvLyBIZWxwIHdpdGggZGVidWdnYWJpbGl0eS5cblxuICAgIGlmIChzdHlsZVNoZWV0Lm9wdGlvbnMuY2xhc3NOYW1lUHJlZml4KSB7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQoc2VlZFByZWZpeCkuY29uY2F0KHN0eWxlU2hlZXQub3B0aW9ucy5jbGFzc05hbWVQcmVmaXgsIFwiLVwiKS5jb25jYXQoc3VmZml4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gXCJcIi5jb25jYXQoc2VlZFByZWZpeCkuY29uY2F0KHN1ZmZpeCk7XG4gIH07XG59IiwiLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1zeW50YXggKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFRoZW1lUHJvcHMocGFyYW1zKSB7XG4gIHZhciB0aGVtZSA9IHBhcmFtcy50aGVtZSxcbiAgICAgIG5hbWUgPSBwYXJhbXMubmFtZSxcbiAgICAgIHByb3BzID0gcGFyYW1zLnByb3BzO1xuXG4gIGlmICghdGhlbWUgfHwgIXRoZW1lLnByb3BzIHx8ICF0aGVtZS5wcm9wc1tuYW1lXSkge1xuICAgIHJldHVybiBwcm9wcztcbiAgfSAvLyBSZXNvbHZlIGRlZmF1bHQgcHJvcHMsIGNvZGUgYm9ycm93IGZyb20gUmVhY3Qgc291cmNlLlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi8xNWE4ZjAzMTgzOGE1NTNlNDFjMGI2NmViMWJjZjFkYTg0NDgxMDRkL3BhY2thZ2VzL3JlYWN0L3NyYy9SZWFjdEVsZW1lbnQuanMjTDIyMVxuXG5cbiAgdmFyIGRlZmF1bHRQcm9wcyA9IHRoZW1lLnByb3BzW25hbWVdO1xuICB2YXIgcHJvcE5hbWU7XG5cbiAgZm9yIChwcm9wTmFtZSBpbiBkZWZhdWx0UHJvcHMpIHtcbiAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHByb3BzO1xufSIsInZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0IHZhciBpc0Jyb3dzZXIgPSAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHdpbmRvdykpID09PSBcIm9iamVjdFwiICYmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihkb2N1bWVudCkpID09PSAnb2JqZWN0JyAmJiBkb2N1bWVudC5ub2RlVHlwZSA9PT0gOTtcblxuZXhwb3J0IGRlZmF1bHQgaXNCcm93c2VyO1xuIiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0IGlzSW5Ccm93c2VyIGZyb20gJ2lzLWluLWJyb3dzZXInO1xuaW1wb3J0IHdhcm5pbmcgZnJvbSAndGlueS13YXJuaW5nJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9pbmhlcml0c0xvb3NlIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2UnO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXNzZXJ0VGhpc0luaXRpYWxpemVkJztcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlJztcblxudmFyIHBsYWluT2JqZWN0Q29uc3RydXJjdG9yID0ge30uY29uc3RydWN0b3I7XG5mdW5jdGlvbiBjbG9uZVN0eWxlKHN0eWxlKSB7XG4gIGlmIChzdHlsZSA9PSBudWxsIHx8IHR5cGVvZiBzdHlsZSAhPT0gJ29iamVjdCcpIHJldHVybiBzdHlsZTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoc3R5bGUpKSByZXR1cm4gc3R5bGUubWFwKGNsb25lU3R5bGUpO1xuICBpZiAoc3R5bGUuY29uc3RydWN0b3IgIT09IHBsYWluT2JqZWN0Q29uc3RydXJjdG9yKSByZXR1cm4gc3R5bGU7XG4gIHZhciBuZXdTdHlsZSA9IHt9O1xuXG4gIGZvciAodmFyIG5hbWUgaW4gc3R5bGUpIHtcbiAgICBuZXdTdHlsZVtuYW1lXSA9IGNsb25lU3R5bGUoc3R5bGVbbmFtZV0pO1xuICB9XG5cbiAgcmV0dXJuIG5ld1N0eWxlO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIHJ1bGUgaW5zdGFuY2UuXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlUnVsZShuYW1lLCBkZWNsLCBvcHRpb25zKSB7XG4gIGlmIChuYW1lID09PSB2b2lkIDApIHtcbiAgICBuYW1lID0gJ3VubmFtZWQnO1xuICB9XG5cbiAgdmFyIGpzcyA9IG9wdGlvbnMuanNzO1xuICB2YXIgZGVjbENvcHkgPSBjbG9uZVN0eWxlKGRlY2wpO1xuICB2YXIgcnVsZSA9IGpzcy5wbHVnaW5zLm9uQ3JlYXRlUnVsZShuYW1lLCBkZWNsQ29weSwgb3B0aW9ucyk7XG4gIGlmIChydWxlKSByZXR1cm4gcnVsZTsgLy8gSXQgaXMgYW4gYXQtcnVsZSBhbmQgaXQgaGFzIG5vIGluc3RhbmNlLlxuXG4gIGlmIChuYW1lWzBdID09PSAnQCcpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGZhbHNlLCBcIltKU1NdIFVua25vd24gcnVsZSBcIiArIG5hbWUpIDogdm9pZCAwO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbnZhciBqb2luID0gZnVuY3Rpb24gam9pbih2YWx1ZSwgYnkpIHtcbiAgdmFyIHJlc3VsdCA9ICcnO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAvLyBSZW1vdmUgIWltcG9ydGFudCBmcm9tIHRoZSB2YWx1ZSwgaXQgd2lsbCBiZSByZWFkZGVkIGxhdGVyLlxuICAgIGlmICh2YWx1ZVtpXSA9PT0gJyFpbXBvcnRhbnQnKSBicmVhaztcbiAgICBpZiAocmVzdWx0KSByZXN1bHQgKz0gYnk7XG4gICAgcmVzdWx0ICs9IHZhbHVlW2ldO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogQ29udmVydHMgYXJyYXkgdmFsdWVzIHRvIHN0cmluZy5cbiAqXG4gKiBgbWFyZ2luOiBbWyc1cHgnLCAnMTBweCddXWAgPiBgbWFyZ2luOiA1cHggMTBweDtgXG4gKiBgYm9yZGVyOiBbJzFweCcsICcycHgnXWAgPiBgYm9yZGVyOiAxcHgsIDJweDtgXG4gKiBgbWFyZ2luOiBbWyc1cHgnLCAnMTBweCddLCAnIWltcG9ydGFudCddYCA+IGBtYXJnaW46IDVweCAxMHB4ICFpbXBvcnRhbnQ7YFxuICogYGNvbG9yOiBbJ3JlZCcsICFpbXBvcnRhbnRdYCA+IGBjb2xvcjogcmVkICFpbXBvcnRhbnQ7YFxuICovXG52YXIgdG9Dc3NWYWx1ZSA9IGZ1bmN0aW9uIHRvQ3NzVmFsdWUodmFsdWUsIGlnbm9yZUltcG9ydGFudCkge1xuICBpZiAoaWdub3JlSW1wb3J0YW50ID09PSB2b2lkIDApIHtcbiAgICBpZ25vcmVJbXBvcnRhbnQgPSBmYWxzZTtcbiAgfVxuXG4gIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgdmFyIGNzc1ZhbHVlID0gJyc7IC8vIFN1cHBvcnQgc3BhY2Ugc2VwYXJhdGVkIHZhbHVlcyB2aWEgYFtbJzVweCcsICcxMHB4J11dYC5cblxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZVswXSkpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodmFsdWVbaV0gPT09ICchaW1wb3J0YW50JykgYnJlYWs7XG4gICAgICBpZiAoY3NzVmFsdWUpIGNzc1ZhbHVlICs9ICcsICc7XG4gICAgICBjc3NWYWx1ZSArPSBqb2luKHZhbHVlW2ldLCAnICcpO1xuICAgIH1cbiAgfSBlbHNlIGNzc1ZhbHVlID0gam9pbih2YWx1ZSwgJywgJyk7IC8vIEFkZCAhaW1wb3J0YW50LCBiZWNhdXNlIGl0IHdhcyBpZ25vcmVkLlxuXG5cbiAgaWYgKCFpZ25vcmVJbXBvcnRhbnQgJiYgdmFsdWVbdmFsdWUubGVuZ3RoIC0gMV0gPT09ICchaW1wb3J0YW50Jykge1xuICAgIGNzc1ZhbHVlICs9ICcgIWltcG9ydGFudCc7XG4gIH1cblxuICByZXR1cm4gY3NzVmFsdWU7XG59O1xuXG4vKipcbiAqIEluZGVudCBhIHN0cmluZy5cbiAqIGh0dHA6Ly9qc3BlcmYuY29tL2FycmF5LWpvaW4tdnMtZm9yXG4gKi9cbmZ1bmN0aW9uIGluZGVudFN0cihzdHIsIGluZGVudCkge1xuICB2YXIgcmVzdWx0ID0gJyc7XG5cbiAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGluZGVudDsgaW5kZXgrKykge1xuICAgIHJlc3VsdCArPSAnICAnO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdCArIHN0cjtcbn1cbi8qKlxuICogQ29udmVydHMgYSBSdWxlIHRvIENTUyBzdHJpbmcuXG4gKi9cblxuXG5mdW5jdGlvbiB0b0NzcyhzZWxlY3Rvciwgc3R5bGUsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSAnJztcbiAgaWYgKCFzdHlsZSkgcmV0dXJuIHJlc3VsdDtcbiAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyxcbiAgICAgIF9vcHRpb25zJGluZGVudCA9IF9vcHRpb25zLmluZGVudCxcbiAgICAgIGluZGVudCA9IF9vcHRpb25zJGluZGVudCA9PT0gdm9pZCAwID8gMCA6IF9vcHRpb25zJGluZGVudDtcbiAgdmFyIGZhbGxiYWNrcyA9IHN0eWxlLmZhbGxiYWNrcztcbiAgaWYgKHNlbGVjdG9yKSBpbmRlbnQrKzsgLy8gQXBwbHkgZmFsbGJhY2tzIGZpcnN0LlxuXG4gIGlmIChmYWxsYmFja3MpIHtcbiAgICAvLyBBcnJheSBzeW50YXgge2ZhbGxiYWNrczogW3twcm9wOiB2YWx1ZX1dfVxuICAgIGlmIChBcnJheS5pc0FycmF5KGZhbGxiYWNrcykpIHtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBmYWxsYmFja3MubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHZhciBmYWxsYmFjayA9IGZhbGxiYWNrc1tpbmRleF07XG5cbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBmYWxsYmFjaykge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGZhbGxiYWNrW3Byb3BdO1xuXG4gICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHJlc3VsdCArPSAnXFxuJztcbiAgICAgICAgICAgIHJlc3VsdCArPSBpbmRlbnRTdHIocHJvcCArIFwiOiBcIiArIHRvQ3NzVmFsdWUodmFsdWUpICsgXCI7XCIsIGluZGVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE9iamVjdCBzeW50YXgge2ZhbGxiYWNrczoge3Byb3A6IHZhbHVlfX1cbiAgICAgIGZvciAodmFyIF9wcm9wIGluIGZhbGxiYWNrcykge1xuICAgICAgICB2YXIgX3ZhbHVlID0gZmFsbGJhY2tzW19wcm9wXTtcblxuICAgICAgICBpZiAoX3ZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAocmVzdWx0KSByZXN1bHQgKz0gJ1xcbic7XG4gICAgICAgICAgcmVzdWx0ICs9IGluZGVudFN0cihfcHJvcCArIFwiOiBcIiArIHRvQ3NzVmFsdWUoX3ZhbHVlKSArIFwiO1wiLCBpbmRlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgX3Byb3AyIGluIHN0eWxlKSB7XG4gICAgdmFyIF92YWx1ZTIgPSBzdHlsZVtfcHJvcDJdO1xuXG4gICAgaWYgKF92YWx1ZTIgIT0gbnVsbCAmJiBfcHJvcDIgIT09ICdmYWxsYmFja3MnKSB7XG4gICAgICBpZiAocmVzdWx0KSByZXN1bHQgKz0gJ1xcbic7XG4gICAgICByZXN1bHQgKz0gaW5kZW50U3RyKF9wcm9wMiArIFwiOiBcIiArIHRvQ3NzVmFsdWUoX3ZhbHVlMikgKyBcIjtcIiwgaW5kZW50KTtcbiAgICB9XG4gIH0gLy8gQWxsb3cgZW1wdHkgc3R5bGUgaW4gdGhpcyBjYXNlLCBiZWNhdXNlIHByb3BlcnRpZXMgd2lsbCBiZSBhZGRlZCBkeW5hbWljYWxseS5cblxuXG4gIGlmICghcmVzdWx0ICYmICFvcHRpb25zLmFsbG93RW1wdHkpIHJldHVybiByZXN1bHQ7IC8vIFdoZW4gcnVsZSBpcyBiZWluZyBzdHJpbmdpZmllZCBiZWZvcmUgc2VsZWN0b3Igd2FzIGRlZmluZWQuXG5cbiAgaWYgKCFzZWxlY3RvcikgcmV0dXJuIHJlc3VsdDtcbiAgaW5kZW50LS07XG4gIGlmIChyZXN1bHQpIHJlc3VsdCA9IFwiXFxuXCIgKyByZXN1bHQgKyBcIlxcblwiO1xuICByZXR1cm4gaW5kZW50U3RyKHNlbGVjdG9yICsgXCIge1wiICsgcmVzdWx0LCBpbmRlbnQpICsgaW5kZW50U3RyKCd9JywgaW5kZW50KTtcbn1cblxudmFyIGVzY2FwZVJlZ2V4ID0gLyhbW1xcXS4jKiQ+PCt+PXxeOigpLFwiJ2BcXHNdKS9nO1xudmFyIG5hdGl2ZUVzY2FwZSA9IHR5cGVvZiBDU1MgIT09ICd1bmRlZmluZWQnICYmIENTUy5lc2NhcGU7XG52YXIgZXNjYXBlID0gKGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIG5hdGl2ZUVzY2FwZSA/IG5hdGl2ZUVzY2FwZShzdHIpIDogc3RyLnJlcGxhY2UoZXNjYXBlUmVnZXgsICdcXFxcJDEnKTtcbn0pO1xuXG52YXIgQmFzZVN0eWxlUnVsZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEJhc2VTdHlsZVJ1bGUoa2V5LCBzdHlsZSwgb3B0aW9ucykge1xuICAgIHRoaXMudHlwZSA9ICdzdHlsZSc7XG4gICAgdGhpcy5rZXkgPSB2b2lkIDA7XG4gICAgdGhpcy5pc1Byb2Nlc3NlZCA9IGZhbHNlO1xuICAgIHRoaXMuc3R5bGUgPSB2b2lkIDA7XG4gICAgdGhpcy5yZW5kZXJlciA9IHZvaWQgMDtcbiAgICB0aGlzLnJlbmRlcmFibGUgPSB2b2lkIDA7XG4gICAgdGhpcy5vcHRpb25zID0gdm9pZCAwO1xuICAgIHZhciBzaGVldCA9IG9wdGlvbnMuc2hlZXQsXG4gICAgICAgIFJlbmRlcmVyID0gb3B0aW9ucy5SZW5kZXJlcjtcbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcbiAgICBpZiAoc2hlZXQpIHRoaXMucmVuZGVyZXIgPSBzaGVldC5yZW5kZXJlcjtlbHNlIGlmIChSZW5kZXJlcikgdGhpcy5yZW5kZXJlciA9IG5ldyBSZW5kZXJlcigpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgb3Igc2V0IGEgc3R5bGUgcHJvcGVydHkuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IEJhc2VTdHlsZVJ1bGUucHJvdG90eXBlO1xuXG4gIF9wcm90by5wcm9wID0gZnVuY3Rpb24gcHJvcChuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICAgIC8vIEl0J3MgYSBnZXR0ZXIuXG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLnN0eWxlW25hbWVdOyAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiB0aGUgdmFsdWUgaGFzIG5vdCBjaGFuZ2VkLlxuXG4gICAgdmFyIGZvcmNlID0gb3B0aW9ucyA/IG9wdGlvbnMuZm9yY2UgOiBmYWxzZTtcbiAgICBpZiAoIWZvcmNlICYmIHRoaXMuc3R5bGVbbmFtZV0gPT09IHZhbHVlKSByZXR1cm4gdGhpcztcbiAgICB2YXIgbmV3VmFsdWUgPSB2YWx1ZTtcblxuICAgIGlmICghb3B0aW9ucyB8fCBvcHRpb25zLnByb2Nlc3MgIT09IGZhbHNlKSB7XG4gICAgICBuZXdWYWx1ZSA9IHRoaXMub3B0aW9ucy5qc3MucGx1Z2lucy5vbkNoYW5nZVZhbHVlKHZhbHVlLCBuYW1lLCB0aGlzKTtcbiAgICB9XG5cbiAgICB2YXIgaXNFbXB0eSA9IG5ld1ZhbHVlID09IG51bGwgfHwgbmV3VmFsdWUgPT09IGZhbHNlO1xuICAgIHZhciBpc0RlZmluZWQgPSBuYW1lIGluIHRoaXMuc3R5bGU7IC8vIFZhbHVlIGlzIGVtcHR5IGFuZCB3YXNuJ3QgZGVmaW5lZCBiZWZvcmUuXG5cbiAgICBpZiAoaXNFbXB0eSAmJiAhaXNEZWZpbmVkICYmICFmb3JjZSkgcmV0dXJuIHRoaXM7IC8vIFdlIGFyZSBnb2luZyB0byByZW1vdmUgdGhpcyB2YWx1ZS5cblxuICAgIHZhciByZW1vdmUgPSBpc0VtcHR5ICYmIGlzRGVmaW5lZDtcbiAgICBpZiAocmVtb3ZlKSBkZWxldGUgdGhpcy5zdHlsZVtuYW1lXTtlbHNlIHRoaXMuc3R5bGVbbmFtZV0gPSBuZXdWYWx1ZTsgLy8gUmVuZGVyYWJsZSBpcyBkZWZpbmVkIGlmIFN0eWxlU2hlZXQgb3B0aW9uIGBsaW5rYCBpcyB0cnVlLlxuXG4gICAgaWYgKHRoaXMucmVuZGVyYWJsZSAmJiB0aGlzLnJlbmRlcmVyKSB7XG4gICAgICBpZiAocmVtb3ZlKSB0aGlzLnJlbmRlcmVyLnJlbW92ZVByb3BlcnR5KHRoaXMucmVuZGVyYWJsZSwgbmFtZSk7ZWxzZSB0aGlzLnJlbmRlcmVyLnNldFByb3BlcnR5KHRoaXMucmVuZGVyYWJsZSwgbmFtZSwgbmV3VmFsdWUpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdmFyIHNoZWV0ID0gdGhpcy5vcHRpb25zLnNoZWV0O1xuXG4gICAgaWYgKHNoZWV0ICYmIHNoZWV0LmF0dGFjaGVkKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGZhbHNlLCAnW0pTU10gUnVsZSBpcyBub3QgbGlua2VkLiBNaXNzaW5nIHNoZWV0IG9wdGlvbiBcImxpbms6IHRydWVcIi4nKSA6IHZvaWQgMDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICByZXR1cm4gQmFzZVN0eWxlUnVsZTtcbn0oKTtcbnZhciBTdHlsZVJ1bGUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9CYXNlU3R5bGVSdWxlKSB7XG4gIF9pbmhlcml0c0xvb3NlKFN0eWxlUnVsZSwgX0Jhc2VTdHlsZVJ1bGUpO1xuXG4gIGZ1bmN0aW9uIFN0eWxlUnVsZShrZXksIHN0eWxlLCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfQmFzZVN0eWxlUnVsZS5jYWxsKHRoaXMsIGtleSwgc3R5bGUsIG9wdGlvbnMpIHx8IHRoaXM7XG4gICAgX3RoaXMuc2VsZWN0b3JUZXh0ID0gdm9pZCAwO1xuICAgIF90aGlzLmlkID0gdm9pZCAwO1xuICAgIF90aGlzLnJlbmRlcmFibGUgPSB2b2lkIDA7XG4gICAgdmFyIHNlbGVjdG9yID0gb3B0aW9ucy5zZWxlY3RvcixcbiAgICAgICAgc2NvcGVkID0gb3B0aW9ucy5zY29wZWQsXG4gICAgICAgIHNoZWV0ID0gb3B0aW9ucy5zaGVldCxcbiAgICAgICAgZ2VuZXJhdGVJZCA9IG9wdGlvbnMuZ2VuZXJhdGVJZDtcblxuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgX3RoaXMuc2VsZWN0b3JUZXh0ID0gc2VsZWN0b3I7XG4gICAgfSBlbHNlIGlmIChzY29wZWQgIT09IGZhbHNlKSB7XG4gICAgICBfdGhpcy5pZCA9IGdlbmVyYXRlSWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksIHNoZWV0KTtcbiAgICAgIF90aGlzLnNlbGVjdG9yVGV4dCA9IFwiLlwiICsgZXNjYXBlKF90aGlzLmlkKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBzZWxlY3RvciBzdHJpbmcuXG4gICAqIEF0dGVudGlvbjogdXNlIHRoaXMgd2l0aCBjYXV0aW9uLiBNb3N0IGJyb3dzZXJzIGRpZG4ndCBpbXBsZW1lbnRcbiAgICogc2VsZWN0b3JUZXh0IHNldHRlciwgc28gdGhpcyBtYXkgcmVzdWx0IGluIHJlcmVuZGVyaW5nIG9mIGVudGlyZSBTdHlsZSBTaGVldC5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvMiA9IFN0eWxlUnVsZS5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIEFwcGx5IHJ1bGUgdG8gYW4gZWxlbWVudCBpbmxpbmUuXG4gICAqL1xuICBfcHJvdG8yLmFwcGx5VG8gPSBmdW5jdGlvbiBhcHBseVRvKHJlbmRlcmFibGUpIHtcbiAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgaWYgKHJlbmRlcmVyKSB7XG4gICAgICB2YXIganNvbiA9IHRoaXMudG9KU09OKCk7XG5cbiAgICAgIGZvciAodmFyIHByb3AgaW4ganNvbikge1xuICAgICAgICByZW5kZXJlci5zZXRQcm9wZXJ0eShyZW5kZXJhYmxlLCBwcm9wLCBqc29uW3Byb3BdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBydWxlLlxuICAgKiBGYWxsYmFja3MgYXJlIG5vdCBzdXBwb3J0ZWQuXG4gICAqIFVzZWZ1bCBmb3IgaW5saW5lIHN0eWxlcy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8yLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICB2YXIganNvbiA9IHt9O1xuXG4gICAgZm9yICh2YXIgcHJvcCBpbiB0aGlzLnN0eWxlKSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLnN0eWxlW3Byb3BdO1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIGpzb25bcHJvcF0gPSB2YWx1ZTtlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkganNvbltwcm9wXSA9IHRvQ3NzVmFsdWUodmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiBqc29uO1xuICB9XG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgYSBDU1Mgc3RyaW5nLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90bzIudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhvcHRpb25zKSB7XG4gICAgdmFyIHNoZWV0ID0gdGhpcy5vcHRpb25zLnNoZWV0O1xuICAgIHZhciBsaW5rID0gc2hlZXQgPyBzaGVldC5vcHRpb25zLmxpbmsgOiBmYWxzZTtcbiAgICB2YXIgb3B0cyA9IGxpbmsgPyBfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuICAgICAgYWxsb3dFbXB0eTogdHJ1ZVxuICAgIH0pIDogb3B0aW9ucztcbiAgICByZXR1cm4gdG9Dc3ModGhpcy5zZWxlY3RvclRleHQsIHRoaXMuc3R5bGUsIG9wdHMpO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhTdHlsZVJ1bGUsIFt7XG4gICAga2V5OiBcInNlbGVjdG9yXCIsXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoc2VsZWN0b3IpIHtcbiAgICAgIGlmIChzZWxlY3RvciA9PT0gdGhpcy5zZWxlY3RvclRleHQpIHJldHVybjtcbiAgICAgIHRoaXMuc2VsZWN0b3JUZXh0ID0gc2VsZWN0b3I7XG4gICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyLFxuICAgICAgICAgIHJlbmRlcmFibGUgPSB0aGlzLnJlbmRlcmFibGU7XG4gICAgICBpZiAoIXJlbmRlcmFibGUgfHwgIXJlbmRlcmVyKSByZXR1cm47XG4gICAgICB2YXIgaGFzQ2hhbmdlZCA9IHJlbmRlcmVyLnNldFNlbGVjdG9yKHJlbmRlcmFibGUsIHNlbGVjdG9yKTsgLy8gSWYgc2VsZWN0b3Igc2V0dGVyIGlzIG5vdCBpbXBsZW1lbnRlZCwgcmVyZW5kZXIgdGhlIHJ1bGUuXG5cbiAgICAgIGlmICghaGFzQ2hhbmdlZCkge1xuICAgICAgICByZW5kZXJlci5yZXBsYWNlUnVsZShyZW5kZXJhYmxlLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHNlbGVjdG9yIHN0cmluZy5cbiAgICAgKi9cbiAgICAsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZWxlY3RvclRleHQ7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN0eWxlUnVsZTtcbn0oQmFzZVN0eWxlUnVsZSk7XG52YXIgcGx1Z2luU3R5bGVSdWxlID0ge1xuICBvbkNyZWF0ZVJ1bGU6IGZ1bmN0aW9uIG9uQ3JlYXRlUnVsZShuYW1lLCBzdHlsZSwgb3B0aW9ucykge1xuICAgIGlmIChuYW1lWzBdID09PSAnQCcgfHwgb3B0aW9ucy5wYXJlbnQgJiYgb3B0aW9ucy5wYXJlbnQudHlwZSA9PT0gJ2tleWZyYW1lcycpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgU3R5bGVSdWxlKG5hbWUsIHN0eWxlLCBvcHRpb25zKTtcbiAgfVxufTtcblxudmFyIGRlZmF1bHRUb1N0cmluZ09wdGlvbnMgPSB7XG4gIGluZGVudDogMSxcbiAgY2hpbGRyZW46IHRydWVcbn07XG52YXIgYXRSZWdFeHAgPSAvQChbXFx3LV0rKS87XG4vKipcbiAqIENvbmRpdGlvbmFsIHJ1bGUgZm9yIEBtZWRpYSwgQHN1cHBvcnRzXG4gKi9cblxudmFyIENvbmRpdGlvbmFsUnVsZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENvbmRpdGlvbmFsUnVsZShrZXksIHN0eWxlcywgb3B0aW9ucykge1xuICAgIHRoaXMudHlwZSA9ICdjb25kaXRpb25hbCc7XG4gICAgdGhpcy5hdCA9IHZvaWQgMDtcbiAgICB0aGlzLmtleSA9IHZvaWQgMDtcbiAgICB0aGlzLnF1ZXJ5ID0gdm9pZCAwO1xuICAgIHRoaXMucnVsZXMgPSB2b2lkIDA7XG4gICAgdGhpcy5vcHRpb25zID0gdm9pZCAwO1xuICAgIHRoaXMuaXNQcm9jZXNzZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlbmRlcmFibGUgPSB2b2lkIDA7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdmFyIGF0TWF0Y2ggPSBrZXkubWF0Y2goYXRSZWdFeHApO1xuICAgIHRoaXMuYXQgPSBhdE1hdGNoID8gYXRNYXRjaFsxXSA6ICd1bmtub3duJzsgLy8gS2V5IG1pZ2h0IGNvbnRhaW4gYSB1bmlxdWUgc3VmZml4IGluIGNhc2UgdGhlIGBuYW1lYCBwYXNzZWQgYnkgdXNlciB3YXMgZHVwbGljYXRlLlxuXG4gICAgdGhpcy5xdWVyeSA9IG9wdGlvbnMubmFtZSB8fCBcIkBcIiArIHRoaXMuYXQ7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnJ1bGVzID0gbmV3IFJ1bGVMaXN0KF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBwYXJlbnQ6IHRoaXNcbiAgICB9KSk7XG5cbiAgICBmb3IgKHZhciBuYW1lIGluIHN0eWxlcykge1xuICAgICAgdGhpcy5ydWxlcy5hZGQobmFtZSwgc3R5bGVzW25hbWVdKTtcbiAgICB9XG5cbiAgICB0aGlzLnJ1bGVzLnByb2Nlc3MoKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgcnVsZS5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gQ29uZGl0aW9uYWxSdWxlLnByb3RvdHlwZTtcblxuICBfcHJvdG8uZ2V0UnVsZSA9IGZ1bmN0aW9uIGdldFJ1bGUobmFtZSkge1xuICAgIHJldHVybiB0aGlzLnJ1bGVzLmdldChuYW1lKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGluZGV4IG9mIGEgcnVsZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YocnVsZSkge1xuICAgIHJldHVybiB0aGlzLnJ1bGVzLmluZGV4T2YocnVsZSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgcmVnaXN0ZXIgcnVsZSwgcnVuIHBsdWdpbnMuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmFkZFJ1bGUgPSBmdW5jdGlvbiBhZGRSdWxlKG5hbWUsIHN0eWxlLCBvcHRpb25zKSB7XG4gICAgdmFyIHJ1bGUgPSB0aGlzLnJ1bGVzLmFkZChuYW1lLCBzdHlsZSwgb3B0aW9ucyk7XG4gICAgaWYgKCFydWxlKSByZXR1cm4gbnVsbDtcbiAgICB0aGlzLm9wdGlvbnMuanNzLnBsdWdpbnMub25Qcm9jZXNzUnVsZShydWxlKTtcbiAgICByZXR1cm4gcnVsZTtcbiAgfVxuICAvKipcbiAgICogR2VuZXJhdGVzIGEgQ1NTIHN0cmluZy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IGRlZmF1bHRUb1N0cmluZ09wdGlvbnM7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuaW5kZW50ID09IG51bGwpIG9wdGlvbnMuaW5kZW50ID0gZGVmYXVsdFRvU3RyaW5nT3B0aW9ucy5pbmRlbnQ7XG4gICAgaWYgKG9wdGlvbnMuY2hpbGRyZW4gPT0gbnVsbCkgb3B0aW9ucy5jaGlsZHJlbiA9IGRlZmF1bHRUb1N0cmluZ09wdGlvbnMuY2hpbGRyZW47XG5cbiAgICBpZiAob3B0aW9ucy5jaGlsZHJlbiA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLnF1ZXJ5ICsgXCIge31cIjtcbiAgICB9XG5cbiAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnJ1bGVzLnRvU3RyaW5nKG9wdGlvbnMpO1xuICAgIHJldHVybiBjaGlsZHJlbiA/IHRoaXMucXVlcnkgKyBcIiB7XFxuXCIgKyBjaGlsZHJlbiArIFwiXFxufVwiIDogJyc7XG4gIH07XG5cbiAgcmV0dXJuIENvbmRpdGlvbmFsUnVsZTtcbn0oKTtcbnZhciBrZXlSZWdFeHAgPSAvQG1lZGlhfEBzdXBwb3J0c1xccysvO1xudmFyIHBsdWdpbkNvbmRpdGlvbmFsUnVsZSA9IHtcbiAgb25DcmVhdGVSdWxlOiBmdW5jdGlvbiBvbkNyZWF0ZVJ1bGUoa2V5LCBzdHlsZXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4ga2V5UmVnRXhwLnRlc3Qoa2V5KSA/IG5ldyBDb25kaXRpb25hbFJ1bGUoa2V5LCBzdHlsZXMsIG9wdGlvbnMpIDogbnVsbDtcbiAgfVxufTtcblxudmFyIGRlZmF1bHRUb1N0cmluZ09wdGlvbnMkMSA9IHtcbiAgaW5kZW50OiAxLFxuICBjaGlsZHJlbjogdHJ1ZVxufTtcbnZhciBuYW1lUmVnRXhwID0gL0BrZXlmcmFtZXNcXHMrKFtcXHctXSspLztcbi8qKlxuICogUnVsZSBmb3IgQGtleWZyYW1lc1xuICovXG5cbnZhciBLZXlmcmFtZXNSdWxlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gS2V5ZnJhbWVzUnVsZShrZXksIGZyYW1lcywgb3B0aW9ucykge1xuICAgIHRoaXMudHlwZSA9ICdrZXlmcmFtZXMnO1xuICAgIHRoaXMuYXQgPSAnQGtleWZyYW1lcyc7XG4gICAgdGhpcy5rZXkgPSB2b2lkIDA7XG4gICAgdGhpcy5uYW1lID0gdm9pZCAwO1xuICAgIHRoaXMuaWQgPSB2b2lkIDA7XG4gICAgdGhpcy5ydWxlcyA9IHZvaWQgMDtcbiAgICB0aGlzLm9wdGlvbnMgPSB2b2lkIDA7XG4gICAgdGhpcy5pc1Byb2Nlc3NlZCA9IGZhbHNlO1xuICAgIHRoaXMucmVuZGVyYWJsZSA9IHZvaWQgMDtcbiAgICB2YXIgbmFtZU1hdGNoID0ga2V5Lm1hdGNoKG5hbWVSZWdFeHApO1xuXG4gICAgaWYgKG5hbWVNYXRjaCAmJiBuYW1lTWF0Y2hbMV0pIHtcbiAgICAgIHRoaXMubmFtZSA9IG5hbWVNYXRjaFsxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5uYW1lID0gJ25vbmFtZSc7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGZhbHNlLCBcIltKU1NdIEJhZCBrZXlmcmFtZXMgbmFtZSBcIiArIGtleSkgOiB2b2lkIDA7XG4gICAgfVxuXG4gICAgdGhpcy5rZXkgPSB0aGlzLnR5cGUgKyBcIi1cIiArIHRoaXMubmFtZTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHZhciBzY29wZWQgPSBvcHRpb25zLnNjb3BlZCxcbiAgICAgICAgc2hlZXQgPSBvcHRpb25zLnNoZWV0LFxuICAgICAgICBnZW5lcmF0ZUlkID0gb3B0aW9ucy5nZW5lcmF0ZUlkO1xuICAgIHRoaXMuaWQgPSBzY29wZWQgPT09IGZhbHNlID8gdGhpcy5uYW1lIDogZXNjYXBlKGdlbmVyYXRlSWQodGhpcywgc2hlZXQpKTtcbiAgICB0aGlzLnJ1bGVzID0gbmV3IFJ1bGVMaXN0KF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBwYXJlbnQ6IHRoaXNcbiAgICB9KSk7XG5cbiAgICBmb3IgKHZhciBuYW1lIGluIGZyYW1lcykge1xuICAgICAgdGhpcy5ydWxlcy5hZGQobmFtZSwgZnJhbWVzW25hbWVdLCBfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuICAgICAgICBwYXJlbnQ6IHRoaXNcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICB0aGlzLnJ1bGVzLnByb2Nlc3MoKTtcbiAgfVxuICAvKipcbiAgICogR2VuZXJhdGVzIGEgQ1NTIHN0cmluZy5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gS2V5ZnJhbWVzUnVsZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSBkZWZhdWx0VG9TdHJpbmdPcHRpb25zJDE7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuaW5kZW50ID09IG51bGwpIG9wdGlvbnMuaW5kZW50ID0gZGVmYXVsdFRvU3RyaW5nT3B0aW9ucyQxLmluZGVudDtcbiAgICBpZiAob3B0aW9ucy5jaGlsZHJlbiA9PSBudWxsKSBvcHRpb25zLmNoaWxkcmVuID0gZGVmYXVsdFRvU3RyaW5nT3B0aW9ucyQxLmNoaWxkcmVuO1xuXG4gICAgaWYgKG9wdGlvbnMuY2hpbGRyZW4gPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5hdCArIFwiIFwiICsgdGhpcy5pZCArIFwiIHt9XCI7XG4gICAgfVxuXG4gICAgdmFyIGNoaWxkcmVuID0gdGhpcy5ydWxlcy50b1N0cmluZyhvcHRpb25zKTtcbiAgICBpZiAoY2hpbGRyZW4pIGNoaWxkcmVuID0gXCJcXG5cIiArIGNoaWxkcmVuICsgXCJcXG5cIjtcbiAgICByZXR1cm4gdGhpcy5hdCArIFwiIFwiICsgdGhpcy5pZCArIFwiIHtcIiArIGNoaWxkcmVuICsgXCJ9XCI7XG4gIH07XG5cbiAgcmV0dXJuIEtleWZyYW1lc1J1bGU7XG59KCk7XG52YXIga2V5UmVnRXhwJDEgPSAvQGtleWZyYW1lc1xccysvO1xudmFyIHJlZlJlZ0V4cCA9IC9cXCQoW1xcdy1dKykvZztcblxudmFyIGZpbmRSZWZlcmVuY2VkS2V5ZnJhbWUgPSBmdW5jdGlvbiBmaW5kUmVmZXJlbmNlZEtleWZyYW1lKHZhbCwga2V5ZnJhbWVzKSB7XG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWwucmVwbGFjZShyZWZSZWdFeHAsIGZ1bmN0aW9uIChtYXRjaCwgbmFtZSkge1xuICAgICAgaWYgKG5hbWUgaW4ga2V5ZnJhbWVzKSB7XG4gICAgICAgIHJldHVybiBrZXlmcmFtZXNbbmFtZV07XG4gICAgICB9XG5cbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoZmFsc2UsIFwiW0pTU10gUmVmZXJlbmNlZCBrZXlmcmFtZXMgcnVsZSBcXFwiXCIgKyBuYW1lICsgXCJcXFwiIGlzIG5vdCBkZWZpbmVkLlwiKSA6IHZvaWQgMDtcbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB2YWw7XG59O1xuLyoqXG4gKiBSZXBsYWNlIHRoZSByZWZlcmVuY2UgZm9yIGEgYW5pbWF0aW9uIG5hbWUuXG4gKi9cblxuXG52YXIgcmVwbGFjZVJlZiA9IGZ1bmN0aW9uIHJlcGxhY2VSZWYoc3R5bGUsIHByb3AsIGtleWZyYW1lcykge1xuICB2YXIgdmFsdWUgPSBzdHlsZVtwcm9wXTtcbiAgdmFyIHJlZktleWZyYW1lID0gZmluZFJlZmVyZW5jZWRLZXlmcmFtZSh2YWx1ZSwga2V5ZnJhbWVzKTtcblxuICBpZiAocmVmS2V5ZnJhbWUgIT09IHZhbHVlKSB7XG4gICAgc3R5bGVbcHJvcF0gPSByZWZLZXlmcmFtZTtcbiAgfVxufTtcblxudmFyIHBsdWdpbiA9IHtcbiAgb25DcmVhdGVSdWxlOiBmdW5jdGlvbiBvbkNyZWF0ZVJ1bGUoa2V5LCBmcmFtZXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYga2V5UmVnRXhwJDEudGVzdChrZXkpID8gbmV3IEtleWZyYW1lc1J1bGUoa2V5LCBmcmFtZXMsIG9wdGlvbnMpIDogbnVsbDtcbiAgfSxcbiAgLy8gQW5pbWF0aW9uIG5hbWUgcmVmIHJlcGxhY2VyLlxuICBvblByb2Nlc3NTdHlsZTogZnVuY3Rpb24gb25Qcm9jZXNzU3R5bGUoc3R5bGUsIHJ1bGUsIHNoZWV0KSB7XG4gICAgaWYgKHJ1bGUudHlwZSAhPT0gJ3N0eWxlJyB8fCAhc2hlZXQpIHJldHVybiBzdHlsZTtcbiAgICBpZiAoJ2FuaW1hdGlvbi1uYW1lJyBpbiBzdHlsZSkgcmVwbGFjZVJlZihzdHlsZSwgJ2FuaW1hdGlvbi1uYW1lJywgc2hlZXQua2V5ZnJhbWVzKTtcbiAgICBpZiAoJ2FuaW1hdGlvbicgaW4gc3R5bGUpIHJlcGxhY2VSZWYoc3R5bGUsICdhbmltYXRpb24nLCBzaGVldC5rZXlmcmFtZXMpO1xuICAgIHJldHVybiBzdHlsZTtcbiAgfSxcbiAgb25DaGFuZ2VWYWx1ZTogZnVuY3Rpb24gb25DaGFuZ2VWYWx1ZSh2YWwsIHByb3AsIHJ1bGUpIHtcbiAgICB2YXIgc2hlZXQgPSBydWxlLm9wdGlvbnMuc2hlZXQ7XG5cbiAgICBpZiAoIXNoZWV0KSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cblxuICAgIHN3aXRjaCAocHJvcCkge1xuICAgICAgY2FzZSAnYW5pbWF0aW9uJzpcbiAgICAgICAgcmV0dXJuIGZpbmRSZWZlcmVuY2VkS2V5ZnJhbWUodmFsLCBzaGVldC5rZXlmcmFtZXMpO1xuXG4gICAgICBjYXNlICdhbmltYXRpb24tbmFtZSc6XG4gICAgICAgIHJldHVybiBmaW5kUmVmZXJlbmNlZEtleWZyYW1lKHZhbCwgc2hlZXQua2V5ZnJhbWVzKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBLZXlmcmFtZVJ1bGUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9CYXNlU3R5bGVSdWxlKSB7XG4gIF9pbmhlcml0c0xvb3NlKEtleWZyYW1lUnVsZSwgX0Jhc2VTdHlsZVJ1bGUpO1xuXG4gIGZ1bmN0aW9uIEtleWZyYW1lUnVsZSgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfQmFzZVN0eWxlUnVsZS5jYWxsLmFwcGx5KF9CYXNlU3R5bGVSdWxlLCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuICAgIF90aGlzLnJlbmRlcmFibGUgPSB2b2lkIDA7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IEtleWZyYW1lUnVsZS5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIENTUyBzdHJpbmcuXG4gICAqL1xuICBfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhvcHRpb25zKSB7XG4gICAgdmFyIHNoZWV0ID0gdGhpcy5vcHRpb25zLnNoZWV0O1xuICAgIHZhciBsaW5rID0gc2hlZXQgPyBzaGVldC5vcHRpb25zLmxpbmsgOiBmYWxzZTtcbiAgICB2YXIgb3B0cyA9IGxpbmsgPyBfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuICAgICAgYWxsb3dFbXB0eTogdHJ1ZVxuICAgIH0pIDogb3B0aW9ucztcbiAgICByZXR1cm4gdG9Dc3ModGhpcy5rZXksIHRoaXMuc3R5bGUsIG9wdHMpO1xuICB9O1xuXG4gIHJldHVybiBLZXlmcmFtZVJ1bGU7XG59KEJhc2VTdHlsZVJ1bGUpO1xudmFyIHBsdWdpbktleWZyYW1lUnVsZSA9IHtcbiAgb25DcmVhdGVSdWxlOiBmdW5jdGlvbiBvbkNyZWF0ZVJ1bGUoa2V5LCBzdHlsZSwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLnBhcmVudCAmJiBvcHRpb25zLnBhcmVudC50eXBlID09PSAna2V5ZnJhbWVzJykge1xuICAgICAgcmV0dXJuIG5ldyBLZXlmcmFtZVJ1bGUoa2V5LCBzdHlsZSwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbnZhciBGb250RmFjZVJ1bGUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBGb250RmFjZVJ1bGUoa2V5LCBzdHlsZSwgb3B0aW9ucykge1xuICAgIHRoaXMudHlwZSA9ICdmb250LWZhY2UnO1xuICAgIHRoaXMuYXQgPSAnQGZvbnQtZmFjZSc7XG4gICAgdGhpcy5rZXkgPSB2b2lkIDA7XG4gICAgdGhpcy5zdHlsZSA9IHZvaWQgMDtcbiAgICB0aGlzLm9wdGlvbnMgPSB2b2lkIDA7XG4gICAgdGhpcy5pc1Byb2Nlc3NlZCA9IGZhbHNlO1xuICAgIHRoaXMucmVuZGVyYWJsZSA9IHZvaWQgMDtcbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxuICAvKipcbiAgICogR2VuZXJhdGVzIGEgQ1NTIHN0cmluZy5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gRm9udEZhY2VSdWxlLnByb3RvdHlwZTtcblxuICBfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhvcHRpb25zKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5zdHlsZSkpIHtcbiAgICAgIHZhciBzdHIgPSAnJztcblxuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuc3R5bGUubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHN0ciArPSB0b0Nzcyh0aGlzLmF0LCB0aGlzLnN0eWxlW2luZGV4XSk7XG4gICAgICAgIGlmICh0aGlzLnN0eWxlW2luZGV4ICsgMV0pIHN0ciArPSAnXFxuJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICByZXR1cm4gdG9Dc3ModGhpcy5hdCwgdGhpcy5zdHlsZSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgcmV0dXJuIEZvbnRGYWNlUnVsZTtcbn0oKTtcbnZhciBrZXlSZWdFeHAkMiA9IC9AZm9udC1mYWNlLztcbnZhciBwbHVnaW5Gb250RmFjZVJ1bGUgPSB7XG4gIG9uQ3JlYXRlUnVsZTogZnVuY3Rpb24gb25DcmVhdGVSdWxlKGtleSwgc3R5bGUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4ga2V5UmVnRXhwJDIudGVzdChrZXkpID8gbmV3IEZvbnRGYWNlUnVsZShrZXksIHN0eWxlLCBvcHRpb25zKSA6IG51bGw7XG4gIH1cbn07XG5cbnZhciBWaWV3cG9ydFJ1bGUgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBWaWV3cG9ydFJ1bGUoa2V5LCBzdHlsZSwgb3B0aW9ucykge1xuICAgIHRoaXMudHlwZSA9ICd2aWV3cG9ydCc7XG4gICAgdGhpcy5hdCA9ICdAdmlld3BvcnQnO1xuICAgIHRoaXMua2V5ID0gdm9pZCAwO1xuICAgIHRoaXMuc3R5bGUgPSB2b2lkIDA7XG4gICAgdGhpcy5vcHRpb25zID0gdm9pZCAwO1xuICAgIHRoaXMuaXNQcm9jZXNzZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlbmRlcmFibGUgPSB2b2lkIDA7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIENTUyBzdHJpbmcuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IFZpZXdwb3J0UnVsZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcob3B0aW9ucykge1xuICAgIHJldHVybiB0b0Nzcyh0aGlzLmtleSwgdGhpcy5zdHlsZSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgcmV0dXJuIFZpZXdwb3J0UnVsZTtcbn0oKTtcbnZhciBwbHVnaW5WaWV3cG9ydFJ1bGUgPSB7XG4gIG9uQ3JlYXRlUnVsZTogZnVuY3Rpb24gb25DcmVhdGVSdWxlKGtleSwgc3R5bGUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4ga2V5ID09PSAnQHZpZXdwb3J0JyB8fCBrZXkgPT09ICdALW1zLXZpZXdwb3J0JyA/IG5ldyBWaWV3cG9ydFJ1bGUoa2V5LCBzdHlsZSwgb3B0aW9ucykgOiBudWxsO1xuICB9XG59O1xuXG52YXIgU2ltcGxlUnVsZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNpbXBsZVJ1bGUoa2V5LCB2YWx1ZSwgb3B0aW9ucykge1xuICAgIHRoaXMudHlwZSA9ICdzaW1wbGUnO1xuICAgIHRoaXMua2V5ID0gdm9pZCAwO1xuICAgIHRoaXMudmFsdWUgPSB2b2lkIDA7XG4gICAgdGhpcy5vcHRpb25zID0gdm9pZCAwO1xuICAgIHRoaXMuaXNQcm9jZXNzZWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlbmRlcmFibGUgPSB2b2lkIDA7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIENTUyBzdHJpbmcuXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcblxuXG4gIHZhciBfcHJvdG8gPSBTaW1wbGVSdWxlLnByb3RvdHlwZTtcblxuICBfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhvcHRpb25zKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy52YWx1ZSkpIHtcbiAgICAgIHZhciBzdHIgPSAnJztcblxuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMudmFsdWUubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHN0ciArPSB0aGlzLmtleSArIFwiIFwiICsgdGhpcy52YWx1ZVtpbmRleF0gKyBcIjtcIjtcbiAgICAgICAgaWYgKHRoaXMudmFsdWVbaW5kZXggKyAxXSkgc3RyICs9ICdcXG4nO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmtleSArIFwiIFwiICsgdGhpcy52YWx1ZSArIFwiO1wiO1xuICB9O1xuXG4gIHJldHVybiBTaW1wbGVSdWxlO1xufSgpO1xudmFyIGtleXNNYXAgPSB7XG4gICdAY2hhcnNldCc6IHRydWUsXG4gICdAaW1wb3J0JzogdHJ1ZSxcbiAgJ0BuYW1lc3BhY2UnOiB0cnVlXG59O1xudmFyIHBsdWdpblNpbXBsZVJ1bGUgPSB7XG4gIG9uQ3JlYXRlUnVsZTogZnVuY3Rpb24gb25DcmVhdGVSdWxlKGtleSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4ga2V5IGluIGtleXNNYXAgPyBuZXcgU2ltcGxlUnVsZShrZXksIHZhbHVlLCBvcHRpb25zKSA6IG51bGw7XG4gIH1cbn07XG5cbnZhciBwbHVnaW5zID0gW3BsdWdpblN0eWxlUnVsZSwgcGx1Z2luQ29uZGl0aW9uYWxSdWxlLCBwbHVnaW4sIHBsdWdpbktleWZyYW1lUnVsZSwgcGx1Z2luRm9udEZhY2VSdWxlLCBwbHVnaW5WaWV3cG9ydFJ1bGUsIHBsdWdpblNpbXBsZVJ1bGVdO1xuXG52YXIgZGVmYXVsdFVwZGF0ZU9wdGlvbnMgPSB7XG4gIHByb2Nlc3M6IHRydWVcbn07XG52YXIgZm9yY2VVcGRhdGVPcHRpb25zID0ge1xuICBmb3JjZTogdHJ1ZSxcbiAgcHJvY2VzczogdHJ1ZVxuICAvKipcbiAgICogQ29udGFpbnMgcnVsZXMgb2JqZWN0cyBhbmQgYWxsb3dzIGFkZGluZy9yZW1vdmluZyBldGMuXG4gICAqIElzIHVzZWQgZm9yIGUuZy4gYnkgYFN0eWxlU2hlZXRgIG9yIGBDb25kaXRpb25hbFJ1bGVgLlxuICAgKi9cblxufTtcblxudmFyIFJ1bGVMaXN0ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgLy8gUnVsZXMgcmVnaXN0cnkgZm9yIGFjY2VzcyBieSAuZ2V0KCkgbWV0aG9kLlxuICAvLyBJdCBjb250YWlucyB0aGUgc2FtZSBydWxlIHJlZ2lzdGVyZWQgYnkgbmFtZSBhbmQgYnkgc2VsZWN0b3IuXG4gIC8vIE9yaWdpbmFsIHN0eWxlcyBvYmplY3QuXG4gIC8vIFVzZWQgdG8gZW5zdXJlIGNvcnJlY3QgcnVsZXMgb3JkZXIuXG4gIGZ1bmN0aW9uIFJ1bGVMaXN0KG9wdGlvbnMpIHtcbiAgICB0aGlzLm1hcCA9IHt9O1xuICAgIHRoaXMucmF3ID0ge307XG4gICAgdGhpcy5pbmRleCA9IFtdO1xuICAgIHRoaXMuY291bnRlciA9IDA7XG4gICAgdGhpcy5vcHRpb25zID0gdm9pZCAwO1xuICAgIHRoaXMuY2xhc3NlcyA9IHZvaWQgMDtcbiAgICB0aGlzLmtleWZyYW1lcyA9IHZvaWQgMDtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIHRoaXMuY2xhc3NlcyA9IG9wdGlvbnMuY2xhc3NlcztcbiAgICB0aGlzLmtleWZyYW1lcyA9IG9wdGlvbnMua2V5ZnJhbWVzO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYW5kIHJlZ2lzdGVyIHJ1bGUuXG4gICAqXG4gICAqIFdpbGwgbm90IHJlbmRlciBhZnRlciBTdHlsZSBTaGVldCB3YXMgcmVuZGVyZWQgdGhlIGZpcnN0IHRpbWUuXG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IFJ1bGVMaXN0LnByb3RvdHlwZTtcblxuICBfcHJvdG8uYWRkID0gZnVuY3Rpb24gYWRkKG5hbWUsIGRlY2wsIHJ1bGVPcHRpb25zKSB7XG4gICAgdmFyIF90aGlzJG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgIHBhcmVudCA9IF90aGlzJG9wdGlvbnMucGFyZW50LFxuICAgICAgICBzaGVldCA9IF90aGlzJG9wdGlvbnMuc2hlZXQsXG4gICAgICAgIGpzcyA9IF90aGlzJG9wdGlvbnMuanNzLFxuICAgICAgICBSZW5kZXJlciA9IF90aGlzJG9wdGlvbnMuUmVuZGVyZXIsXG4gICAgICAgIGdlbmVyYXRlSWQgPSBfdGhpcyRvcHRpb25zLmdlbmVyYXRlSWQsXG4gICAgICAgIHNjb3BlZCA9IF90aGlzJG9wdGlvbnMuc2NvcGVkO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBfZXh0ZW5kcyh7XG4gICAgICBjbGFzc2VzOiB0aGlzLmNsYXNzZXMsXG4gICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgIHNoZWV0OiBzaGVldCxcbiAgICAgIGpzczoganNzLFxuICAgICAgUmVuZGVyZXI6IFJlbmRlcmVyLFxuICAgICAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZCxcbiAgICAgIHNjb3BlZDogc2NvcGVkLFxuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIGtleWZyYW1lczogdGhpcy5rZXlmcmFtZXMsXG4gICAgICBzZWxlY3RvcjogdW5kZWZpbmVkXG4gICAgfSwgcnVsZU9wdGlvbnMpOyAvLyBXaGVuIHVzZXIgdXNlcyAuY3JlYXRlU3R5bGVTaGVldCgpLCBkdXBsaWNhdGUgbmFtZXMgYXJlIG5vdCBwb3NzaWJsZSwgYnV0XG4gICAgLy8gYHNoZWV0LmFkZFJ1bGUoKWAgb3BlbnMgdGhlIGRvb3IgZm9yIGFueSBkdXBsaWNhdGUgcnVsZSBuYW1lLiBXaGVuIHRoaXMgaGFwcGVuc1xuICAgIC8vIHdlIG5lZWQgdG8gbWFrZSB0aGUga2V5IHVuaXF1ZSB3aXRoaW4gdGhpcyBSdWxlTGlzdCBpbnN0YW5jZSBzY29wZS5cblxuXG4gICAgdmFyIGtleSA9IG5hbWU7XG5cbiAgICBpZiAobmFtZSBpbiB0aGlzLnJhdykge1xuICAgICAga2V5ID0gbmFtZSArIFwiLWRcIiArIHRoaXMuY291bnRlcisrO1xuICAgIH0gLy8gV2UgbmVlZCB0byBzYXZlIHRoZSBvcmlnaW5hbCBkZWNsIGJlZm9yZSBjcmVhdGluZyB0aGUgcnVsZVxuICAgIC8vIGJlY2F1c2UgY2FjaGUgcGx1Z2luIG5lZWRzIHRvIHVzZSBpdCBhcyBhIGtleSB0byByZXR1cm4gYSBjYWNoZWQgcnVsZS5cblxuXG4gICAgdGhpcy5yYXdba2V5XSA9IGRlY2w7XG5cbiAgICBpZiAoa2V5IGluIHRoaXMuY2xhc3Nlcykge1xuICAgICAgLy8gRS5nLiBydWxlcyBpbnNpZGUgb2YgQG1lZGlhIGNvbnRhaW5lclxuICAgICAgb3B0aW9ucy5zZWxlY3RvciA9IFwiLlwiICsgZXNjYXBlKHRoaXMuY2xhc3Nlc1trZXldKTtcbiAgICB9XG5cbiAgICB2YXIgcnVsZSA9IGNyZWF0ZVJ1bGUoa2V5LCBkZWNsLCBvcHRpb25zKTtcbiAgICBpZiAoIXJ1bGUpIHJldHVybiBudWxsO1xuICAgIHRoaXMucmVnaXN0ZXIocnVsZSk7XG4gICAgdmFyIGluZGV4ID0gb3B0aW9ucy5pbmRleCA9PT0gdW5kZWZpbmVkID8gdGhpcy5pbmRleC5sZW5ndGggOiBvcHRpb25zLmluZGV4O1xuICAgIHRoaXMuaW5kZXguc3BsaWNlKGluZGV4LCAwLCBydWxlKTtcbiAgICByZXR1cm4gcnVsZTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgcnVsZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZ2V0ID0gZnVuY3Rpb24gZ2V0KG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5tYXBbbmFtZV07XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBhIHJ1bGUuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZShydWxlKSB7XG4gICAgdGhpcy51bnJlZ2lzdGVyKHJ1bGUpO1xuICAgIGRlbGV0ZSB0aGlzLnJhd1tydWxlLmtleV07XG4gICAgdGhpcy5pbmRleC5zcGxpY2UodGhpcy5pbmRleC5pbmRleE9mKHJ1bGUpLCAxKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGluZGV4IG9mIGEgcnVsZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YocnVsZSkge1xuICAgIHJldHVybiB0aGlzLmluZGV4LmluZGV4T2YocnVsZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJ1biBgb25Qcm9jZXNzUnVsZSgpYCBwbHVnaW5zIG9uIGV2ZXJ5IHJ1bGUuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnByb2Nlc3MgPSBmdW5jdGlvbiBwcm9jZXNzKCkge1xuICAgIHZhciBwbHVnaW5zID0gdGhpcy5vcHRpb25zLmpzcy5wbHVnaW5zOyAvLyBXZSBuZWVkIHRvIGNsb25lIGFycmF5IGJlY2F1c2UgaWYgd2UgbW9kaWZ5IHRoZSBpbmRleCBzb21ld2hlcmUgZWxzZSBkdXJpbmcgYSBsb29wXG4gICAgLy8gd2UgZW5kIHVwIHdpdGggdmVyeSBoYXJkLXRvLXRyYWNrLWRvd24gc2lkZSBlZmZlY3RzLlxuXG4gICAgdGhpcy5pbmRleC5zbGljZSgwKS5mb3JFYWNoKHBsdWdpbnMub25Qcm9jZXNzUnVsZSwgcGx1Z2lucyk7XG4gIH1cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgcnVsZSBpbiBgLm1hcGAsIGAuY2xhc3Nlc2AgYW5kIGAua2V5ZnJhbWVzYCBtYXBzLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZWdpc3RlciA9IGZ1bmN0aW9uIHJlZ2lzdGVyKHJ1bGUpIHtcbiAgICB0aGlzLm1hcFtydWxlLmtleV0gPSBydWxlO1xuXG4gICAgaWYgKHJ1bGUgaW5zdGFuY2VvZiBTdHlsZVJ1bGUpIHtcbiAgICAgIHRoaXMubWFwW3J1bGUuc2VsZWN0b3JdID0gcnVsZTtcbiAgICAgIGlmIChydWxlLmlkKSB0aGlzLmNsYXNzZXNbcnVsZS5rZXldID0gcnVsZS5pZDtcbiAgICB9IGVsc2UgaWYgKHJ1bGUgaW5zdGFuY2VvZiBLZXlmcmFtZXNSdWxlICYmIHRoaXMua2V5ZnJhbWVzKSB7XG4gICAgICB0aGlzLmtleWZyYW1lc1tydWxlLm5hbWVdID0gcnVsZS5pZDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVucmVnaXN0ZXIgYSBydWxlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51bnJlZ2lzdGVyID0gZnVuY3Rpb24gdW5yZWdpc3RlcihydWxlKSB7XG4gICAgZGVsZXRlIHRoaXMubWFwW3J1bGUua2V5XTtcblxuICAgIGlmIChydWxlIGluc3RhbmNlb2YgU3R5bGVSdWxlKSB7XG4gICAgICBkZWxldGUgdGhpcy5tYXBbcnVsZS5zZWxlY3Rvcl07XG4gICAgICBkZWxldGUgdGhpcy5jbGFzc2VzW3J1bGUua2V5XTtcbiAgICB9IGVsc2UgaWYgKHJ1bGUgaW5zdGFuY2VvZiBLZXlmcmFtZXNSdWxlKSB7XG4gICAgICBkZWxldGUgdGhpcy5rZXlmcmFtZXNbcnVsZS5uYW1lXTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgZnVuY3Rpb24gdmFsdWVzIHdpdGggYSBuZXcgZGF0YS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIHZhciBuYW1lO1xuICAgIHZhciBkYXRhO1xuICAgIHZhciBvcHRpb25zO1xuXG4gICAgaWYgKHR5cGVvZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAwID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzBdKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG5hbWUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMF07IC8vICRGbG93Rml4TWVbaW52YWxpZC10dXBsZS1pbmRleF1cblxuICAgICAgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1sxXTsgLy8gJEZsb3dGaXhNZVtpbnZhbGlkLXR1cGxlLWluZGV4XVxuXG4gICAgICBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzJdO1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzBdOyAvLyAkRmxvd0ZpeE1lW2ludmFsaWQtdHVwbGUtaW5kZXhdXG5cbiAgICAgIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMV07XG4gICAgICBuYW1lID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAobmFtZSkge1xuICAgICAgdGhpcy51cGRhdGVPbmUodGhpcy5tYXBbbmFtZV0sIGRhdGEsIG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5pbmRleC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdGhpcy51cGRhdGVPbmUodGhpcy5pbmRleFtpbmRleF0sIGRhdGEsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZSBwbHVnaW5zLCB1cGRhdGUgcnVsZSBwcm9wcy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udXBkYXRlT25lID0gZnVuY3Rpb24gdXBkYXRlT25lKHJ1bGUsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0gZGVmYXVsdFVwZGF0ZU9wdGlvbnM7XG4gICAgfVxuXG4gICAgdmFyIF90aGlzJG9wdGlvbnMyID0gdGhpcy5vcHRpb25zLFxuICAgICAgICBwbHVnaW5zID0gX3RoaXMkb3B0aW9uczIuanNzLnBsdWdpbnMsXG4gICAgICAgIHNoZWV0ID0gX3RoaXMkb3B0aW9uczIuc2hlZXQ7IC8vIEl0IGlzIGEgcnVsZXMgY29udGFpbmVyIGxpa2UgZm9yIGUuZy4gQ29uZGl0aW9uYWxSdWxlLlxuXG4gICAgaWYgKHJ1bGUucnVsZXMgaW5zdGFuY2VvZiBSdWxlTGlzdCkge1xuICAgICAgcnVsZS5ydWxlcy51cGRhdGUoZGF0YSwgb3B0aW9ucyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHN0eWxlUnVsZSA9IHJ1bGU7XG4gICAgdmFyIHN0eWxlID0gc3R5bGVSdWxlLnN0eWxlO1xuICAgIHBsdWdpbnMub25VcGRhdGUoZGF0YSwgcnVsZSwgc2hlZXQsIG9wdGlvbnMpOyAvLyBXZSByZWx5IG9uIGEgbmV3IGBzdHlsZWAgcmVmIGluIGNhc2UgaXQgd2FzIG11dGF0ZWQgZHVyaW5nIG9uVXBkYXRlIGhvb2suXG5cbiAgICBpZiAob3B0aW9ucy5wcm9jZXNzICYmIHN0eWxlICYmIHN0eWxlICE9PSBzdHlsZVJ1bGUuc3R5bGUpIHtcbiAgICAgIC8vIFdlIG5lZWQgdG8gcnVuIHRoZSBwbHVnaW5zIGluIGNhc2UgbmV3IGBzdHlsZWAgcmVsaWVzIG9uIHN5bnRheCBwbHVnaW5zLlxuICAgICAgcGx1Z2lucy5vblByb2Nlc3NTdHlsZShzdHlsZVJ1bGUuc3R5bGUsIHN0eWxlUnVsZSwgc2hlZXQpOyAvLyBVcGRhdGUgYW5kIGFkZCBwcm9wcy5cblxuICAgICAgZm9yICh2YXIgcHJvcCBpbiBzdHlsZVJ1bGUuc3R5bGUpIHtcbiAgICAgICAgdmFyIG5leHRWYWx1ZSA9IHN0eWxlUnVsZS5zdHlsZVtwcm9wXTtcbiAgICAgICAgdmFyIHByZXZWYWx1ZSA9IHN0eWxlW3Byb3BdOyAvLyBXZSBuZWVkIHRvIHVzZSBgZm9yY2U6IHRydWVgIGJlY2F1c2UgYHJ1bGUuc3R5bGVgIGhhcyBiZWVuIHVwZGF0ZWQgZHVyaW5nIG9uVXBkYXRlIGhvb2ssIHNvIGBydWxlLnByb3AoKWAgd2lsbCBub3QgdXBkYXRlIHRoZSBDU1NPTSBydWxlLlxuICAgICAgICAvLyBXZSBkbyB0aGlzIGNvbXBhcmlzb24gdG8gYXZvaWQgdW5uZWVkZWQgYHJ1bGUucHJvcCgpYCBjYWxscywgc2luY2Ugd2UgaGF2ZSB0aGUgb2xkIGBzdHlsZWAgb2JqZWN0IGhlcmUuXG5cbiAgICAgICAgaWYgKG5leHRWYWx1ZSAhPT0gcHJldlZhbHVlKSB7XG4gICAgICAgICAgc3R5bGVSdWxlLnByb3AocHJvcCwgbmV4dFZhbHVlLCBmb3JjZVVwZGF0ZU9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICB9IC8vIFJlbW92ZSBwcm9wcy5cblxuXG4gICAgICBmb3IgKHZhciBfcHJvcCBpbiBzdHlsZSkge1xuICAgICAgICB2YXIgX25leHRWYWx1ZSA9IHN0eWxlUnVsZS5zdHlsZVtfcHJvcF07XG4gICAgICAgIHZhciBfcHJldlZhbHVlID0gc3R5bGVbX3Byb3BdOyAvLyBXZSBuZWVkIHRvIHVzZSBgZm9yY2U6IHRydWVgIGJlY2F1c2UgYHJ1bGUuc3R5bGVgIGhhcyBiZWVuIHVwZGF0ZWQgZHVyaW5nIG9uVXBkYXRlIGhvb2ssIHNvIGBydWxlLnByb3AoKWAgd2lsbCBub3QgdXBkYXRlIHRoZSBDU1NPTSBydWxlLlxuICAgICAgICAvLyBXZSBkbyB0aGlzIGNvbXBhcmlzb24gdG8gYXZvaWQgdW5uZWVkZWQgYHJ1bGUucHJvcCgpYCBjYWxscywgc2luY2Ugd2UgaGF2ZSB0aGUgb2xkIGBzdHlsZWAgb2JqZWN0IGhlcmUuXG5cbiAgICAgICAgaWYgKF9uZXh0VmFsdWUgPT0gbnVsbCAmJiBfbmV4dFZhbHVlICE9PSBfcHJldlZhbHVlKSB7XG4gICAgICAgICAgc3R5bGVSdWxlLnByb3AoX3Byb3AsIG51bGwsIGZvcmNlVXBkYXRlT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnQgcnVsZXMgdG8gYSBDU1Mgc3RyaW5nLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKG9wdGlvbnMpIHtcbiAgICB2YXIgc3RyID0gJyc7XG4gICAgdmFyIHNoZWV0ID0gdGhpcy5vcHRpb25zLnNoZWV0O1xuICAgIHZhciBsaW5rID0gc2hlZXQgPyBzaGVldC5vcHRpb25zLmxpbmsgOiBmYWxzZTtcblxuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmluZGV4Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIHJ1bGUgPSB0aGlzLmluZGV4W2luZGV4XTtcbiAgICAgIHZhciBjc3MgPSBydWxlLnRvU3RyaW5nKG9wdGlvbnMpOyAvLyBObyBuZWVkIHRvIHJlbmRlciBhbiBlbXB0eSBydWxlLlxuXG4gICAgICBpZiAoIWNzcyAmJiAhbGluaykgY29udGludWU7XG4gICAgICBpZiAoc3RyKSBzdHIgKz0gJ1xcbic7XG4gICAgICBzdHIgKz0gY3NzO1xuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG4gIH07XG5cbiAgcmV0dXJuIFJ1bGVMaXN0O1xufSgpO1xuXG52YXIgU3R5bGVTaGVldCA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN0eWxlU2hlZXQoc3R5bGVzLCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gdm9pZCAwO1xuICAgIHRoaXMuZGVwbG95ZWQgPSB2b2lkIDA7XG4gICAgdGhpcy5hdHRhY2hlZCA9IHZvaWQgMDtcbiAgICB0aGlzLnJ1bGVzID0gdm9pZCAwO1xuICAgIHRoaXMucmVuZGVyZXIgPSB2b2lkIDA7XG4gICAgdGhpcy5jbGFzc2VzID0gdm9pZCAwO1xuICAgIHRoaXMua2V5ZnJhbWVzID0gdm9pZCAwO1xuICAgIHRoaXMucXVldWUgPSB2b2lkIDA7XG4gICAgdGhpcy5hdHRhY2hlZCA9IGZhbHNlO1xuICAgIHRoaXMuZGVwbG95ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNsYXNzZXMgPSB7fTtcbiAgICB0aGlzLmtleWZyYW1lcyA9IHt9O1xuICAgIHRoaXMub3B0aW9ucyA9IF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBzaGVldDogdGhpcyxcbiAgICAgIHBhcmVudDogdGhpcyxcbiAgICAgIGNsYXNzZXM6IHRoaXMuY2xhc3NlcyxcbiAgICAgIGtleWZyYW1lczogdGhpcy5rZXlmcmFtZXNcbiAgICB9KTtcblxuICAgIGlmIChvcHRpb25zLlJlbmRlcmVyKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyID0gbmV3IG9wdGlvbnMuUmVuZGVyZXIodGhpcyk7XG4gICAgfVxuXG4gICAgdGhpcy5ydWxlcyA9IG5ldyBSdWxlTGlzdCh0aGlzLm9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgbmFtZSBpbiBzdHlsZXMpIHtcbiAgICAgIHRoaXMucnVsZXMuYWRkKG5hbWUsIHN0eWxlc1tuYW1lXSk7XG4gICAgfVxuXG4gICAgdGhpcy5ydWxlcy5wcm9jZXNzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEF0dGFjaCByZW5kZXJhYmxlIHRvIHRoZSByZW5kZXIgdHJlZS5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gU3R5bGVTaGVldC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmF0dGFjaCA9IGZ1bmN0aW9uIGF0dGFjaCgpIHtcbiAgICBpZiAodGhpcy5hdHRhY2hlZCkgcmV0dXJuIHRoaXM7XG4gICAgaWYgKHRoaXMucmVuZGVyZXIpIHRoaXMucmVuZGVyZXIuYXR0YWNoKCk7XG4gICAgdGhpcy5hdHRhY2hlZCA9IHRydWU7IC8vIE9yZGVyIGlzIGltcG9ydGFudCwgYmVjYXVzZSB3ZSBjYW4ndCB1c2UgaW5zZXJ0UnVsZSBBUEkgaWYgc3R5bGUgZWxlbWVudCBpcyBub3QgYXR0YWNoZWQuXG5cbiAgICBpZiAoIXRoaXMuZGVwbG95ZWQpIHRoaXMuZGVwbG95KCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSByZW5kZXJhYmxlIGZyb20gcmVuZGVyIHRyZWUuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRldGFjaCA9IGZ1bmN0aW9uIGRldGFjaCgpIHtcbiAgICBpZiAoIXRoaXMuYXR0YWNoZWQpIHJldHVybiB0aGlzO1xuICAgIGlmICh0aGlzLnJlbmRlcmVyKSB0aGlzLnJlbmRlcmVyLmRldGFjaCgpO1xuICAgIHRoaXMuYXR0YWNoZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQWRkIGEgcnVsZSB0byB0aGUgY3VycmVudCBzdHlsZXNoZWV0LlxuICAgKiBXaWxsIGluc2VydCBhIHJ1bGUgYWxzbyBhZnRlciB0aGUgc3R5bGVzaGVldCBoYXMgYmVlbiByZW5kZXJlZCBmaXJzdCB0aW1lLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5hZGRSdWxlID0gZnVuY3Rpb24gYWRkUnVsZShuYW1lLCBkZWNsLCBvcHRpb25zKSB7XG4gICAgdmFyIHF1ZXVlID0gdGhpcy5xdWV1ZTsgLy8gUGx1Z2lucyBjYW4gY3JlYXRlIHJ1bGVzLlxuICAgIC8vIEluIG9yZGVyIHRvIHByZXNlcnZlIHRoZSByaWdodCBvcmRlciwgd2UgbmVlZCB0byBxdWV1ZSBhbGwgYC5hZGRSdWxlYCBjYWxscyxcbiAgICAvLyB3aGljaCBoYXBwZW4gYWZ0ZXIgdGhlIGZpcnN0IGBydWxlcy5hZGQoKWAgY2FsbC5cblxuICAgIGlmICh0aGlzLmF0dGFjaGVkICYmICFxdWV1ZSkgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIHZhciBydWxlID0gdGhpcy5ydWxlcy5hZGQobmFtZSwgZGVjbCwgb3B0aW9ucyk7XG4gICAgaWYgKCFydWxlKSByZXR1cm4gbnVsbDtcbiAgICB0aGlzLm9wdGlvbnMuanNzLnBsdWdpbnMub25Qcm9jZXNzUnVsZShydWxlKTtcblxuICAgIGlmICh0aGlzLmF0dGFjaGVkKSB7XG4gICAgICBpZiAoIXRoaXMuZGVwbG95ZWQpIHJldHVybiBydWxlOyAvLyBEb24ndCBpbnNlcnQgcnVsZSBkaXJlY3RseSBpZiB0aGVyZSBpcyBubyBzdHJpbmdpZmllZCB2ZXJzaW9uIHlldC5cbiAgICAgIC8vIEl0IHdpbGwgYmUgaW5zZXJ0ZWQgYWxsIHRvZ2V0aGVyIHdoZW4gLmF0dGFjaCBpcyBjYWxsZWQuXG5cbiAgICAgIGlmIChxdWV1ZSkgcXVldWUucHVzaChydWxlKTtlbHNlIHtcbiAgICAgICAgdGhpcy5pbnNlcnRSdWxlKHJ1bGUpO1xuXG4gICAgICAgIGlmICh0aGlzLnF1ZXVlKSB7XG4gICAgICAgICAgdGhpcy5xdWV1ZS5mb3JFYWNoKHRoaXMuaW5zZXJ0UnVsZSwgdGhpcyk7XG4gICAgICAgICAgdGhpcy5xdWV1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJ1bGU7XG4gICAgfSAvLyBXZSBjYW4ndCBhZGQgcnVsZXMgdG8gYSBkZXRhY2hlZCBzdHlsZSBub2RlLlxuICAgIC8vIFdlIHdpbGwgcmVkZXBsb3kgdGhlIHNoZWV0IG9uY2UgdXNlciB3aWxsIGF0dGFjaCBpdC5cblxuXG4gICAgdGhpcy5kZXBsb3llZCA9IGZhbHNlO1xuICAgIHJldHVybiBydWxlO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgcnVsZSBpbnRvIHRoZSBTdHlsZVNoZWV0XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmluc2VydFJ1bGUgPSBmdW5jdGlvbiBpbnNlcnRSdWxlKHJ1bGUpIHtcbiAgICBpZiAodGhpcy5yZW5kZXJlcikge1xuICAgICAgdGhpcy5yZW5kZXJlci5pbnNlcnRSdWxlKHJ1bGUpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGFuZCBhZGQgcnVsZXMuXG4gICAqIFdpbGwgcmVuZGVyIGFsc28gYWZ0ZXIgU3R5bGUgU2hlZXQgd2FzIHJlbmRlcmVkIHRoZSBmaXJzdCB0aW1lLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5hZGRSdWxlcyA9IGZ1bmN0aW9uIGFkZFJ1bGVzKHN0eWxlcywgb3B0aW9ucykge1xuICAgIHZhciBhZGRlZCA9IFtdO1xuXG4gICAgZm9yICh2YXIgbmFtZSBpbiBzdHlsZXMpIHtcbiAgICAgIHZhciBydWxlID0gdGhpcy5hZGRSdWxlKG5hbWUsIHN0eWxlc1tuYW1lXSwgb3B0aW9ucyk7XG4gICAgICBpZiAocnVsZSkgYWRkZWQucHVzaChydWxlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWRkZWQ7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIHJ1bGUgYnkgbmFtZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZ2V0UnVsZSA9IGZ1bmN0aW9uIGdldFJ1bGUobmFtZSkge1xuICAgIHJldHVybiB0aGlzLnJ1bGVzLmdldChuYW1lKTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlIGEgcnVsZSBieSBuYW1lLlxuICAgKiBSZXR1cm5zIGB0cnVlYDogaWYgcnVsZSBoYXMgYmVlbiBkZWxldGVkIGZyb20gdGhlIERPTS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZGVsZXRlUnVsZSA9IGZ1bmN0aW9uIGRlbGV0ZVJ1bGUobmFtZSkge1xuICAgIHZhciBydWxlID0gdHlwZW9mIG5hbWUgPT09ICdvYmplY3QnID8gbmFtZSA6IHRoaXMucnVsZXMuZ2V0KG5hbWUpO1xuXG4gICAgaWYgKCFydWxlIHx8IC8vIFN0eWxlIHNoZWV0IHdhcyBjcmVhdGVkIHdpdGhvdXQgbGluazogdHJ1ZSBhbmQgYXR0YWNoZWQsIGluIHRoaXMgY2FzZSB3ZVxuICAgIC8vIHdvbid0IGJlIGFibGUgdG8gcmVtb3ZlIHRoZSBDU1MgcnVsZSBmcm9tIHRoZSBET00uXG4gICAgdGhpcy5hdHRhY2hlZCAmJiAhcnVsZS5yZW5kZXJhYmxlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5ydWxlcy5yZW1vdmUocnVsZSk7XG5cbiAgICBpZiAodGhpcy5hdHRhY2hlZCAmJiBydWxlLnJlbmRlcmFibGUgJiYgdGhpcy5yZW5kZXJlcikge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuZGVsZXRlUnVsZShydWxlLnJlbmRlcmFibGUpO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgaW5kZXggb2YgYSBydWxlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZihydWxlKSB7XG4gICAgcmV0dXJuIHRoaXMucnVsZXMuaW5kZXhPZihydWxlKTtcbiAgfVxuICAvKipcbiAgICogRGVwbG95IHB1cmUgQ1NTIHN0cmluZyB0byBhIHJlbmRlcmFibGUuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmRlcGxveSA9IGZ1bmN0aW9uIGRlcGxveSgpIHtcbiAgICBpZiAodGhpcy5yZW5kZXJlcikgdGhpcy5yZW5kZXJlci5kZXBsb3koKTtcbiAgICB0aGlzLmRlcGxveWVkID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHRoZSBmdW5jdGlvbiB2YWx1ZXMgd2l0aCBhIG5ldyBkYXRhLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgdmFyIF90aGlzJHJ1bGVzO1xuXG4gICAgKF90aGlzJHJ1bGVzID0gdGhpcy5ydWxlcykudXBkYXRlLmFwcGx5KF90aGlzJHJ1bGVzLCBhcmd1bWVudHMpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYSBzaW5nbGUgcnVsZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udXBkYXRlT25lID0gZnVuY3Rpb24gdXBkYXRlT25lKHJ1bGUsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnJ1bGVzLnVwZGF0ZU9uZShydWxlLCBkYXRhLCBvcHRpb25zKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQ29udmVydCBydWxlcyB0byBhIENTUyBzdHJpbmcuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnJ1bGVzLnRvU3RyaW5nKG9wdGlvbnMpO1xuICB9O1xuXG4gIHJldHVybiBTdHlsZVNoZWV0O1xufSgpO1xuXG52YXIgUGx1Z2luc1JlZ2lzdHJ5ID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUGx1Z2luc1JlZ2lzdHJ5KCkge1xuICAgIHRoaXMucGx1Z2lucyA9IHtcbiAgICAgIGludGVybmFsOiBbXSxcbiAgICAgIGV4dGVybmFsOiBbXVxuICAgIH07XG4gICAgdGhpcy5yZWdpc3RyeSA9IHZvaWQgMDtcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBQbHVnaW5zUmVnaXN0cnkucHJvdG90eXBlO1xuXG4gIC8qKlxuICAgKiBDYWxsIGBvbkNyZWF0ZVJ1bGVgIGhvb2tzIGFuZCByZXR1cm4gYW4gb2JqZWN0IGlmIHJldHVybmVkIGJ5IGEgaG9vay5cbiAgICovXG4gIF9wcm90by5vbkNyZWF0ZVJ1bGUgPSBmdW5jdGlvbiBvbkNyZWF0ZVJ1bGUobmFtZSwgZGVjbCwgb3B0aW9ucykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yZWdpc3RyeS5vbkNyZWF0ZVJ1bGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBydWxlID0gdGhpcy5yZWdpc3RyeS5vbkNyZWF0ZVJ1bGVbaV0obmFtZSwgZGVjbCwgb3B0aW9ucyk7XG4gICAgICBpZiAocnVsZSkgcmV0dXJuIHJ1bGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIENhbGwgYG9uUHJvY2Vzc1J1bGVgIGhvb2tzLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5vblByb2Nlc3NSdWxlID0gZnVuY3Rpb24gb25Qcm9jZXNzUnVsZShydWxlKSB7XG4gICAgaWYgKHJ1bGUuaXNQcm9jZXNzZWQpIHJldHVybjtcbiAgICB2YXIgc2hlZXQgPSBydWxlLm9wdGlvbnMuc2hlZXQ7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmVnaXN0cnkub25Qcm9jZXNzUnVsZS5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5yZWdpc3RyeS5vblByb2Nlc3NSdWxlW2ldKHJ1bGUsIHNoZWV0KTtcbiAgICB9XG5cbiAgICBpZiAocnVsZS5zdHlsZSkgdGhpcy5vblByb2Nlc3NTdHlsZShydWxlLnN0eWxlLCBydWxlLCBzaGVldCk7XG4gICAgcnVsZS5pc1Byb2Nlc3NlZCA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIENhbGwgYG9uUHJvY2Vzc1N0eWxlYCBob29rcy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ub25Qcm9jZXNzU3R5bGUgPSBmdW5jdGlvbiBvblByb2Nlc3NTdHlsZShzdHlsZSwgcnVsZSwgc2hlZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmVnaXN0cnkub25Qcm9jZXNzU3R5bGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgICAgcnVsZS5zdHlsZSA9IHRoaXMucmVnaXN0cnkub25Qcm9jZXNzU3R5bGVbaV0ocnVsZS5zdHlsZSwgcnVsZSwgc2hlZXQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2FsbCBgb25Qcm9jZXNzU2hlZXRgIGhvb2tzLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5vblByb2Nlc3NTaGVldCA9IGZ1bmN0aW9uIG9uUHJvY2Vzc1NoZWV0KHNoZWV0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJlZ2lzdHJ5Lm9uUHJvY2Vzc1NoZWV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnJlZ2lzdHJ5Lm9uUHJvY2Vzc1NoZWV0W2ldKHNoZWV0KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENhbGwgYG9uVXBkYXRlYCBob29rcy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ub25VcGRhdGUgPSBmdW5jdGlvbiBvblVwZGF0ZShkYXRhLCBydWxlLCBzaGVldCwgb3B0aW9ucykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yZWdpc3RyeS5vblVwZGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5yZWdpc3RyeS5vblVwZGF0ZVtpXShkYXRhLCBydWxlLCBzaGVldCwgb3B0aW9ucyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDYWxsIGBvbkNoYW5nZVZhbHVlYCBob29rcy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ub25DaGFuZ2VWYWx1ZSA9IGZ1bmN0aW9uIG9uQ2hhbmdlVmFsdWUodmFsdWUsIHByb3AsIHJ1bGUpIHtcbiAgICB2YXIgcHJvY2Vzc2VkVmFsdWUgPSB2YWx1ZTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yZWdpc3RyeS5vbkNoYW5nZVZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwcm9jZXNzZWRWYWx1ZSA9IHRoaXMucmVnaXN0cnkub25DaGFuZ2VWYWx1ZVtpXShwcm9jZXNzZWRWYWx1ZSwgcHJvcCwgcnVsZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb2Nlc3NlZFZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIHBsdWdpbi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udXNlID0gZnVuY3Rpb24gdXNlKG5ld1BsdWdpbiwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIHF1ZXVlOiAnZXh0ZXJuYWwnXG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBwbHVnaW5zID0gdGhpcy5wbHVnaW5zW29wdGlvbnMucXVldWVdOyAvLyBBdm9pZHMgYXBwbHlpbmcgc2FtZSBwbHVnaW4gdHdpY2UsIGF0IGxlYXN0IGJhc2VkIG9uIHJlZi5cblxuICAgIGlmIChwbHVnaW5zLmluZGV4T2YobmV3UGx1Z2luKSAhPT0gLTEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwbHVnaW5zLnB1c2gobmV3UGx1Z2luKTtcbiAgICB0aGlzLnJlZ2lzdHJ5ID0gW10uY29uY2F0KHRoaXMucGx1Z2lucy5leHRlcm5hbCwgdGhpcy5wbHVnaW5zLmludGVybmFsKS5yZWR1Y2UoZnVuY3Rpb24gKHJlZ2lzdHJ5LCBwbHVnaW4pIHtcbiAgICAgIGZvciAodmFyIG5hbWUgaW4gcGx1Z2luKSB7XG4gICAgICAgIGlmIChuYW1lIGluIHJlZ2lzdHJ5KSB7XG4gICAgICAgICAgcmVnaXN0cnlbbmFtZV0ucHVzaChwbHVnaW5bbmFtZV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoZmFsc2UsIFwiW0pTU10gVW5rbm93biBob29rIFxcXCJcIiArIG5hbWUgKyBcIlxcXCIuXCIpIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZWdpc3RyeTtcbiAgICB9LCB7XG4gICAgICBvbkNyZWF0ZVJ1bGU6IFtdLFxuICAgICAgb25Qcm9jZXNzUnVsZTogW10sXG4gICAgICBvblByb2Nlc3NTdHlsZTogW10sXG4gICAgICBvblByb2Nlc3NTaGVldDogW10sXG4gICAgICBvbkNoYW5nZVZhbHVlOiBbXSxcbiAgICAgIG9uVXBkYXRlOiBbXVxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBQbHVnaW5zUmVnaXN0cnk7XG59KCk7XG5cbi8qKlxuICogU2hlZXRzIHJlZ2lzdHJ5IHRvIGFjY2VzcyB0aGVtIGFsbCBhdCBvbmUgcGxhY2UuXG4gKi9cbnZhciBTaGVldHNSZWdpc3RyeSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNoZWV0c1JlZ2lzdHJ5KCkge1xuICAgIHRoaXMucmVnaXN0cnkgPSBbXTtcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBTaGVldHNSZWdpc3RyeS5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgU3R5bGUgU2hlZXQuXG4gICAqL1xuICBfcHJvdG8uYWRkID0gZnVuY3Rpb24gYWRkKHNoZWV0KSB7XG4gICAgdmFyIHJlZ2lzdHJ5ID0gdGhpcy5yZWdpc3RyeTtcbiAgICB2YXIgaW5kZXggPSBzaGVldC5vcHRpb25zLmluZGV4O1xuICAgIGlmIChyZWdpc3RyeS5pbmRleE9mKHNoZWV0KSAhPT0gLTEpIHJldHVybjtcblxuICAgIGlmIChyZWdpc3RyeS5sZW5ndGggPT09IDAgfHwgaW5kZXggPj0gdGhpcy5pbmRleCkge1xuICAgICAgcmVnaXN0cnkucHVzaChzaGVldCk7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBGaW5kIGEgcG9zaXRpb24uXG5cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVnaXN0cnkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChyZWdpc3RyeVtpXS5vcHRpb25zLmluZGV4ID4gaW5kZXgpIHtcbiAgICAgICAgcmVnaXN0cnkuc3BsaWNlKGksIDAsIHNoZWV0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVzZXQgdGhlIHJlZ2lzdHJ5LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIHRoaXMucmVnaXN0cnkgPSBbXTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIGEgU3R5bGUgU2hlZXQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZShzaGVldCkge1xuICAgIHZhciBpbmRleCA9IHRoaXMucmVnaXN0cnkuaW5kZXhPZihzaGVldCk7XG4gICAgdGhpcy5yZWdpc3RyeS5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0IGFsbCBhdHRhY2hlZCBzaGVldHMgdG8gYSBDU1Mgc3RyaW5nLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKF90ZW1wKSB7XG4gICAgdmFyIF9yZWYgPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcCxcbiAgICAgICAgYXR0YWNoZWQgPSBfcmVmLmF0dGFjaGVkLFxuICAgICAgICBvcHRpb25zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiYXR0YWNoZWRcIl0pO1xuXG4gICAgdmFyIGNzcyA9ICcnO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJlZ2lzdHJ5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc2hlZXQgPSB0aGlzLnJlZ2lzdHJ5W2ldO1xuXG4gICAgICBpZiAoYXR0YWNoZWQgIT0gbnVsbCAmJiBzaGVldC5hdHRhY2hlZCAhPT0gYXR0YWNoZWQpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChjc3MpIGNzcyArPSAnXFxuJztcbiAgICAgIGNzcyArPSBzaGVldC50b1N0cmluZyhvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3NzO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhTaGVldHNSZWdpc3RyeSwgW3tcbiAgICBrZXk6IFwiaW5kZXhcIixcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgaGlnaGVzdCBpbmRleCBudW1iZXIuXG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWdpc3RyeS5sZW5ndGggPT09IDAgPyAwIDogdGhpcy5yZWdpc3RyeVt0aGlzLnJlZ2lzdHJ5Lmxlbmd0aCAtIDFdLm9wdGlvbnMuaW5kZXg7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNoZWV0c1JlZ2lzdHJ5O1xufSgpO1xuXG4vKipcbiAqIFRoaXMgaXMgYSBnbG9iYWwgc2hlZXRzIHJlZ2lzdHJ5LiBPbmx5IERvbVJlbmRlcmVyIHdpbGwgYWRkIHNoZWV0cyB0byBpdC5cbiAqIE9uIHRoZSBzZXJ2ZXIgb25lIHNob3VsZCB1c2UgYW4gb3duIFNoZWV0c1JlZ2lzdHJ5IGluc3RhbmNlIGFuZCBhZGQgdGhlXG4gKiBzaGVldHMgdG8gaXQsIGJlY2F1c2UgeW91IG5lZWQgdG8gbWFrZSBzdXJlIHRvIGNyZWF0ZSBhIG5ldyByZWdpc3RyeSBmb3JcbiAqIGVhY2ggcmVxdWVzdCBpbiBvcmRlciB0byBub3QgbGVhayBzaGVldHMgYWNyb3NzIHJlcXVlc3RzLlxuICovXG5cbnZhciByZWdpc3RyeSA9IG5ldyBTaGVldHNSZWdpc3RyeSgpO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4vKipcbiAqIE5vdyB0aGF0IGBnbG9iYWxUaGlzYCBpcyBhdmFpbGFibGUgb24gbW9zdCBwbGF0Zm9ybXNcbiAqIChodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9nbG9iYWxUaGlzI2Jyb3dzZXJfY29tcGF0aWJpbGl0eSlcbiAqIHdlIGNoZWNrIGZvciBgZ2xvYmFsVGhpc2AgZmlyc3QuIGBnbG9iYWxUaGlzYCBpcyBuZWNlc3NhcnkgZm9yIGpzc1xuICogdG8gcnVuIGluIEFnb3JpYydzIHNlY3VyZSB2ZXJzaW9uIG9mIEphdmFTY3JpcHQgKFNFUykuIFVuZGVyIFNFUyxcbiAqIGBnbG9iYWxUaGlzYCBleGlzdHMsIGJ1dCBgd2luZG93YCwgYHNlbGZgLCBhbmQgYEZ1bmN0aW9uKCdyZXR1cm5cbiAqIHRoaXMnKSgpYCBhcmUgYWxsIHVuZGVmaW5lZCBmb3Igc2VjdXJpdHkgcmVhc29ucy5cbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxuICovXG52YXIgZ2xvYmFsVGhpcyQxID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09PSBNYXRoID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PT0gTWF0aCA/IHNlbGYgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG52YXIgbnMgPSAnMmYxYWNjNmMzYTYwNmIwODJlNWVlZjVlNTQ0MTRmZmInO1xuaWYgKGdsb2JhbFRoaXMkMVtuc10gPT0gbnVsbCkgZ2xvYmFsVGhpcyQxW25zXSA9IDA7IC8vIEJ1bmRsZSBtYXkgY29udGFpbiBtdWx0aXBsZSBKU1MgdmVyc2lvbnMgYXQgdGhlIHNhbWUgdGltZS4gSW4gb3JkZXIgdG8gaWRlbnRpZnlcbi8vIHRoZSBjdXJyZW50IHZlcnNpb24gd2l0aCBqdXN0IG9uZSBzaG9ydCBudW1iZXIgYW5kIHVzZSBpdCBmb3IgY2xhc3NlcyBnZW5lcmF0aW9uXG4vLyB3ZSB1c2UgYSBjb3VudGVyLiBBbHNvIGl0IGlzIG1vcmUgYWNjdXJhdGUsIGJlY2F1c2UgdXNlciBjYW4gbWFudWFsbHkgcmVldmFsdWF0ZVxuLy8gdGhlIG1vZHVsZS5cblxudmFyIG1vZHVsZUlkID0gZ2xvYmFsVGhpcyQxW25zXSsrO1xuXG52YXIgbWF4UnVsZXMgPSAxZTEwO1xuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBnZW5lcmF0ZXMgdW5pcXVlIGNsYXNzIG5hbWVzIGJhc2VkIG9uIGNvdW50ZXJzLlxuICogV2hlbiBuZXcgZ2VuZXJhdG9yIGZ1bmN0aW9uIGlzIGNyZWF0ZWQsIHJ1bGUgY291bnRlciBpcyByZXNldGVkLlxuICogV2UgbmVlZCB0byByZXNldCB0aGUgcnVsZSBjb3VudGVyIGZvciBTU1IgZm9yIGVhY2ggcmVxdWVzdC5cbiAqL1xudmFyIGNyZWF0ZUdlbmVyYXRlSWQgPSBmdW5jdGlvbiBjcmVhdGVHZW5lcmF0ZUlkKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHZhciBydWxlQ291bnRlciA9IDA7XG5cbiAgdmFyIGdlbmVyYXRlSWQgPSBmdW5jdGlvbiBnZW5lcmF0ZUlkKHJ1bGUsIHNoZWV0KSB7XG4gICAgcnVsZUNvdW50ZXIgKz0gMTtcblxuICAgIGlmIChydWxlQ291bnRlciA+IG1heFJ1bGVzKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGZhbHNlLCBcIltKU1NdIFlvdSBtaWdodCBoYXZlIGEgbWVtb3J5IGxlYWsuIFJ1bGUgY291bnRlciBpcyBhdCBcIiArIHJ1bGVDb3VudGVyICsgXCIuXCIpIDogdm9pZCAwO1xuICAgIH1cblxuICAgIHZhciBqc3NJZCA9ICcnO1xuICAgIHZhciBwcmVmaXggPSAnJztcblxuICAgIGlmIChzaGVldCkge1xuICAgICAgaWYgKHNoZWV0Lm9wdGlvbnMuY2xhc3NOYW1lUHJlZml4KSB7XG4gICAgICAgIHByZWZpeCA9IHNoZWV0Lm9wdGlvbnMuY2xhc3NOYW1lUHJlZml4O1xuICAgICAgfVxuXG4gICAgICBpZiAoc2hlZXQub3B0aW9ucy5qc3MuaWQgIT0gbnVsbCkge1xuICAgICAgICBqc3NJZCA9IFN0cmluZyhzaGVldC5vcHRpb25zLmpzcy5pZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMubWluaWZ5KSB7XG4gICAgICAvLyBVc2luZyBcImNcIiBiZWNhdXNlIGEgbnVtYmVyIGNhbid0IGJlIHRoZSBmaXJzdCBjaGFyIGluIGEgY2xhc3MgbmFtZS5cbiAgICAgIHJldHVybiBcIlwiICsgKHByZWZpeCB8fCAnYycpICsgbW9kdWxlSWQgKyBqc3NJZCArIHJ1bGVDb3VudGVyO1xuICAgIH1cblxuICAgIHJldHVybiBwcmVmaXggKyBydWxlLmtleSArIFwiLVwiICsgbW9kdWxlSWQgKyAoanNzSWQgPyBcIi1cIiArIGpzc0lkIDogJycpICsgXCItXCIgKyBydWxlQ291bnRlcjtcbiAgfTtcblxuICByZXR1cm4gZ2VuZXJhdGVJZDtcbn07XG5cbi8qKlxuICogQ2FjaGUgdGhlIHZhbHVlIGZyb20gdGhlIGZpcnN0IHRpbWUgYSBmdW5jdGlvbiBpcyBjYWxsZWQuXG4gKi9cbnZhciBtZW1vaXplID0gZnVuY3Rpb24gbWVtb2l6ZShmbikge1xuICB2YXIgdmFsdWU7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF2YWx1ZSkgdmFsdWUgPSBmbigpO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbn07XG5cbi8qKlxuICogR2V0IGEgc3R5bGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbnZhciBnZXRQcm9wZXJ0eVZhbHVlID0gZnVuY3Rpb24gZ2V0UHJvcGVydHlWYWx1ZShjc3NSdWxlLCBwcm9wKSB7XG4gIHRyeSB7XG4gICAgLy8gU3VwcG9ydCBDU1NUT00uXG4gICAgaWYgKGNzc1J1bGUuYXR0cmlidXRlU3R5bGVNYXApIHtcbiAgICAgIHJldHVybiBjc3NSdWxlLmF0dHJpYnV0ZVN0eWxlTWFwLmdldChwcm9wKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3NzUnVsZS5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKHByb3ApO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBJRSBtYXkgdGhyb3cgaWYgcHJvcGVydHkgaXMgdW5rbm93bi5cbiAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbi8qKlxuICogU2V0IGEgc3R5bGUgcHJvcGVydHkuXG4gKi9cbnZhciBzZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uIHNldFByb3BlcnR5KGNzc1J1bGUsIHByb3AsIHZhbHVlKSB7XG4gIHRyeSB7XG4gICAgdmFyIGNzc1ZhbHVlID0gdmFsdWU7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGNzc1ZhbHVlID0gdG9Dc3NWYWx1ZSh2YWx1ZSwgdHJ1ZSk7XG5cbiAgICAgIGlmICh2YWx1ZVt2YWx1ZS5sZW5ndGggLSAxXSA9PT0gJyFpbXBvcnRhbnQnKSB7XG4gICAgICAgIGNzc1J1bGUuc3R5bGUuc2V0UHJvcGVydHkocHJvcCwgY3NzVmFsdWUsICdpbXBvcnRhbnQnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSAvLyBTdXBwb3J0IENTU1RPTS5cblxuXG4gICAgaWYgKGNzc1J1bGUuYXR0cmlidXRlU3R5bGVNYXApIHtcbiAgICAgIGNzc1J1bGUuYXR0cmlidXRlU3R5bGVNYXAuc2V0KHByb3AsIGNzc1ZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3NzUnVsZS5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wLCBjc3NWYWx1ZSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBJRSBtYXkgdGhyb3cgaWYgcHJvcGVydHkgaXMgdW5rbm93bi5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGEgc3R5bGUgcHJvcGVydHkuXG4gKi9cbnZhciByZW1vdmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIHJlbW92ZVByb3BlcnR5KGNzc1J1bGUsIHByb3ApIHtcbiAgdHJ5IHtcbiAgICAvLyBTdXBwb3J0IENTU1RPTS5cbiAgICBpZiAoY3NzUnVsZS5hdHRyaWJ1dGVTdHlsZU1hcCkge1xuICAgICAgY3NzUnVsZS5hdHRyaWJ1dGVTdHlsZU1hcC5kZWxldGUocHJvcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNzc1J1bGUuc3R5bGUucmVtb3ZlUHJvcGVydHkocHJvcCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGZhbHNlLCBcIltKU1NdIERPTUV4Y2VwdGlvbiBcXFwiXCIgKyBlcnIubWVzc2FnZSArIFwiXFxcIiB3YXMgdGhyb3duLiBUcmllZCB0byByZW1vdmUgcHJvcGVydHkgXFxcIlwiICsgcHJvcCArIFwiXFxcIi5cIikgOiB2b2lkIDA7XG4gIH1cbn07XG5cbi8qKlxuICogU2V0IHRoZSBzZWxlY3Rvci5cbiAqL1xudmFyIHNldFNlbGVjdG9yID0gZnVuY3Rpb24gc2V0U2VsZWN0b3IoY3NzUnVsZSwgc2VsZWN0b3JUZXh0KSB7XG4gIGNzc1J1bGUuc2VsZWN0b3JUZXh0ID0gc2VsZWN0b3JUZXh0OyAvLyBSZXR1cm4gZmFsc2UgaWYgc2V0dGVyIHdhcyBub3Qgc3VjY2Vzc2Z1bC5cbiAgLy8gQ3VycmVudGx5IHdvcmtzIGluIGNocm9tZSBvbmx5LlxuXG4gIHJldHVybiBjc3NSdWxlLnNlbGVjdG9yVGV4dCA9PT0gc2VsZWN0b3JUZXh0O1xufTtcbi8qKlxuICogR2V0cyB0aGUgYGhlYWRgIGVsZW1lbnQgdXBvbiB0aGUgZmlyc3QgY2FsbCBhbmQgY2FjaGVzIGl0LlxuICogV2UgYXNzdW1lIGl0IGNhbid0IGJlIG51bGwuXG4gKi9cblxuXG52YXIgZ2V0SGVhZCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZCcpO1xufSk7XG4vKipcbiAqIEZpbmQgYXR0YWNoZWQgc2hlZXQgd2l0aCBhbiBpbmRleCBoaWdoZXIgdGhhbiB0aGUgcGFzc2VkIG9uZS5cbiAqL1xuXG5mdW5jdGlvbiBmaW5kSGlnaGVyU2hlZXQocmVnaXN0cnksIG9wdGlvbnMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWdpc3RyeS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzaGVldCA9IHJlZ2lzdHJ5W2ldO1xuXG4gICAgaWYgKHNoZWV0LmF0dGFjaGVkICYmIHNoZWV0Lm9wdGlvbnMuaW5kZXggPiBvcHRpb25zLmluZGV4ICYmIHNoZWV0Lm9wdGlvbnMuaW5zZXJ0aW9uUG9pbnQgPT09IG9wdGlvbnMuaW5zZXJ0aW9uUG9pbnQpIHtcbiAgICAgIHJldHVybiBzaGVldDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbi8qKlxuICogRmluZCBhdHRhY2hlZCBzaGVldCB3aXRoIHRoZSBoaWdoZXN0IGluZGV4LlxuICovXG5cblxuZnVuY3Rpb24gZmluZEhpZ2hlc3RTaGVldChyZWdpc3RyeSwgb3B0aW9ucykge1xuICBmb3IgKHZhciBpID0gcmVnaXN0cnkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB2YXIgc2hlZXQgPSByZWdpc3RyeVtpXTtcblxuICAgIGlmIChzaGVldC5hdHRhY2hlZCAmJiBzaGVldC5vcHRpb25zLmluc2VydGlvblBvaW50ID09PSBvcHRpb25zLmluc2VydGlvblBvaW50KSB7XG4gICAgICByZXR1cm4gc2hlZXQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIEZpbmQgYSBjb21tZW50IHdpdGggXCJqc3NcIiBpbnNpZGUuXG4gKi9cblxuXG5mdW5jdGlvbiBmaW5kQ29tbWVudE5vZGUodGV4dCkge1xuICB2YXIgaGVhZCA9IGdldEhlYWQoKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGhlYWQuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBub2RlID0gaGVhZC5jaGlsZE5vZGVzW2ldO1xuXG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggJiYgbm9kZS5ub2RlVmFsdWUudHJpbSgpID09PSB0ZXh0KSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBGaW5kIGEgbm9kZSBiZWZvcmUgd2hpY2ggd2UgY2FuIGluc2VydCB0aGUgc2hlZXQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRQcmV2Tm9kZShvcHRpb25zKSB7XG4gIHZhciByZWdpc3RyeSQxID0gcmVnaXN0cnkucmVnaXN0cnk7XG5cbiAgaWYgKHJlZ2lzdHJ5JDEubGVuZ3RoID4gMCkge1xuICAgIC8vIFRyeSB0byBpbnNlcnQgYmVmb3JlIHRoZSBuZXh0IGhpZ2hlciBzaGVldC5cbiAgICB2YXIgc2hlZXQgPSBmaW5kSGlnaGVyU2hlZXQocmVnaXN0cnkkMSwgb3B0aW9ucyk7XG5cbiAgICBpZiAoc2hlZXQgJiYgc2hlZXQucmVuZGVyZXIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhcmVudDogc2hlZXQucmVuZGVyZXIuZWxlbWVudC5wYXJlbnROb2RlLFxuICAgICAgICBub2RlOiBzaGVldC5yZW5kZXJlci5lbGVtZW50XG4gICAgICB9O1xuICAgIH0gLy8gT3RoZXJ3aXNlIGluc2VydCBhZnRlciB0aGUgbGFzdCBhdHRhY2hlZC5cblxuXG4gICAgc2hlZXQgPSBmaW5kSGlnaGVzdFNoZWV0KHJlZ2lzdHJ5JDEsIG9wdGlvbnMpO1xuXG4gICAgaWYgKHNoZWV0ICYmIHNoZWV0LnJlbmRlcmVyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXJlbnQ6IHNoZWV0LnJlbmRlcmVyLmVsZW1lbnQucGFyZW50Tm9kZSxcbiAgICAgICAgbm9kZTogc2hlZXQucmVuZGVyZXIuZWxlbWVudC5uZXh0U2libGluZ1xuICAgICAgfTtcbiAgICB9XG4gIH0gLy8gVHJ5IHRvIGZpbmQgYSBjb21tZW50IHBsYWNlaG9sZGVyIGlmIHJlZ2lzdHJ5IGlzIGVtcHR5LlxuXG5cbiAgdmFyIGluc2VydGlvblBvaW50ID0gb3B0aW9ucy5pbnNlcnRpb25Qb2ludDtcblxuICBpZiAoaW5zZXJ0aW9uUG9pbnQgJiYgdHlwZW9mIGluc2VydGlvblBvaW50ID09PSAnc3RyaW5nJykge1xuICAgIHZhciBjb21tZW50ID0gZmluZENvbW1lbnROb2RlKGluc2VydGlvblBvaW50KTtcblxuICAgIGlmIChjb21tZW50KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXJlbnQ6IGNvbW1lbnQucGFyZW50Tm9kZSxcbiAgICAgICAgbm9kZTogY29tbWVudC5uZXh0U2libGluZ1xuICAgICAgfTtcbiAgICB9IC8vIElmIHVzZXIgc3BlY2lmaWVzIGFuIGluc2VydGlvbiBwb2ludCBhbmQgaXQgY2FuJ3QgYmUgZm91bmQgaW4gdGhlIGRvY3VtZW50IC1cbiAgICAvLyBiYWQgc3BlY2lmaWNpdHkgaXNzdWVzIG1heSBhcHBlYXIuXG5cblxuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoZmFsc2UsIFwiW0pTU10gSW5zZXJ0aW9uIHBvaW50IFxcXCJcIiArIGluc2VydGlvblBvaW50ICsgXCJcXFwiIG5vdCBmb3VuZC5cIikgOiB2b2lkIDA7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIEluc2VydCBzdHlsZSBlbGVtZW50IGludG8gdGhlIERPTS5cbiAqL1xuXG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlKHN0eWxlLCBvcHRpb25zKSB7XG4gIHZhciBpbnNlcnRpb25Qb2ludCA9IG9wdGlvbnMuaW5zZXJ0aW9uUG9pbnQ7XG4gIHZhciBuZXh0Tm9kZSA9IGZpbmRQcmV2Tm9kZShvcHRpb25zKTtcblxuICBpZiAobmV4dE5vZGUgIT09IGZhbHNlICYmIG5leHROb2RlLnBhcmVudCkge1xuICAgIG5leHROb2RlLnBhcmVudC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHROb2RlLm5vZGUpO1xuICAgIHJldHVybjtcbiAgfSAvLyBXb3JrcyB3aXRoIGlmcmFtZXMgYW5kIGFueSBub2RlIHR5cGVzLlxuXG5cbiAgaWYgKGluc2VydGlvblBvaW50ICYmIHR5cGVvZiBpbnNlcnRpb25Qb2ludC5ub2RlVHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80MTMyODcyOC9mb3JjZS1jYXN0aW5nLWluLWZsb3dcbiAgICB2YXIgaW5zZXJ0aW9uUG9pbnRFbGVtZW50ID0gaW5zZXJ0aW9uUG9pbnQ7XG4gICAgdmFyIHBhcmVudE5vZGUgPSBpbnNlcnRpb25Qb2ludEVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50Tm9kZSkgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoc3R5bGUsIGluc2VydGlvblBvaW50RWxlbWVudC5uZXh0U2libGluZyk7ZWxzZSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGZhbHNlLCAnW0pTU10gSW5zZXJ0aW9uIHBvaW50IGlzIG5vdCBpbiB0aGUgRE9NLicpIDogdm9pZCAwO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGdldEhlYWQoKS5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG4vKipcbiAqIFJlYWQganNzIG5vbmNlIHNldHRpbmcgZnJvbSB0aGUgcGFnZSBpZiB0aGUgdXNlciBoYXMgc2V0IGl0LlxuICovXG5cblxudmFyIGdldE5vbmNlID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG4gIHZhciBub2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtwcm9wZXJ0eT1cImNzcC1ub25jZVwiXScpO1xuICByZXR1cm4gbm9kZSA/IG5vZGUuZ2V0QXR0cmlidXRlKCdjb250ZW50JykgOiBudWxsO1xufSk7XG5cbnZhciBfaW5zZXJ0UnVsZSA9IGZ1bmN0aW9uIGluc2VydFJ1bGUoY29udGFpbmVyLCBydWxlLCBpbmRleCkge1xuICB0cnkge1xuICAgIGlmICgnaW5zZXJ0UnVsZScgaW4gY29udGFpbmVyKSB7XG4gICAgICB2YXIgYyA9IGNvbnRhaW5lcjtcbiAgICAgIGMuaW5zZXJ0UnVsZShydWxlLCBpbmRleCk7XG4gICAgfSAvLyBLZXlmcmFtZXMgcnVsZS5cbiAgICBlbHNlIGlmICgnYXBwZW5kUnVsZScgaW4gY29udGFpbmVyKSB7XG4gICAgICAgIHZhciBfYyA9IGNvbnRhaW5lcjtcblxuICAgICAgICBfYy5hcHBlbmRSdWxlKHJ1bGUpO1xuICAgICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGZhbHNlLCBcIltKU1NdIFwiICsgZXJyLm1lc3NhZ2UpIDogdm9pZCAwO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBjb250YWluZXIuY3NzUnVsZXNbaW5kZXhdO1xufTtcblxudmFyIGdldFZhbGlkUnVsZUluc2VydGlvbkluZGV4ID0gZnVuY3Rpb24gZ2V0VmFsaWRSdWxlSW5zZXJ0aW9uSW5kZXgoY29udGFpbmVyLCBpbmRleCkge1xuICB2YXIgbWF4SW5kZXggPSBjb250YWluZXIuY3NzUnVsZXMubGVuZ3RoOyAvLyBJbiBjYXNlIHByZXZpb3VzIGluc2VydGlvbiBmYWlscywgcGFzc2VkIGluZGV4IG1pZ2h0IGJlIHdyb25nXG5cbiAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQgfHwgaW5kZXggPiBtYXhJbmRleCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIHJldHVybiBtYXhJbmRleDtcbiAgfVxuXG4gIHJldHVybiBpbmRleDtcbn07XG5cbnZhciBjcmVhdGVTdHlsZSA9IGZ1bmN0aW9uIGNyZWF0ZVN0eWxlKCkge1xuICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOyAvLyBXaXRob3V0IGl0LCBJRSB3aWxsIGhhdmUgYSBicm9rZW4gc291cmNlIG9yZGVyIHNwZWNpZmljaXR5IGlmIHdlXG4gIC8vIGluc2VydCBydWxlcyBhZnRlciB3ZSBpbnNlcnQgdGhlIHN0eWxlIHRhZy5cbiAgLy8gSXQgc2VlbXMgdG8ga2ljay1vZmYgdGhlIHNvdXJjZSBvcmRlciBzcGVjaWZpY2l0eSBhbGdvcml0aG0uXG5cbiAgZWwudGV4dENvbnRlbnQgPSAnXFxuJztcbiAgcmV0dXJuIGVsO1xufTtcblxudmFyIERvbVJlbmRlcmVyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgLy8gSFRNTFN0eWxlRWxlbWVudCBuZWVkcyBmaXhpbmcgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2Zsb3cvaXNzdWVzLzI2OTZcbiAgLy8gV2lsbCBiZSBlbXB0eSBpZiBsaW5rOiB0cnVlIG9wdGlvbiBpcyBub3Qgc2V0LCBiZWNhdXNlXG4gIC8vIGl0IGlzIG9ubHkgZm9yIHVzZSB0b2dldGhlciB3aXRoIGluc2VydFJ1bGUgQVBJLlxuICBmdW5jdGlvbiBEb21SZW5kZXJlcihzaGVldCkge1xuICAgIHRoaXMuZ2V0UHJvcGVydHlWYWx1ZSA9IGdldFByb3BlcnR5VmFsdWU7XG4gICAgdGhpcy5zZXRQcm9wZXJ0eSA9IHNldFByb3BlcnR5O1xuICAgIHRoaXMucmVtb3ZlUHJvcGVydHkgPSByZW1vdmVQcm9wZXJ0eTtcbiAgICB0aGlzLnNldFNlbGVjdG9yID0gc2V0U2VsZWN0b3I7XG4gICAgdGhpcy5lbGVtZW50ID0gdm9pZCAwO1xuICAgIHRoaXMuc2hlZXQgPSB2b2lkIDA7XG4gICAgdGhpcy5oYXNJbnNlcnRlZFJ1bGVzID0gZmFsc2U7XG4gICAgdGhpcy5jc3NSdWxlcyA9IFtdO1xuICAgIC8vIFRoZXJlIGlzIG5vIHNoZWV0IHdoZW4gdGhlIHJlbmRlcmVyIGlzIHVzZWQgZnJvbSBhIHN0YW5kYWxvbmUgU3R5bGVSdWxlLlxuICAgIGlmIChzaGVldCkgcmVnaXN0cnkuYWRkKHNoZWV0KTtcbiAgICB0aGlzLnNoZWV0ID0gc2hlZXQ7XG5cbiAgICB2YXIgX3JlZiA9IHRoaXMuc2hlZXQgPyB0aGlzLnNoZWV0Lm9wdGlvbnMgOiB7fSxcbiAgICAgICAgbWVkaWEgPSBfcmVmLm1lZGlhLFxuICAgICAgICBtZXRhID0gX3JlZi5tZXRhLFxuICAgICAgICBlbGVtZW50ID0gX3JlZi5lbGVtZW50O1xuXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudCB8fCBjcmVhdGVTdHlsZSgpO1xuICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtanNzJywgJycpO1xuICAgIGlmIChtZWRpYSkgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gICAgaWYgKG1ldGEpIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtbWV0YScsIG1ldGEpO1xuICAgIHZhciBub25jZSA9IGdldE5vbmNlKCk7XG4gICAgaWYgKG5vbmNlKSB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdub25jZScsIG5vbmNlKTtcbiAgfVxuICAvKipcbiAgICogSW5zZXJ0IHN0eWxlIGVsZW1lbnQgaW50byByZW5kZXIgdHJlZS5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gRG9tUmVuZGVyZXIucHJvdG90eXBlO1xuXG4gIF9wcm90by5hdHRhY2ggPSBmdW5jdGlvbiBhdHRhY2goKSB7XG4gICAgLy8gSW4gdGhlIGNhc2UgdGhlIGVsZW1lbnQgbm9kZSBpcyBleHRlcm5hbCBhbmQgaXQgaXMgYWxyZWFkeSBpbiB0aGUgRE9NLlxuICAgIGlmICh0aGlzLmVsZW1lbnQucGFyZW50Tm9kZSB8fCAhdGhpcy5zaGVldCkgcmV0dXJuO1xuICAgIGluc2VydFN0eWxlKHRoaXMuZWxlbWVudCwgdGhpcy5zaGVldC5vcHRpb25zKTsgLy8gV2hlbiBydWxlcyBhcmUgaW5zZXJ0ZWQgdXNpbmcgYGluc2VydFJ1bGVgIEFQSSwgYWZ0ZXIgYHNoZWV0LmRldGFjaCgpLmF0dGFjaCgpYFxuICAgIC8vIG1vc3QgYnJvd3NlcnMgY3JlYXRlIGEgbmV3IENTU1N0eWxlU2hlZXQsIGV4Y2VwdCBvZiBhbGwgSUVzLlxuXG4gICAgdmFyIGRlcGxveWVkID0gQm9vbGVhbih0aGlzLnNoZWV0ICYmIHRoaXMuc2hlZXQuZGVwbG95ZWQpO1xuXG4gICAgaWYgKHRoaXMuaGFzSW5zZXJ0ZWRSdWxlcyAmJiBkZXBsb3llZCkge1xuICAgICAgdGhpcy5oYXNJbnNlcnRlZFJ1bGVzID0gZmFsc2U7XG4gICAgICB0aGlzLmRlcGxveSgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVtb3ZlIHN0eWxlIGVsZW1lbnQgZnJvbSByZW5kZXIgdHJlZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZGV0YWNoID0gZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgIGlmICghdGhpcy5zaGVldCkgcmV0dXJuO1xuICAgIHZhciBwYXJlbnROb2RlID0gdGhpcy5lbGVtZW50LnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudE5vZGUpIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50KTsgLy8gSW4gdGhlIG1vc3QgYnJvd3NlcnMsIHJ1bGVzIGluc2VydGVkIHVzaW5nIGluc2VydFJ1bGUoKSBBUEkgd2lsbCBiZSBsb3N0IHdoZW4gc3R5bGUgZWxlbWVudCBpcyByZW1vdmVkLlxuICAgIC8vIFRob3VnaCBJRSB3aWxsIGtlZXAgdGhlbSBhbmQgd2UgbmVlZCBhIGNvbnNpc3RlbnQgYmVoYXZpb3IuXG5cbiAgICBpZiAodGhpcy5zaGVldC5vcHRpb25zLmxpbmspIHtcbiAgICAgIHRoaXMuY3NzUnVsZXMgPSBbXTtcbiAgICAgIHRoaXMuZWxlbWVudC50ZXh0Q29udGVudCA9ICdcXG4nO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogSW5qZWN0IENTUyBzdHJpbmcgaW50byBlbGVtZW50LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5kZXBsb3kgPSBmdW5jdGlvbiBkZXBsb3koKSB7XG4gICAgdmFyIHNoZWV0ID0gdGhpcy5zaGVldDtcbiAgICBpZiAoIXNoZWV0KSByZXR1cm47XG5cbiAgICBpZiAoc2hlZXQub3B0aW9ucy5saW5rKSB7XG4gICAgICB0aGlzLmluc2VydFJ1bGVzKHNoZWV0LnJ1bGVzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlxcblwiICsgc2hlZXQudG9TdHJpbmcoKSArIFwiXFxuXCI7XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBSdWxlTGlzdCBpbnRvIGFuIGVsZW1lbnQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmluc2VydFJ1bGVzID0gZnVuY3Rpb24gaW5zZXJ0UnVsZXMocnVsZXMsIG5hdGl2ZVBhcmVudCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcnVsZXMuaW5kZXgubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuaW5zZXJ0UnVsZShydWxlcy5pbmRleFtpXSwgaSwgbmF0aXZlUGFyZW50KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEluc2VydCBhIHJ1bGUgaW50byBlbGVtZW50LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5pbnNlcnRSdWxlID0gZnVuY3Rpb24gaW5zZXJ0UnVsZShydWxlLCBpbmRleCwgbmF0aXZlUGFyZW50KSB7XG4gICAgaWYgKG5hdGl2ZVBhcmVudCA9PT0gdm9pZCAwKSB7XG4gICAgICBuYXRpdmVQYXJlbnQgPSB0aGlzLmVsZW1lbnQuc2hlZXQ7XG4gICAgfVxuXG4gICAgaWYgKHJ1bGUucnVsZXMpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBydWxlO1xuICAgICAgdmFyIGxhdGVzdE5hdGl2ZVBhcmVudCA9IG5hdGl2ZVBhcmVudDtcblxuICAgICAgaWYgKHJ1bGUudHlwZSA9PT0gJ2NvbmRpdGlvbmFsJyB8fCBydWxlLnR5cGUgPT09ICdrZXlmcmFtZXMnKSB7XG4gICAgICAgIHZhciBfaW5zZXJ0aW9uSW5kZXggPSBnZXRWYWxpZFJ1bGVJbnNlcnRpb25JbmRleChuYXRpdmVQYXJlbnQsIGluZGV4KTsgLy8gV2UgbmVlZCB0byByZW5kZXIgdGhlIGNvbnRhaW5lciB3aXRob3V0IGNoaWxkcmVuIGZpcnN0LlxuXG5cbiAgICAgICAgbGF0ZXN0TmF0aXZlUGFyZW50ID0gX2luc2VydFJ1bGUobmF0aXZlUGFyZW50LCBwYXJlbnQudG9TdHJpbmcoe1xuICAgICAgICAgIGNoaWxkcmVuOiBmYWxzZVxuICAgICAgICB9KSwgX2luc2VydGlvbkluZGV4KTtcblxuICAgICAgICBpZiAobGF0ZXN0TmF0aXZlUGFyZW50ID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVmQ3NzUnVsZShydWxlLCBfaW5zZXJ0aW9uSW5kZXgsIGxhdGVzdE5hdGl2ZVBhcmVudCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaW5zZXJ0UnVsZXMocGFyZW50LnJ1bGVzLCBsYXRlc3ROYXRpdmVQYXJlbnQpO1xuICAgICAgcmV0dXJuIGxhdGVzdE5hdGl2ZVBhcmVudDtcbiAgICB9XG5cbiAgICB2YXIgcnVsZVN0ciA9IHJ1bGUudG9TdHJpbmcoKTtcbiAgICBpZiAoIXJ1bGVTdHIpIHJldHVybiBmYWxzZTtcbiAgICB2YXIgaW5zZXJ0aW9uSW5kZXggPSBnZXRWYWxpZFJ1bGVJbnNlcnRpb25JbmRleChuYXRpdmVQYXJlbnQsIGluZGV4KTtcblxuICAgIHZhciBuYXRpdmVSdWxlID0gX2luc2VydFJ1bGUobmF0aXZlUGFyZW50LCBydWxlU3RyLCBpbnNlcnRpb25JbmRleCk7XG5cbiAgICBpZiAobmF0aXZlUnVsZSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLmhhc0luc2VydGVkUnVsZXMgPSB0cnVlO1xuICAgIHRoaXMucmVmQ3NzUnVsZShydWxlLCBpbnNlcnRpb25JbmRleCwgbmF0aXZlUnVsZSk7XG4gICAgcmV0dXJuIG5hdGl2ZVJ1bGU7XG4gIH07XG5cbiAgX3Byb3RvLnJlZkNzc1J1bGUgPSBmdW5jdGlvbiByZWZDc3NSdWxlKHJ1bGUsIGluZGV4LCBjc3NSdWxlKSB7XG4gICAgcnVsZS5yZW5kZXJhYmxlID0gY3NzUnVsZTsgLy8gV2Ugb25seSB3YW50IHRvIHJlZmVyZW5jZSB0aGUgdG9wIGxldmVsIHJ1bGVzLCBkZWxldGVSdWxlIEFQSSBkb2Vzbid0IHN1cHBvcnQgcmVtb3ZpbmcgbmVzdGVkIHJ1bGVzXG4gICAgLy8gbGlrZSBydWxlcyBpbnNpZGUgbWVkaWEgcXVlcmllcyBvciBrZXlmcmFtZXNcblxuICAgIGlmIChydWxlLm9wdGlvbnMucGFyZW50IGluc3RhbmNlb2YgU3R5bGVTaGVldCkge1xuICAgICAgdGhpcy5jc3NSdWxlc1tpbmRleF0gPSBjc3NSdWxlO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRGVsZXRlIGEgcnVsZS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uZGVsZXRlUnVsZSA9IGZ1bmN0aW9uIGRlbGV0ZVJ1bGUoY3NzUnVsZSkge1xuICAgIHZhciBzaGVldCA9IHRoaXMuZWxlbWVudC5zaGVldDtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YoY3NzUnVsZSk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuIGZhbHNlO1xuICAgIHNoZWV0LmRlbGV0ZVJ1bGUoaW5kZXgpO1xuICAgIHRoaXMuY3NzUnVsZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKipcbiAgICogR2V0IGluZGV4IG9mIGEgQ1NTIFJ1bGUuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mKGNzc1J1bGUpIHtcbiAgICByZXR1cm4gdGhpcy5jc3NSdWxlcy5pbmRleE9mKGNzc1J1bGUpO1xuICB9XG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIG5ldyBDU1MgcnVsZSBhbmQgcmVwbGFjZSB0aGUgZXhpc3Rpbmcgb25lLlxuICAgKlxuICAgKiBPbmx5IHVzZWQgZm9yIHNvbWUgb2xkIGJyb3dzZXJzIGJlY2F1c2UgdGhleSBjYW4ndCBzZXQgYSBzZWxlY3Rvci5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVwbGFjZVJ1bGUgPSBmdW5jdGlvbiByZXBsYWNlUnVsZShjc3NSdWxlLCBydWxlKSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKGNzc1J1bGUpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHJldHVybiBmYWxzZTtcbiAgICB0aGlzLmVsZW1lbnQuc2hlZXQuZGVsZXRlUnVsZShpbmRleCk7XG4gICAgdGhpcy5jc3NSdWxlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHJldHVybiB0aGlzLmluc2VydFJ1bGUocnVsZSwgaW5kZXgpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYWxsIHJ1bGVzIGVsZW1lbnRzLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5nZXRSdWxlcyA9IGZ1bmN0aW9uIGdldFJ1bGVzKCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnQuc2hlZXQuY3NzUnVsZXM7XG4gIH07XG5cbiAgcmV0dXJuIERvbVJlbmRlcmVyO1xufSgpO1xuXG52YXIgaW5zdGFuY2VDb3VudGVyID0gMDtcblxudmFyIEpzcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEpzcyhvcHRpb25zKSB7XG4gICAgdGhpcy5pZCA9IGluc3RhbmNlQ291bnRlcisrO1xuICAgIHRoaXMudmVyc2lvbiA9IFwiMTAuNy4xXCI7XG4gICAgdGhpcy5wbHVnaW5zID0gbmV3IFBsdWdpbnNSZWdpc3RyeSgpO1xuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIGlkOiB7XG4gICAgICAgIG1pbmlmeTogZmFsc2VcbiAgICAgIH0sXG4gICAgICBjcmVhdGVHZW5lcmF0ZUlkOiBjcmVhdGVHZW5lcmF0ZUlkLFxuICAgICAgUmVuZGVyZXI6IGlzSW5Ccm93c2VyID8gRG9tUmVuZGVyZXIgOiBudWxsLFxuICAgICAgcGx1Z2luczogW11cbiAgICB9O1xuICAgIHRoaXMuZ2VuZXJhdGVJZCA9IGNyZWF0ZUdlbmVyYXRlSWQoe1xuICAgICAgbWluaWZ5OiBmYWxzZVxuICAgIH0pO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwbHVnaW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnBsdWdpbnMudXNlKHBsdWdpbnNbaV0sIHtcbiAgICAgICAgcXVldWU6ICdpbnRlcm5hbCdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuc2V0dXAob3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIFByZXBhcmVzIHZhcmlvdXMgb3B0aW9ucywgYXBwbGllcyBwbHVnaW5zLlxuICAgKiBTaG91bGQgbm90IGJlIHVzZWQgdHdpY2Ugb24gdGhlIHNhbWUgaW5zdGFuY2UsIGJlY2F1c2UgdGhlcmUgaXMgbm8gcGx1Z2luc1xuICAgKiBkZWR1cGxpY2F0aW9uIGxvZ2ljLlxuICAgKi9cblxuXG4gIHZhciBfcHJvdG8gPSBKc3MucHJvdG90eXBlO1xuXG4gIF9wcm90by5zZXR1cCA9IGZ1bmN0aW9uIHNldHVwKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuY3JlYXRlR2VuZXJhdGVJZCkge1xuICAgICAgdGhpcy5vcHRpb25zLmNyZWF0ZUdlbmVyYXRlSWQgPSBvcHRpb25zLmNyZWF0ZUdlbmVyYXRlSWQ7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuaWQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5pZCA9IF9leHRlbmRzKHt9LCB0aGlzLm9wdGlvbnMuaWQsIG9wdGlvbnMuaWQpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmNyZWF0ZUdlbmVyYXRlSWQgfHwgb3B0aW9ucy5pZCkge1xuICAgICAgdGhpcy5nZW5lcmF0ZUlkID0gdGhpcy5vcHRpb25zLmNyZWF0ZUdlbmVyYXRlSWQodGhpcy5vcHRpb25zLmlkKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5pbnNlcnRpb25Qb2ludCAhPSBudWxsKSB0aGlzLm9wdGlvbnMuaW5zZXJ0aW9uUG9pbnQgPSBvcHRpb25zLmluc2VydGlvblBvaW50O1xuXG4gICAgaWYgKCdSZW5kZXJlcicgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy5vcHRpb25zLlJlbmRlcmVyID0gb3B0aW9ucy5SZW5kZXJlcjtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItc3ByZWFkXG5cblxuICAgIGlmIChvcHRpb25zLnBsdWdpbnMpIHRoaXMudXNlLmFwcGx5KHRoaXMsIG9wdGlvbnMucGx1Z2lucyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIFN0eWxlIFNoZWV0LlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jcmVhdGVTdHlsZVNoZWV0ID0gZnVuY3Rpb24gY3JlYXRlU3R5bGVTaGVldChzdHlsZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyxcbiAgICAgICAgaW5kZXggPSBfb3B0aW9ucy5pbmRleDtcblxuICAgIGlmICh0eXBlb2YgaW5kZXggIT09ICdudW1iZXInKSB7XG4gICAgICBpbmRleCA9IHJlZ2lzdHJ5LmluZGV4ID09PSAwID8gMCA6IHJlZ2lzdHJ5LmluZGV4ICsgMTtcbiAgICB9XG5cbiAgICB2YXIgc2hlZXQgPSBuZXcgU3R5bGVTaGVldChzdHlsZXMsIF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBqc3M6IHRoaXMsXG4gICAgICBnZW5lcmF0ZUlkOiBvcHRpb25zLmdlbmVyYXRlSWQgfHwgdGhpcy5nZW5lcmF0ZUlkLFxuICAgICAgaW5zZXJ0aW9uUG9pbnQ6IHRoaXMub3B0aW9ucy5pbnNlcnRpb25Qb2ludCxcbiAgICAgIFJlbmRlcmVyOiB0aGlzLm9wdGlvbnMuUmVuZGVyZXIsXG4gICAgICBpbmRleDogaW5kZXhcbiAgICB9KSk7XG4gICAgdGhpcy5wbHVnaW5zLm9uUHJvY2Vzc1NoZWV0KHNoZWV0KTtcbiAgICByZXR1cm4gc2hlZXQ7XG4gIH1cbiAgLyoqXG4gICAqIERldGFjaCB0aGUgU3R5bGUgU2hlZXQgYW5kIHJlbW92ZSBpdCBmcm9tIHRoZSByZWdpc3RyeS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucmVtb3ZlU3R5bGVTaGVldCA9IGZ1bmN0aW9uIHJlbW92ZVN0eWxlU2hlZXQoc2hlZXQpIHtcbiAgICBzaGVldC5kZXRhY2goKTtcbiAgICByZWdpc3RyeS5yZW1vdmUoc2hlZXQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBydWxlIHdpdGhvdXQgYSBTdHlsZSBTaGVldC5cbiAgICogW0RlcHJlY2F0ZWRdIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jcmVhdGVSdWxlID0gZnVuY3Rpb24gY3JlYXRlUnVsZSQxKG5hbWUsIHN0eWxlLCBvcHRpb25zKSB7XG4gICAgaWYgKHN0eWxlID09PSB2b2lkIDApIHtcbiAgICAgIHN0eWxlID0ge307XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIC8vIEVuYWJsZSBydWxlIHdpdGhvdXQgbmFtZSBmb3IgaW5saW5lIHN0eWxlcy5cbiAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1jYWxsXVxuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlUnVsZSh1bmRlZmluZWQsIG5hbWUsIHN0eWxlKTtcbiAgICB9IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdXG5cblxuICAgIHZhciBydWxlT3B0aW9ucyA9IF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAganNzOiB0aGlzLFxuICAgICAgUmVuZGVyZXI6IHRoaXMub3B0aW9ucy5SZW5kZXJlclxuICAgIH0pO1xuXG4gICAgaWYgKCFydWxlT3B0aW9ucy5nZW5lcmF0ZUlkKSBydWxlT3B0aW9ucy5nZW5lcmF0ZUlkID0gdGhpcy5nZW5lcmF0ZUlkO1xuICAgIGlmICghcnVsZU9wdGlvbnMuY2xhc3NlcykgcnVsZU9wdGlvbnMuY2xhc3NlcyA9IHt9O1xuICAgIGlmICghcnVsZU9wdGlvbnMua2V5ZnJhbWVzKSBydWxlT3B0aW9ucy5rZXlmcmFtZXMgPSB7fTtcblxuICAgIHZhciBydWxlID0gY3JlYXRlUnVsZShuYW1lLCBzdHlsZSwgcnVsZU9wdGlvbnMpO1xuXG4gICAgaWYgKHJ1bGUpIHRoaXMucGx1Z2lucy5vblByb2Nlc3NSdWxlKHJ1bGUpO1xuICAgIHJldHVybiBydWxlO1xuICB9XG4gIC8qKlxuICAgKiBSZWdpc3RlciBwbHVnaW4uIFBhc3NlZCBmdW5jdGlvbiB3aWxsIGJlIGludm9rZWQgd2l0aCBhIHJ1bGUgaW5zdGFuY2UuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVzZSA9IGZ1bmN0aW9uIHVzZSgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBsdWdpbnMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBwbHVnaW5zW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICBfdGhpcy5wbHVnaW5zLnVzZShwbHVnaW4pO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHJldHVybiBKc3M7XG59KCk7XG5cbi8qKlxuICogRXh0cmFjdHMgYSBzdHlsZXMgb2JqZWN0IHdpdGggb25seSBwcm9wcyB0aGF0IGNvbnRhaW4gZnVuY3Rpb24gdmFsdWVzLlxuICovXG5mdW5jdGlvbiBnZXREeW5hbWljU3R5bGVzKHN0eWxlcykge1xuICB2YXIgdG8gPSBudWxsO1xuXG4gIGZvciAodmFyIGtleSBpbiBzdHlsZXMpIHtcbiAgICB2YXIgdmFsdWUgPSBzdHlsZXNba2V5XTtcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuICAgIGlmICh0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBpZiAoIXRvKSB0byA9IHt9O1xuICAgICAgdG9ba2V5XSA9IHZhbHVlO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB2YXIgZXh0cmFjdGVkID0gZ2V0RHluYW1pY1N0eWxlcyh2YWx1ZSk7XG5cbiAgICAgIGlmIChleHRyYWN0ZWQpIHtcbiAgICAgICAgaWYgKCF0bykgdG8gPSB7fTtcbiAgICAgICAgdG9ba2V5XSA9IGV4dHJhY3RlZDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdG87XG59XG5cbi8qKlxuICogU2hlZXRzTWFuYWdlciBpcyBsaWtlIGEgV2Vha01hcCB3aGljaCBpcyBkZXNpZ25lZCB0byBjb3VudCBTdHlsZVNoZWV0XG4gKiBpbnN0YW5jZXMgYW5kIGF0dGFjaC9kZXRhY2ggYXV0b21hdGljYWxseS5cbiAqL1xudmFyIFNoZWV0c01hbmFnZXIgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTaGVldHNNYW5hZ2VyKCkge1xuICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLnNoZWV0cyA9IG5ldyBXZWFrTWFwKCk7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gU2hlZXRzTWFuYWdlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmdldCA9IGZ1bmN0aW9uIGdldChrZXkpIHtcbiAgICB2YXIgZW50cnkgPSB0aGlzLnNoZWV0cy5nZXQoa2V5KTtcbiAgICByZXR1cm4gZW50cnkgJiYgZW50cnkuc2hlZXQ7XG4gIH07XG5cbiAgX3Byb3RvLmFkZCA9IGZ1bmN0aW9uIGFkZChrZXksIHNoZWV0KSB7XG4gICAgaWYgKHRoaXMuc2hlZXRzLmhhcyhrZXkpKSByZXR1cm47XG4gICAgdGhpcy5sZW5ndGgrKztcbiAgICB0aGlzLnNoZWV0cy5zZXQoa2V5LCB7XG4gICAgICBzaGVldDogc2hlZXQsXG4gICAgICByZWZzOiAwXG4gICAgfSk7XG4gIH07XG5cbiAgX3Byb3RvLm1hbmFnZSA9IGZ1bmN0aW9uIG1hbmFnZShrZXkpIHtcbiAgICB2YXIgZW50cnkgPSB0aGlzLnNoZWV0cy5nZXQoa2V5KTtcblxuICAgIGlmIChlbnRyeSkge1xuICAgICAgaWYgKGVudHJ5LnJlZnMgPT09IDApIHtcbiAgICAgICAgZW50cnkuc2hlZXQuYXR0YWNoKCk7XG4gICAgICB9XG5cbiAgICAgIGVudHJ5LnJlZnMrKztcbiAgICAgIHJldHVybiBlbnRyeS5zaGVldDtcbiAgICB9XG5cbiAgICB3YXJuaW5nKGZhbHNlLCBcIltKU1NdIFNoZWV0c01hbmFnZXI6IGNhbid0IGZpbmQgc2hlZXQgdG8gbWFuYWdlXCIpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH07XG5cbiAgX3Byb3RvLnVubWFuYWdlID0gZnVuY3Rpb24gdW5tYW5hZ2Uoa2V5KSB7XG4gICAgdmFyIGVudHJ5ID0gdGhpcy5zaGVldHMuZ2V0KGtleSk7XG5cbiAgICBpZiAoZW50cnkpIHtcbiAgICAgIGlmIChlbnRyeS5yZWZzID4gMCkge1xuICAgICAgICBlbnRyeS5yZWZzLS07XG4gICAgICAgIGlmIChlbnRyeS5yZWZzID09PSAwKSBlbnRyeS5zaGVldC5kZXRhY2goKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgd2FybmluZyhmYWxzZSwgXCJTaGVldHNNYW5hZ2VyOiBjYW4ndCBmaW5kIHNoZWV0IHRvIHVubWFuYWdlXCIpO1xuICAgIH1cbiAgfTtcblxuICBfY3JlYXRlQ2xhc3MoU2hlZXRzTWFuYWdlciwgW3tcbiAgICBrZXk6IFwic2l6ZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTaGVldHNNYW5hZ2VyO1xufSgpO1xuXG4vKipcbiAqIEEgYmV0dGVyIGFic3RyYWN0aW9uIG92ZXIgQ1NTLlxuICpcbiAqIEBjb3B5cmlnaHQgT2xlZyBJc29uZW4gKFNsb2JvZHNrb2kpIC8gSXNvbmVuIDIwMTQtcHJlc2VudFxuICogQHdlYnNpdGUgaHR0cHM6Ly9naXRodWIuY29tL2Nzc2luanMvanNzXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG4vKipcbiAqIEV4cG9ydCBhIGNvbnN0YW50IGluZGljYXRpbmcgaWYgdGhpcyBicm93c2VyIGhhcyBDU1NUT00gc3VwcG9ydC5cbiAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3dlYi91cGRhdGVzLzIwMTgvMDMvY3Nzb21cbiAqL1xudmFyIGhhc0NTU1RPTVN1cHBvcnQgPSB0eXBlb2YgQ1NTID09PSAnb2JqZWN0JyAmJiBDU1MgIT0gbnVsbCAmJiAnbnVtYmVyJyBpbiBDU1M7XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgSnNzLlxuICovXG5cbnZhciBjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUob3B0aW9ucykge1xuICByZXR1cm4gbmV3IEpzcyhvcHRpb25zKTtcbn07XG4vKipcbiAqIEEgZ2xvYmFsIEpzcyBpbnN0YW5jZS5cbiAqL1xuXG52YXIganNzID0gY3JlYXRlKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGpzcztcbmV4cG9ydCB7IFJ1bGVMaXN0LCBTaGVldHNNYW5hZ2VyLCBTaGVldHNSZWdpc3RyeSwgY3JlYXRlLCBjcmVhdGVHZW5lcmF0ZUlkLCBjcmVhdGVSdWxlLCBnZXREeW5hbWljU3R5bGVzLCBoYXNDU1NUT01TdXBwb3J0LCByZWdpc3RyeSBhcyBzaGVldHMsIHRvQ3NzVmFsdWUgfTtcbiIsImltcG9ydCB3YXJuaW5nIGZyb20gJ3Rpbnktd2FybmluZyc7XG5pbXBvcnQgeyBjcmVhdGVSdWxlIH0gZnJvbSAnanNzJztcblxudmFyIG5vdyA9IERhdGUubm93KCk7XG52YXIgZm5WYWx1ZXNOcyA9IFwiZm5WYWx1ZXNcIiArIG5vdztcbnZhciBmblJ1bGVOcyA9IFwiZm5TdHlsZVwiICsgKytub3c7XG5cbnZhciBmdW5jdGlvblBsdWdpbiA9IGZ1bmN0aW9uIGZ1bmN0aW9uUGx1Z2luKCkge1xuICByZXR1cm4ge1xuICAgIG9uQ3JlYXRlUnVsZTogZnVuY3Rpb24gb25DcmVhdGVSdWxlKG5hbWUsIGRlY2wsIG9wdGlvbnMpIHtcbiAgICAgIGlmICh0eXBlb2YgZGVjbCAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgcnVsZSA9IGNyZWF0ZVJ1bGUobmFtZSwge30sIG9wdGlvbnMpO1xuICAgICAgcnVsZVtmblJ1bGVOc10gPSBkZWNsO1xuICAgICAgcmV0dXJuIHJ1bGU7XG4gICAgfSxcbiAgICBvblByb2Nlc3NTdHlsZTogZnVuY3Rpb24gb25Qcm9jZXNzU3R5bGUoc3R5bGUsIHJ1bGUpIHtcbiAgICAgIC8vIFdlIG5lZWQgdG8gZXh0cmFjdCBmdW5jdGlvbiB2YWx1ZXMgZnJvbSB0aGUgZGVjbGFyYXRpb24sIHNvIHRoYXQgd2UgY2FuIGtlZXAgY29yZSB1bmF3YXJlIG9mIHRoZW0uXG4gICAgICAvLyBXZSBuZWVkIHRvIGRvIHRoYXQgb25seSBvbmNlLlxuICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byBleHRyYWN0IGZ1bmN0aW9ucyBvbiBlYWNoIHN0eWxlIHVwZGF0ZSwgc2luY2UgdGhpcyBjYW4gaGFwcGVuIG9ubHkgb25jZS5cbiAgICAgIC8vIFdlIGRvbid0IHN1cHBvcnQgZnVuY3Rpb24gdmFsdWVzIGluc2lkZSBvZiBmdW5jdGlvbiBydWxlcy5cbiAgICAgIGlmIChmblZhbHVlc05zIGluIHJ1bGUgfHwgZm5SdWxlTnMgaW4gcnVsZSkgcmV0dXJuIHN0eWxlO1xuICAgICAgdmFyIGZuVmFsdWVzID0ge307XG5cbiAgICAgIGZvciAodmFyIHByb3AgaW4gc3R5bGUpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gc3R5bGVbcHJvcF07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicpIGNvbnRpbnVlO1xuICAgICAgICBkZWxldGUgc3R5bGVbcHJvcF07XG4gICAgICAgIGZuVmFsdWVzW3Byb3BdID0gdmFsdWU7XG4gICAgICB9IC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuXG5cbiAgICAgIHJ1bGVbZm5WYWx1ZXNOc10gPSBmblZhbHVlcztcbiAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9LFxuICAgIG9uVXBkYXRlOiBmdW5jdGlvbiBvblVwZGF0ZShkYXRhLCBydWxlLCBzaGVldCwgb3B0aW9ucykge1xuICAgICAgdmFyIHN0eWxlUnVsZSA9IHJ1bGU7IC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuXG4gICAgICB2YXIgZm5SdWxlID0gc3R5bGVSdWxlW2ZuUnVsZU5zXTsgLy8gSWYgd2UgaGF2ZSBhIHN0eWxlIGZ1bmN0aW9uLCB0aGUgZW50aXJlIHJ1bGUgaXMgZHluYW1pYyBhbmQgc3R5bGUgb2JqZWN0XG4gICAgICAvLyB3aWxsIGJlIHJldHVybmVkIGZyb20gdGhhdCBmdW5jdGlvbi5cblxuICAgICAgaWYgKGZuUnVsZSkge1xuICAgICAgICAvLyBFbXB0eSBvYmplY3Qgd2lsbCByZW1vdmUgYWxsIGN1cnJlbnRseSBkZWZpbmVkIHByb3BzXG4gICAgICAgIC8vIGluIGNhc2UgZnVuY3Rpb24gcnVsZSByZXR1cm5zIGEgZmFsc3kgdmFsdWUuXG4gICAgICAgIHN0eWxlUnVsZS5zdHlsZSA9IGZuUnVsZShkYXRhKSB8fCB7fTtcblxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHN0eWxlUnVsZS5zdHlsZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdHlsZVJ1bGUuc3R5bGVbcHJvcF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhmYWxzZSwgJ1tKU1NdIEZ1bmN0aW9uIHZhbHVlcyBpbnNpZGUgZnVuY3Rpb24gcnVsZXMgYXJlIG5vdCBzdXBwb3J0ZWQuJykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cblxuXG4gICAgICB2YXIgZm5WYWx1ZXMgPSBzdHlsZVJ1bGVbZm5WYWx1ZXNOc107IC8vIElmIHdlIGhhdmUgYSBmbiB2YWx1ZXMgbWFwLCBpdCBpcyBhIHJ1bGUgd2l0aCBmdW5jdGlvbiB2YWx1ZXMuXG5cbiAgICAgIGlmIChmblZhbHVlcykge1xuICAgICAgICBmb3IgKHZhciBfcHJvcCBpbiBmblZhbHVlcykge1xuICAgICAgICAgIHN0eWxlUnVsZS5wcm9wKF9wcm9wLCBmblZhbHVlc1tfcHJvcF0oZGF0YSksIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb25QbHVnaW47XG4iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgeyBSdWxlTGlzdCB9IGZyb20gJ2pzcyc7XG5cbnZhciBhdCA9ICdAZ2xvYmFsJztcbnZhciBhdFByZWZpeCA9ICdAZ2xvYmFsICc7XG5cbnZhciBHbG9iYWxDb250YWluZXJSdWxlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2xvYmFsQ29udGFpbmVyUnVsZShrZXksIHN0eWxlcywgb3B0aW9ucykge1xuICAgIHRoaXMudHlwZSA9ICdnbG9iYWwnO1xuICAgIHRoaXMuYXQgPSBhdDtcbiAgICB0aGlzLnJ1bGVzID0gdm9pZCAwO1xuICAgIHRoaXMub3B0aW9ucyA9IHZvaWQgMDtcbiAgICB0aGlzLmtleSA9IHZvaWQgMDtcbiAgICB0aGlzLmlzUHJvY2Vzc2VkID0gZmFsc2U7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnJ1bGVzID0gbmV3IFJ1bGVMaXN0KF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBwYXJlbnQ6IHRoaXNcbiAgICB9KSk7XG5cbiAgICBmb3IgKHZhciBzZWxlY3RvciBpbiBzdHlsZXMpIHtcbiAgICAgIHRoaXMucnVsZXMuYWRkKHNlbGVjdG9yLCBzdHlsZXNbc2VsZWN0b3JdKTtcbiAgICB9XG5cbiAgICB0aGlzLnJ1bGVzLnByb2Nlc3MoKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgcnVsZS5cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gR2xvYmFsQ29udGFpbmVyUnVsZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmdldFJ1bGUgPSBmdW5jdGlvbiBnZXRSdWxlKG5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5ydWxlcy5nZXQobmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgcmVnaXN0ZXIgcnVsZSwgcnVuIHBsdWdpbnMuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmFkZFJ1bGUgPSBmdW5jdGlvbiBhZGRSdWxlKG5hbWUsIHN0eWxlLCBvcHRpb25zKSB7XG4gICAgdmFyIHJ1bGUgPSB0aGlzLnJ1bGVzLmFkZChuYW1lLCBzdHlsZSwgb3B0aW9ucyk7XG4gICAgaWYgKHJ1bGUpIHRoaXMub3B0aW9ucy5qc3MucGx1Z2lucy5vblByb2Nlc3NSdWxlKHJ1bGUpO1xuICAgIHJldHVybiBydWxlO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgaW5kZXggb2YgYSBydWxlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZihydWxlKSB7XG4gICAgcmV0dXJuIHRoaXMucnVsZXMuaW5kZXhPZihydWxlKTtcbiAgfVxuICAvKipcbiAgICogR2VuZXJhdGVzIGEgQ1NTIHN0cmluZy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5ydWxlcy50b1N0cmluZygpO1xuICB9O1xuXG4gIHJldHVybiBHbG9iYWxDb250YWluZXJSdWxlO1xufSgpO1xuXG52YXIgR2xvYmFsUHJlZml4ZWRSdWxlID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2xvYmFsUHJlZml4ZWRSdWxlKGtleSwgc3R5bGUsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnR5cGUgPSAnZ2xvYmFsJztcbiAgICB0aGlzLmF0ID0gYXQ7XG4gICAgdGhpcy5vcHRpb25zID0gdm9pZCAwO1xuICAgIHRoaXMucnVsZSA9IHZvaWQgMDtcbiAgICB0aGlzLmlzUHJvY2Vzc2VkID0gZmFsc2U7XG4gICAgdGhpcy5rZXkgPSB2b2lkIDA7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB2YXIgc2VsZWN0b3IgPSBrZXkuc3Vic3RyKGF0UHJlZml4Lmxlbmd0aCk7XG4gICAgdGhpcy5ydWxlID0gb3B0aW9ucy5qc3MuY3JlYXRlUnVsZShzZWxlY3Rvciwgc3R5bGUsIF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBwYXJlbnQ6IHRoaXNcbiAgICB9KSk7XG4gIH1cblxuICB2YXIgX3Byb3RvMiA9IEdsb2JhbFByZWZpeGVkUnVsZS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvMi50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5ydWxlID8gdGhpcy5ydWxlLnRvU3RyaW5nKG9wdGlvbnMpIDogJyc7XG4gIH07XG5cbiAgcmV0dXJuIEdsb2JhbFByZWZpeGVkUnVsZTtcbn0oKTtcblxudmFyIHNlcGFyYXRvclJlZ0V4cCA9IC9cXHMqLFxccyovZztcblxuZnVuY3Rpb24gYWRkU2NvcGUoc2VsZWN0b3IsIHNjb3BlKSB7XG4gIHZhciBwYXJ0cyA9IHNlbGVjdG9yLnNwbGl0KHNlcGFyYXRvclJlZ0V4cCk7XG4gIHZhciBzY29wZWQgPSAnJztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgc2NvcGVkICs9IHNjb3BlICsgXCIgXCIgKyBwYXJ0c1tpXS50cmltKCk7XG4gICAgaWYgKHBhcnRzW2kgKyAxXSkgc2NvcGVkICs9ICcsICc7XG4gIH1cblxuICByZXR1cm4gc2NvcGVkO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVOZXN0ZWRHbG9iYWxDb250YWluZXJSdWxlKHJ1bGUsIHNoZWV0KSB7XG4gIHZhciBvcHRpb25zID0gcnVsZS5vcHRpb25zLFxuICAgICAgc3R5bGUgPSBydWxlLnN0eWxlO1xuICB2YXIgcnVsZXMgPSBzdHlsZSA/IHN0eWxlW2F0XSA6IG51bGw7XG4gIGlmICghcnVsZXMpIHJldHVybjtcblxuICBmb3IgKHZhciBuYW1lIGluIHJ1bGVzKSB7XG4gICAgc2hlZXQuYWRkUnVsZShuYW1lLCBydWxlc1tuYW1lXSwgX2V4dGVuZHMoe30sIG9wdGlvbnMsIHtcbiAgICAgIHNlbGVjdG9yOiBhZGRTY29wZShuYW1lLCBydWxlLnNlbGVjdG9yKVxuICAgIH0pKTtcbiAgfVxuXG4gIGRlbGV0ZSBzdHlsZVthdF07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVByZWZpeGVkR2xvYmFsUnVsZShydWxlLCBzaGVldCkge1xuICB2YXIgb3B0aW9ucyA9IHJ1bGUub3B0aW9ucyxcbiAgICAgIHN0eWxlID0gcnVsZS5zdHlsZTtcblxuICBmb3IgKHZhciBwcm9wIGluIHN0eWxlKSB7XG4gICAgaWYgKHByb3BbMF0gIT09ICdAJyB8fCBwcm9wLnN1YnN0cigwLCBhdC5sZW5ndGgpICE9PSBhdCkgY29udGludWU7XG4gICAgdmFyIHNlbGVjdG9yID0gYWRkU2NvcGUocHJvcC5zdWJzdHIoYXQubGVuZ3RoKSwgcnVsZS5zZWxlY3Rvcik7XG4gICAgc2hlZXQuYWRkUnVsZShzZWxlY3Rvciwgc3R5bGVbcHJvcF0sIF9leHRlbmRzKHt9LCBvcHRpb25zLCB7XG4gICAgICBzZWxlY3Rvcjogc2VsZWN0b3JcbiAgICB9KSk7XG4gICAgZGVsZXRlIHN0eWxlW3Byb3BdO1xuICB9XG59XG4vKipcbiAqIENvbnZlcnQgbmVzdGVkIHJ1bGVzIHRvIHNlcGFyYXRlLCByZW1vdmUgdGhlbSBmcm9tIG9yaWdpbmFsIHN0eWxlcy5cbiAqXG4gKiBAcGFyYW0ge1J1bGV9IHJ1bGVcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuXG5mdW5jdGlvbiBqc3NHbG9iYWwoKSB7XG4gIGZ1bmN0aW9uIG9uQ3JlYXRlUnVsZShuYW1lLCBzdHlsZXMsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW5hbWUpIHJldHVybiBudWxsO1xuXG4gICAgaWYgKG5hbWUgPT09IGF0KSB7XG4gICAgICByZXR1cm4gbmV3IEdsb2JhbENvbnRhaW5lclJ1bGUobmFtZSwgc3R5bGVzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZiAobmFtZVswXSA9PT0gJ0AnICYmIG5hbWUuc3Vic3RyKDAsIGF0UHJlZml4Lmxlbmd0aCkgPT09IGF0UHJlZml4KSB7XG4gICAgICByZXR1cm4gbmV3IEdsb2JhbFByZWZpeGVkUnVsZShuYW1lLCBzdHlsZXMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHZhciBwYXJlbnQgPSBvcHRpb25zLnBhcmVudDtcblxuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIGlmIChwYXJlbnQudHlwZSA9PT0gJ2dsb2JhbCcgfHwgcGFyZW50Lm9wdGlvbnMucGFyZW50ICYmIHBhcmVudC5vcHRpb25zLnBhcmVudC50eXBlID09PSAnZ2xvYmFsJykge1xuICAgICAgICBvcHRpb25zLnNjb3BlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnNjb3BlZCA9PT0gZmFsc2UpIHtcbiAgICAgIG9wdGlvbnMuc2VsZWN0b3IgPSBuYW1lO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gb25Qcm9jZXNzUnVsZShydWxlLCBzaGVldCkge1xuICAgIGlmIChydWxlLnR5cGUgIT09ICdzdHlsZScgfHwgIXNoZWV0KSByZXR1cm47XG4gICAgaGFuZGxlTmVzdGVkR2xvYmFsQ29udGFpbmVyUnVsZShydWxlLCBzaGVldCk7XG4gICAgaGFuZGxlUHJlZml4ZWRHbG9iYWxSdWxlKHJ1bGUsIHNoZWV0KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgb25DcmVhdGVSdWxlOiBvbkNyZWF0ZVJ1bGUsXG4gICAgb25Qcm9jZXNzUnVsZTogb25Qcm9jZXNzUnVsZVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBqc3NHbG9iYWw7XG4iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgd2FybmluZyBmcm9tICd0aW55LXdhcm5pbmcnO1xuXG52YXIgc2VwYXJhdG9yUmVnRXhwID0gL1xccyosXFxzKi9nO1xudmFyIHBhcmVudFJlZ0V4cCA9IC8mL2c7XG52YXIgcmVmUmVnRXhwID0gL1xcJChbXFx3LV0rKS9nO1xuLyoqXG4gKiBDb252ZXJ0IG5lc3RlZCBydWxlcyB0byBzZXBhcmF0ZSwgcmVtb3ZlIHRoZW0gZnJvbSBvcmlnaW5hbCBzdHlsZXMuXG4gKlxuICogQHBhcmFtIHtSdWxlfSBydWxlXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGpzc05lc3RlZCgpIHtcbiAgLy8gR2V0IGEgZnVuY3Rpb24gdG8gYmUgdXNlZCBmb3IgJHJlZiByZXBsYWNlbWVudC5cbiAgZnVuY3Rpb24gZ2V0UmVwbGFjZVJlZihjb250YWluZXIsIHNoZWV0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtYXRjaCwga2V5KSB7XG4gICAgICB2YXIgcnVsZSA9IGNvbnRhaW5lci5nZXRSdWxlKGtleSkgfHwgc2hlZXQgJiYgc2hlZXQuZ2V0UnVsZShrZXkpO1xuXG4gICAgICBpZiAocnVsZSkge1xuICAgICAgICBydWxlID0gcnVsZTtcbiAgICAgICAgcmV0dXJuIHJ1bGUuc2VsZWN0b3I7XG4gICAgICB9XG5cbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoZmFsc2UsIFwiW0pTU10gQ291bGQgbm90IGZpbmQgdGhlIHJlZmVyZW5jZWQgcnVsZSBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgaW4gXFxcIlwiICsgKGNvbnRhaW5lci5vcHRpb25zLm1ldGEgfHwgY29udGFpbmVyLnRvU3RyaW5nKCkpICsgXCJcXFwiLlwiKSA6IHZvaWQgMDtcbiAgICAgIHJldHVybiBrZXk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlcGxhY2VQYXJlbnRSZWZzKG5lc3RlZFByb3AsIHBhcmVudFByb3ApIHtcbiAgICB2YXIgcGFyZW50U2VsZWN0b3JzID0gcGFyZW50UHJvcC5zcGxpdChzZXBhcmF0b3JSZWdFeHApO1xuICAgIHZhciBuZXN0ZWRTZWxlY3RvcnMgPSBuZXN0ZWRQcm9wLnNwbGl0KHNlcGFyYXRvclJlZ0V4cCk7XG4gICAgdmFyIHJlc3VsdCA9ICcnO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJlbnRTZWxlY3RvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwYXJlbnQgPSBwYXJlbnRTZWxlY3RvcnNbaV07XG5cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmVzdGVkU2VsZWN0b3JzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBuZXN0ZWQgPSBuZXN0ZWRTZWxlY3RvcnNbal07XG4gICAgICAgIGlmIChyZXN1bHQpIHJlc3VsdCArPSAnLCAnOyAvLyBSZXBsYWNlIGFsbCAmIGJ5IHRoZSBwYXJlbnQgb3IgcHJlZml4ICYgd2l0aCB0aGUgcGFyZW50LlxuXG4gICAgICAgIHJlc3VsdCArPSBuZXN0ZWQuaW5kZXhPZignJicpICE9PSAtMSA/IG5lc3RlZC5yZXBsYWNlKHBhcmVudFJlZ0V4cCwgcGFyZW50KSA6IHBhcmVudCArIFwiIFwiICsgbmVzdGVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRPcHRpb25zKHJ1bGUsIGNvbnRhaW5lciwgcHJldk9wdGlvbnMpIHtcbiAgICAvLyBPcHRpb25zIGhhcyBiZWVuIGFscmVhZHkgY3JlYXRlZCwgbm93IHdlIG9ubHkgaW5jcmVhc2UgaW5kZXguXG4gICAgaWYgKHByZXZPcHRpb25zKSByZXR1cm4gX2V4dGVuZHMoe30sIHByZXZPcHRpb25zLCB7XG4gICAgICBpbmRleDogcHJldk9wdGlvbnMuaW5kZXggKyAxIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuXG4gICAgfSk7XG4gICAgdmFyIG5lc3RpbmdMZXZlbCA9IHJ1bGUub3B0aW9ucy5uZXN0aW5nTGV2ZWw7XG4gICAgbmVzdGluZ0xldmVsID0gbmVzdGluZ0xldmVsID09PSB1bmRlZmluZWQgPyAxIDogbmVzdGluZ0xldmVsICsgMTtcblxuICAgIHZhciBvcHRpb25zID0gX2V4dGVuZHMoe30sIHJ1bGUub3B0aW9ucywge1xuICAgICAgbmVzdGluZ0xldmVsOiBuZXN0aW5nTGV2ZWwsXG4gICAgICBpbmRleDogY29udGFpbmVyLmluZGV4T2YocnVsZSkgKyAxIC8vIFdlIGRvbid0IG5lZWQgdGhlIHBhcmVudCBuYW1lIHRvIGJlIHNldCBvcHRpb25zIGZvciBjaGxpZC5cblxuICAgIH0pO1xuXG4gICAgZGVsZXRlIG9wdGlvbnMubmFtZTtcbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUHJvY2Vzc1N0eWxlKHN0eWxlLCBydWxlLCBzaGVldCkge1xuICAgIGlmIChydWxlLnR5cGUgIT09ICdzdHlsZScpIHJldHVybiBzdHlsZTtcbiAgICB2YXIgc3R5bGVSdWxlID0gcnVsZTtcbiAgICB2YXIgY29udGFpbmVyID0gc3R5bGVSdWxlLm9wdGlvbnMucGFyZW50O1xuICAgIHZhciBvcHRpb25zO1xuICAgIHZhciByZXBsYWNlUmVmO1xuXG4gICAgZm9yICh2YXIgcHJvcCBpbiBzdHlsZSkge1xuICAgICAgdmFyIGlzTmVzdGVkID0gcHJvcC5pbmRleE9mKCcmJykgIT09IC0xO1xuICAgICAgdmFyIGlzTmVzdGVkQ29uZGl0aW9uYWwgPSBwcm9wWzBdID09PSAnQCc7XG4gICAgICBpZiAoIWlzTmVzdGVkICYmICFpc05lc3RlZENvbmRpdGlvbmFsKSBjb250aW51ZTtcbiAgICAgIG9wdGlvbnMgPSBnZXRPcHRpb25zKHN0eWxlUnVsZSwgY29udGFpbmVyLCBvcHRpb25zKTtcblxuICAgICAgaWYgKGlzTmVzdGVkKSB7XG4gICAgICAgIHZhciBzZWxlY3RvciA9IHJlcGxhY2VQYXJlbnRSZWZzKHByb3AsIHN0eWxlUnVsZS5zZWxlY3Rvcik7IC8vIExhemlseSBjcmVhdGUgdGhlIHJlZiByZXBsYWNlciBmdW5jdGlvbiBqdXN0IG9uY2UgZm9yXG4gICAgICAgIC8vIGFsbCBuZXN0ZWQgcnVsZXMgd2l0aGluIHRoZSBzaGVldC5cblxuICAgICAgICBpZiAoIXJlcGxhY2VSZWYpIHJlcGxhY2VSZWYgPSBnZXRSZXBsYWNlUmVmKGNvbnRhaW5lciwgc2hlZXQpOyAvLyBSZXBsYWNlIGFsbCAkcmVmcy5cblxuICAgICAgICBzZWxlY3RvciA9IHNlbGVjdG9yLnJlcGxhY2UocmVmUmVnRXhwLCByZXBsYWNlUmVmKTtcbiAgICAgICAgY29udGFpbmVyLmFkZFJ1bGUoc2VsZWN0b3IsIHN0eWxlW3Byb3BdLCBfZXh0ZW5kcyh7fSwgb3B0aW9ucywge1xuICAgICAgICAgIHNlbGVjdG9yOiBzZWxlY3RvclxuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2UgaWYgKGlzTmVzdGVkQ29uZGl0aW9uYWwpIHtcbiAgICAgICAgLy8gUGxhY2UgY29uZGl0aW9uYWwgcmlnaHQgYWZ0ZXIgdGhlIHBhcmVudCBydWxlIHRvIGVuc3VyZSByaWdodCBvcmRlcmluZy5cbiAgICAgICAgY29udGFpbmVyLmFkZFJ1bGUocHJvcCwge30sIG9wdGlvbnMpIC8vIEZsb3cgZXhwZWN0cyBtb3JlIG9wdGlvbnMgYnV0IHRoZXkgYXJlbid0IHJlcXVpcmVkXG4gICAgICAgIC8vIEFuZCBmbG93IGRvZXNuJ3Qga25vdyB0aGlzIHdpbGwgYWx3YXlzIGJlIGEgU3R5bGVSdWxlIHdoaWNoIGhhcyB0aGUgYWRkUnVsZSBtZXRob2RcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdXNlXVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cbiAgICAgICAgLmFkZFJ1bGUoc3R5bGVSdWxlLmtleSwgc3R5bGVbcHJvcF0sIHtcbiAgICAgICAgICBzZWxlY3Rvcjogc3R5bGVSdWxlLnNlbGVjdG9yXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgc3R5bGVbcHJvcF07XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0eWxlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBvblByb2Nlc3NTdHlsZTogb25Qcm9jZXNzU3R5bGVcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQganNzTmVzdGVkO1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdmFyLCBwcmVmZXItdGVtcGxhdGUgKi9cbnZhciB1cHBlcmNhc2VQYXR0ZXJuID0gL1tBLVpdL2dcbnZhciBtc1BhdHRlcm4gPSAvXm1zLS9cbnZhciBjYWNoZSA9IHt9XG5cbmZ1bmN0aW9uIHRvSHlwaGVuTG93ZXIobWF0Y2gpIHtcbiAgcmV0dXJuICctJyArIG1hdGNoLnRvTG93ZXJDYXNlKClcbn1cblxuZnVuY3Rpb24gaHlwaGVuYXRlU3R5bGVOYW1lKG5hbWUpIHtcbiAgaWYgKGNhY2hlLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgcmV0dXJuIGNhY2hlW25hbWVdXG4gIH1cblxuICB2YXIgaE5hbWUgPSBuYW1lLnJlcGxhY2UodXBwZXJjYXNlUGF0dGVybiwgdG9IeXBoZW5Mb3dlcilcbiAgcmV0dXJuIChjYWNoZVtuYW1lXSA9IG1zUGF0dGVybi50ZXN0KGhOYW1lKSA/ICctJyArIGhOYW1lIDogaE5hbWUpXG59XG5cbmV4cG9ydCBkZWZhdWx0IGh5cGhlbmF0ZVN0eWxlTmFtZVxuIiwiaW1wb3J0IGh5cGhlbmF0ZSBmcm9tICdoeXBoZW5hdGUtc3R5bGUtbmFtZSc7XG5cbi8qKlxuICogQ29udmVydCBjYW1lbCBjYXNlZCBwcm9wZXJ0eSBuYW1lcyB0byBkYXNoIHNlcGFyYXRlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gc3R5bGVcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuXG5mdW5jdGlvbiBjb252ZXJ0Q2FzZShzdHlsZSkge1xuICB2YXIgY29udmVydGVkID0ge307XG5cbiAgZm9yICh2YXIgcHJvcCBpbiBzdHlsZSkge1xuICAgIHZhciBrZXkgPSBwcm9wLmluZGV4T2YoJy0tJykgPT09IDAgPyBwcm9wIDogaHlwaGVuYXRlKHByb3ApO1xuICAgIGNvbnZlcnRlZFtrZXldID0gc3R5bGVbcHJvcF07XG4gIH1cblxuICBpZiAoc3R5bGUuZmFsbGJhY2tzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc3R5bGUuZmFsbGJhY2tzKSkgY29udmVydGVkLmZhbGxiYWNrcyA9IHN0eWxlLmZhbGxiYWNrcy5tYXAoY29udmVydENhc2UpO2Vsc2UgY29udmVydGVkLmZhbGxiYWNrcyA9IGNvbnZlcnRDYXNlKHN0eWxlLmZhbGxiYWNrcyk7XG4gIH1cblxuICByZXR1cm4gY29udmVydGVkO1xufVxuLyoqXG4gKiBBbGxvdyBjYW1lbCBjYXNlZCBwcm9wZXJ0eSBuYW1lcyBieSBjb252ZXJ0aW5nIHRoZW0gYmFjayB0byBkYXNoZXJpemVkLlxuICpcbiAqIEBwYXJhbSB7UnVsZX0gcnVsZVxuICovXG5cblxuZnVuY3Rpb24gY2FtZWxDYXNlKCkge1xuICBmdW5jdGlvbiBvblByb2Nlc3NTdHlsZShzdHlsZSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHN0eWxlKSkge1xuICAgICAgLy8gSGFuZGxlIHJ1bGVzIGxpa2UgQGZvbnQtZmFjZSwgd2hpY2ggY2FuIGhhdmUgbXVsdGlwbGUgc3R5bGVzIGluIGFuIGFycmF5XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgc3R5bGUubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHN0eWxlW2luZGV4XSA9IGNvbnZlcnRDYXNlKHN0eWxlW2luZGV4XSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udmVydENhc2Uoc3R5bGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25DaGFuZ2VWYWx1ZSh2YWx1ZSwgcHJvcCwgcnVsZSkge1xuICAgIGlmIChwcm9wLmluZGV4T2YoJy0tJykgPT09IDApIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICB2YXIgaHlwaGVuYXRlZFByb3AgPSBoeXBoZW5hdGUocHJvcCk7IC8vIFRoZXJlIHdhcyBubyBjYW1lbCBjYXNlIGluIHBsYWNlXG5cbiAgICBpZiAocHJvcCA9PT0gaHlwaGVuYXRlZFByb3ApIHJldHVybiB2YWx1ZTtcbiAgICBydWxlLnByb3AoaHlwaGVuYXRlZFByb3AsIHZhbHVlKTsgLy8gQ29yZSB3aWxsIGlnbm9yZSB0aGF0IHByb3BlcnR5IHZhbHVlIHdlIHNldCB0aGUgcHJvcGVyIG9uZSBhYm92ZS5cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBvblByb2Nlc3NTdHlsZTogb25Qcm9jZXNzU3R5bGUsXG4gICAgb25DaGFuZ2VWYWx1ZTogb25DaGFuZ2VWYWx1ZVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBjYW1lbENhc2U7XG4iLCJpbXBvcnQgeyBoYXNDU1NUT01TdXBwb3J0IH0gZnJvbSAnanNzJztcblxudmFyIHB4ID0gaGFzQ1NTVE9NU3VwcG9ydCAmJiBDU1MgPyBDU1MucHggOiAncHgnO1xudmFyIG1zID0gaGFzQ1NTVE9NU3VwcG9ydCAmJiBDU1MgPyBDU1MubXMgOiAnbXMnO1xudmFyIHBlcmNlbnQgPSBoYXNDU1NUT01TdXBwb3J0ICYmIENTUyA/IENTUy5wZXJjZW50IDogJyUnO1xuLyoqXG4gKiBHZW5lcmF0ZWQganNzLXBsdWdpbi1kZWZhdWx0LXVuaXQgQ1NTIHByb3BlcnR5IHVuaXRzXG4gKlxuICogQHR5cGUgb2JqZWN0XG4gKi9cblxudmFyIGRlZmF1bHRVbml0cyA9IHtcbiAgLy8gQW5pbWF0aW9uIHByb3BlcnRpZXNcbiAgJ2FuaW1hdGlvbi1kZWxheSc6IG1zLFxuICAnYW5pbWF0aW9uLWR1cmF0aW9uJzogbXMsXG4gIC8vIEJhY2tncm91bmQgcHJvcGVydGllc1xuICAnYmFja2dyb3VuZC1wb3NpdGlvbic6IHB4LFxuICAnYmFja2dyb3VuZC1wb3NpdGlvbi14JzogcHgsXG4gICdiYWNrZ3JvdW5kLXBvc2l0aW9uLXknOiBweCxcbiAgJ2JhY2tncm91bmQtc2l6ZSc6IHB4LFxuICAvLyBCb3JkZXIgUHJvcGVydGllc1xuICBib3JkZXI6IHB4LFxuICAnYm9yZGVyLWJvdHRvbSc6IHB4LFxuICAnYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyc6IHB4LFxuICAnYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXMnOiBweCxcbiAgJ2JvcmRlci1ib3R0b20td2lkdGgnOiBweCxcbiAgJ2JvcmRlci1sZWZ0JzogcHgsXG4gICdib3JkZXItbGVmdC13aWR0aCc6IHB4LFxuICAnYm9yZGVyLXJhZGl1cyc6IHB4LFxuICAnYm9yZGVyLXJpZ2h0JzogcHgsXG4gICdib3JkZXItcmlnaHQtd2lkdGgnOiBweCxcbiAgJ2JvcmRlci10b3AnOiBweCxcbiAgJ2JvcmRlci10b3AtbGVmdC1yYWRpdXMnOiBweCxcbiAgJ2JvcmRlci10b3AtcmlnaHQtcmFkaXVzJzogcHgsXG4gICdib3JkZXItdG9wLXdpZHRoJzogcHgsXG4gICdib3JkZXItd2lkdGgnOiBweCxcbiAgJ2JvcmRlci1ibG9jayc6IHB4LFxuICAnYm9yZGVyLWJsb2NrLWVuZCc6IHB4LFxuICAnYm9yZGVyLWJsb2NrLWVuZC13aWR0aCc6IHB4LFxuICAnYm9yZGVyLWJsb2NrLXN0YXJ0JzogcHgsXG4gICdib3JkZXItYmxvY2stc3RhcnQtd2lkdGgnOiBweCxcbiAgJ2JvcmRlci1ibG9jay13aWR0aCc6IHB4LFxuICAnYm9yZGVyLWlubGluZSc6IHB4LFxuICAnYm9yZGVyLWlubGluZS1lbmQnOiBweCxcbiAgJ2JvcmRlci1pbmxpbmUtZW5kLXdpZHRoJzogcHgsXG4gICdib3JkZXItaW5saW5lLXN0YXJ0JzogcHgsXG4gICdib3JkZXItaW5saW5lLXN0YXJ0LXdpZHRoJzogcHgsXG4gICdib3JkZXItaW5saW5lLXdpZHRoJzogcHgsXG4gICdib3JkZXItc3RhcnQtc3RhcnQtcmFkaXVzJzogcHgsXG4gICdib3JkZXItc3RhcnQtZW5kLXJhZGl1cyc6IHB4LFxuICAnYm9yZGVyLWVuZC1zdGFydC1yYWRpdXMnOiBweCxcbiAgJ2JvcmRlci1lbmQtZW5kLXJhZGl1cyc6IHB4LFxuICAvLyBNYXJnaW4gcHJvcGVydGllc1xuICBtYXJnaW46IHB4LFxuICAnbWFyZ2luLWJvdHRvbSc6IHB4LFxuICAnbWFyZ2luLWxlZnQnOiBweCxcbiAgJ21hcmdpbi1yaWdodCc6IHB4LFxuICAnbWFyZ2luLXRvcCc6IHB4LFxuICAnbWFyZ2luLWJsb2NrJzogcHgsXG4gICdtYXJnaW4tYmxvY2stZW5kJzogcHgsXG4gICdtYXJnaW4tYmxvY2stc3RhcnQnOiBweCxcbiAgJ21hcmdpbi1pbmxpbmUnOiBweCxcbiAgJ21hcmdpbi1pbmxpbmUtZW5kJzogcHgsXG4gICdtYXJnaW4taW5saW5lLXN0YXJ0JzogcHgsXG4gIC8vIFBhZGRpbmcgcHJvcGVydGllc1xuICBwYWRkaW5nOiBweCxcbiAgJ3BhZGRpbmctYm90dG9tJzogcHgsXG4gICdwYWRkaW5nLWxlZnQnOiBweCxcbiAgJ3BhZGRpbmctcmlnaHQnOiBweCxcbiAgJ3BhZGRpbmctdG9wJzogcHgsXG4gICdwYWRkaW5nLWJsb2NrJzogcHgsXG4gICdwYWRkaW5nLWJsb2NrLWVuZCc6IHB4LFxuICAncGFkZGluZy1ibG9jay1zdGFydCc6IHB4LFxuICAncGFkZGluZy1pbmxpbmUnOiBweCxcbiAgJ3BhZGRpbmctaW5saW5lLWVuZCc6IHB4LFxuICAncGFkZGluZy1pbmxpbmUtc3RhcnQnOiBweCxcbiAgLy8gTWFzayBwcm9wZXJ0aWVzXG4gICdtYXNrLXBvc2l0aW9uLXgnOiBweCxcbiAgJ21hc2stcG9zaXRpb24teSc6IHB4LFxuICAnbWFzay1zaXplJzogcHgsXG4gIC8vIFdpZHRoIGFuZCBoZWlnaHQgcHJvcGVydGllc1xuICBoZWlnaHQ6IHB4LFxuICB3aWR0aDogcHgsXG4gICdtaW4taGVpZ2h0JzogcHgsXG4gICdtYXgtaGVpZ2h0JzogcHgsXG4gICdtaW4td2lkdGgnOiBweCxcbiAgJ21heC13aWR0aCc6IHB4LFxuICAvLyBQb3NpdGlvbiBwcm9wZXJ0aWVzXG4gIGJvdHRvbTogcHgsXG4gIGxlZnQ6IHB4LFxuICB0b3A6IHB4LFxuICByaWdodDogcHgsXG4gIGluc2V0OiBweCxcbiAgJ2luc2V0LWJsb2NrJzogcHgsXG4gICdpbnNldC1ibG9jay1lbmQnOiBweCxcbiAgJ2luc2V0LWJsb2NrLXN0YXJ0JzogcHgsXG4gICdpbnNldC1pbmxpbmUnOiBweCxcbiAgJ2luc2V0LWlubGluZS1lbmQnOiBweCxcbiAgJ2luc2V0LWlubGluZS1zdGFydCc6IHB4LFxuICAvLyBTaGFkb3cgcHJvcGVydGllc1xuICAnYm94LXNoYWRvdyc6IHB4LFxuICAndGV4dC1zaGFkb3cnOiBweCxcbiAgLy8gQ29sdW1uIHByb3BlcnRpZXNcbiAgJ2NvbHVtbi1nYXAnOiBweCxcbiAgJ2NvbHVtbi1ydWxlJzogcHgsXG4gICdjb2x1bW4tcnVsZS13aWR0aCc6IHB4LFxuICAnY29sdW1uLXdpZHRoJzogcHgsXG4gIC8vIEZvbnQgYW5kIHRleHQgcHJvcGVydGllc1xuICAnZm9udC1zaXplJzogcHgsXG4gICdmb250LXNpemUtZGVsdGEnOiBweCxcbiAgJ2xldHRlci1zcGFjaW5nJzogcHgsXG4gICd0ZXh0LWRlY29yYXRpb24tdGhpY2tuZXNzJzogcHgsXG4gICd0ZXh0LWluZGVudCc6IHB4LFxuICAndGV4dC1zdHJva2UnOiBweCxcbiAgJ3RleHQtc3Ryb2tlLXdpZHRoJzogcHgsXG4gICd3b3JkLXNwYWNpbmcnOiBweCxcbiAgLy8gTW90aW9uIHByb3BlcnRpZXNcbiAgbW90aW9uOiBweCxcbiAgJ21vdGlvbi1vZmZzZXQnOiBweCxcbiAgLy8gT3V0bGluZSBwcm9wZXJ0aWVzXG4gIG91dGxpbmU6IHB4LFxuICAnb3V0bGluZS1vZmZzZXQnOiBweCxcbiAgJ291dGxpbmUtd2lkdGgnOiBweCxcbiAgLy8gUGVyc3BlY3RpdmUgcHJvcGVydGllc1xuICBwZXJzcGVjdGl2ZTogcHgsXG4gICdwZXJzcGVjdGl2ZS1vcmlnaW4teCc6IHBlcmNlbnQsXG4gICdwZXJzcGVjdGl2ZS1vcmlnaW4teSc6IHBlcmNlbnQsXG4gIC8vIFRyYW5zZm9ybSBwcm9wZXJ0aWVzXG4gICd0cmFuc2Zvcm0tb3JpZ2luJzogcGVyY2VudCxcbiAgJ3RyYW5zZm9ybS1vcmlnaW4teCc6IHBlcmNlbnQsXG4gICd0cmFuc2Zvcm0tb3JpZ2luLXknOiBwZXJjZW50LFxuICAndHJhbnNmb3JtLW9yaWdpbi16JzogcGVyY2VudCxcbiAgLy8gVHJhbnNpdGlvbiBwcm9wZXJ0aWVzXG4gICd0cmFuc2l0aW9uLWRlbGF5JzogbXMsXG4gICd0cmFuc2l0aW9uLWR1cmF0aW9uJzogbXMsXG4gIC8vIEFsaWdubWVudCBwcm9wZXJ0aWVzXG4gICd2ZXJ0aWNhbC1hbGlnbic6IHB4LFxuICAnZmxleC1iYXNpcyc6IHB4LFxuICAvLyBTb21lIHJhbmRvbSBwcm9wZXJ0aWVzXG4gICdzaGFwZS1tYXJnaW4nOiBweCxcbiAgc2l6ZTogcHgsXG4gIGdhcDogcHgsXG4gIC8vIEdyaWQgcHJvcGVydGllc1xuICBncmlkOiBweCxcbiAgJ2dyaWQtZ2FwJzogcHgsXG4gICdyb3ctZ2FwJzogcHgsXG4gICdncmlkLXJvdy1nYXAnOiBweCxcbiAgJ2dyaWQtY29sdW1uLWdhcCc6IHB4LFxuICAnZ3JpZC10ZW1wbGF0ZS1yb3dzJzogcHgsXG4gICdncmlkLXRlbXBsYXRlLWNvbHVtbnMnOiBweCxcbiAgJ2dyaWQtYXV0by1yb3dzJzogcHgsXG4gICdncmlkLWF1dG8tY29sdW1ucyc6IHB4LFxuICAvLyBOb3QgZXhpc3RpbmcgcHJvcGVydGllcy5cbiAgLy8gVXNlZCB0byBhdm9pZCBpc3N1ZXMgd2l0aCBqc3MtcGx1Z2luLWV4cGFuZCBpbnRlZ3JhdGlvbi5cbiAgJ2JveC1zaGFkb3cteCc6IHB4LFxuICAnYm94LXNoYWRvdy15JzogcHgsXG4gICdib3gtc2hhZG93LWJsdXInOiBweCxcbiAgJ2JveC1zaGFkb3ctc3ByZWFkJzogcHgsXG4gICdmb250LWxpbmUtaGVpZ2h0JzogcHgsXG4gICd0ZXh0LXNoYWRvdy14JzogcHgsXG4gICd0ZXh0LXNoYWRvdy15JzogcHgsXG4gICd0ZXh0LXNoYWRvdy1ibHVyJzogcHhcbn07XG5cbi8qKlxuICogQ2xvbmVzIHRoZSBvYmplY3QgYW5kIGFkZHMgYSBjYW1lbCBjYXNlZCBwcm9wZXJ0eSB2ZXJzaW9uLlxuICovXG5mdW5jdGlvbiBhZGRDYW1lbENhc2VkVmVyc2lvbihvYmopIHtcbiAgdmFyIHJlZ0V4cCA9IC8oLVthLXpdKS9nO1xuXG4gIHZhciByZXBsYWNlID0gZnVuY3Rpb24gcmVwbGFjZShzdHIpIHtcbiAgICByZXR1cm4gc3RyWzFdLnRvVXBwZXJDYXNlKCk7XG4gIH07XG5cbiAgdmFyIG5ld09iaiA9IHt9O1xuXG4gIGZvciAodmFyIF9rZXkgaW4gb2JqKSB7XG4gICAgbmV3T2JqW19rZXldID0gb2JqW19rZXldO1xuICAgIG5ld09ialtfa2V5LnJlcGxhY2UocmVnRXhwLCByZXBsYWNlKV0gPSBvYmpbX2tleV07XG4gIH1cblxuICByZXR1cm4gbmV3T2JqO1xufVxuXG52YXIgdW5pdHMgPSBhZGRDYW1lbENhc2VkVmVyc2lvbihkZWZhdWx0VW5pdHMpO1xuLyoqXG4gKiBSZWN1cnNpdmUgZGVlcCBzdHlsZSBwYXNzaW5nIGZ1bmN0aW9uXG4gKi9cblxuZnVuY3Rpb24gaXRlcmF0ZShwcm9wLCB2YWx1ZSwgb3B0aW9ucykge1xuICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIHZhbHVlO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlW2ldID0gaXRlcmF0ZShwcm9wLCB2YWx1ZVtpXSwgb3B0aW9ucyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICBpZiAocHJvcCA9PT0gJ2ZhbGxiYWNrcycpIHtcbiAgICAgIGZvciAodmFyIGlubmVyUHJvcCBpbiB2YWx1ZSkge1xuICAgICAgICB2YWx1ZVtpbm5lclByb3BdID0gaXRlcmF0ZShpbm5lclByb3AsIHZhbHVlW2lubmVyUHJvcF0sIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBfaW5uZXJQcm9wIGluIHZhbHVlKSB7XG4gICAgICAgIHZhbHVlW19pbm5lclByb3BdID0gaXRlcmF0ZShwcm9wICsgXCItXCIgKyBfaW5uZXJQcm9wLCB2YWx1ZVtfaW5uZXJQcm9wXSwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG5cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzTmFOKHZhbHVlKSA9PT0gZmFsc2UpIHtcbiAgICB2YXIgdW5pdCA9IG9wdGlvbnNbcHJvcF0gfHwgdW5pdHNbcHJvcF07IC8vIEFkZCB0aGUgdW5pdCBpZiBhdmFpbGFibGUsIGV4Y2VwdCBmb3IgdGhlIHNwZWNpYWwgY2FzZSBvZiAwcHguXG5cbiAgICBpZiAodW5pdCAmJiAhKHZhbHVlID09PSAwICYmIHVuaXQgPT09IHB4KSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB1bml0ID09PSAnZnVuY3Rpb24nID8gdW5pdCh2YWx1ZSkudG9TdHJpbmcoKSA6IFwiXCIgKyB2YWx1ZSArIHVuaXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59XG4vKipcbiAqIEFkZCB1bml0IHRvIG51bWVyaWMgdmFsdWVzLlxuICovXG5cblxuZnVuY3Rpb24gZGVmYXVsdFVuaXQob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgdmFyIGNhbWVsQ2FzZWRPcHRpb25zID0gYWRkQ2FtZWxDYXNlZFZlcnNpb24ob3B0aW9ucyk7XG5cbiAgZnVuY3Rpb24gb25Qcm9jZXNzU3R5bGUoc3R5bGUsIHJ1bGUpIHtcbiAgICBpZiAocnVsZS50eXBlICE9PSAnc3R5bGUnKSByZXR1cm4gc3R5bGU7XG5cbiAgICBmb3IgKHZhciBwcm9wIGluIHN0eWxlKSB7XG4gICAgICBzdHlsZVtwcm9wXSA9IGl0ZXJhdGUocHJvcCwgc3R5bGVbcHJvcF0sIGNhbWVsQ2FzZWRPcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cblxuICBmdW5jdGlvbiBvbkNoYW5nZVZhbHVlKHZhbHVlLCBwcm9wKSB7XG4gICAgcmV0dXJuIGl0ZXJhdGUocHJvcCwgdmFsdWUsIGNhbWVsQ2FzZWRPcHRpb25zKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgb25Qcm9jZXNzU3R5bGU6IG9uUHJvY2Vzc1N0eWxlLFxuICAgIG9uQ2hhbmdlVmFsdWU6IG9uQ2hhbmdlVmFsdWVcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZGVmYXVsdFVuaXQ7XG4iLCJpbXBvcnQgaXNJbkJyb3dzZXIgZnJvbSAnaXMtaW4tYnJvd3Nlcic7XG5pbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5JztcblxuLy8gRXhwb3J0IGphdmFzY3JpcHQgc3R5bGUgYW5kIGNzcyBzdHlsZSB2ZW5kb3IgcHJlZml4ZXMuXG52YXIganMgPSAnJztcbnZhciBjc3MgPSAnJztcbnZhciB2ZW5kb3IgPSAnJztcbnZhciBicm93c2VyID0gJyc7XG52YXIgaXNUb3VjaCA9IGlzSW5Ccm93c2VyICYmICdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsgLy8gV2Ugc2hvdWxkIG5vdCBkbyBhbnl0aGluZyBpZiByZXF1aXJlZCBzZXJ2ZXJzaWRlLlxuXG5pZiAoaXNJbkJyb3dzZXIpIHtcbiAgLy8gT3JkZXIgbWF0dGVycy4gV2UgbmVlZCB0byBjaGVjayBXZWJraXQgdGhlIGxhc3Qgb25lIGJlY2F1c2VcbiAgLy8gb3RoZXIgdmVuZG9ycyB1c2UgdG8gYWRkIFdlYmtpdCBwcmVmaXhlcyB0byBzb21lIHByb3BlcnRpZXNcbiAgdmFyIGpzQ3NzTWFwID0ge1xuICAgIE1vejogJy1tb3otJyxcbiAgICBtczogJy1tcy0nLFxuICAgIE86ICctby0nLFxuICAgIFdlYmtpdDogJy13ZWJraXQtJ1xuICB9O1xuXG4gIHZhciBfZG9jdW1lbnQkY3JlYXRlRWxlbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyksXG4gICAgICBzdHlsZSA9IF9kb2N1bWVudCRjcmVhdGVFbGVtZS5zdHlsZTtcblxuICB2YXIgdGVzdFByb3AgPSAnVHJhbnNmb3JtJztcblxuICBmb3IgKHZhciBrZXkgaW4ganNDc3NNYXApIHtcbiAgICBpZiAoa2V5ICsgdGVzdFByb3AgaW4gc3R5bGUpIHtcbiAgICAgIGpzID0ga2V5O1xuICAgICAgY3NzID0ganNDc3NNYXBba2V5XTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSAvLyBDb3JyZWN0bHkgZGV0ZWN0IHRoZSBFZGdlIGJyb3dzZXIuXG5cblxuICBpZiAoanMgPT09ICdXZWJraXQnICYmICdtc0h5cGhlbnMnIGluIHN0eWxlKSB7XG4gICAganMgPSAnbXMnO1xuICAgIGNzcyA9IGpzQ3NzTWFwLm1zO1xuICAgIGJyb3dzZXIgPSAnZWRnZSc7XG4gIH0gLy8gQ29ycmVjdGx5IGRldGVjdCB0aGUgU2FmYXJpIGJyb3dzZXIuXG5cblxuICBpZiAoanMgPT09ICdXZWJraXQnICYmICctYXBwbGUtdHJhaWxpbmctd29yZCcgaW4gc3R5bGUpIHtcbiAgICB2ZW5kb3IgPSAnYXBwbGUnO1xuICB9XG59XG4vKipcbiAqIFZlbmRvciBwcmVmaXggc3RyaW5nIGZvciB0aGUgY3VycmVudCBicm93c2VyLlxuICpcbiAqIEB0eXBlIHt7anM6IFN0cmluZywgY3NzOiBTdHJpbmcsIHZlbmRvcjogU3RyaW5nLCBicm93c2VyOiBTdHJpbmd9fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5cbnZhciBwcmVmaXggPSB7XG4gIGpzOiBqcyxcbiAgY3NzOiBjc3MsXG4gIHZlbmRvcjogdmVuZG9yLFxuICBicm93c2VyOiBicm93c2VyLFxuICBpc1RvdWNoOiBpc1RvdWNoXG59O1xuXG4vKipcbiAqIFRlc3QgaWYgYSBrZXlmcmFtZSBhdC1ydWxlIHNob3VsZCBiZSBwcmVmaXhlZCBvciBub3RcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdmVuZG9yIHByZWZpeCBzdHJpbmcgZm9yIHRoZSBjdXJyZW50IGJyb3dzZXIuXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHN1cHBvcnRlZEtleWZyYW1lcyhrZXkpIHtcbiAgLy8gS2V5ZnJhbWVzIGlzIGFscmVhZHkgcHJlZml4ZWQuIGUuZy4ga2V5ID0gJ0Atd2Via2l0LWtleWZyYW1lcyBhJ1xuICBpZiAoa2V5WzFdID09PSAnLScpIHJldHVybiBrZXk7IC8vIE5vIG5lZWQgdG8gcHJlZml4IElFL0VkZ2UuIE9sZGVyIGJyb3dzZXJzIHdpbGwgaWdub3JlIHVuc3VwcG9ydGVkIHJ1bGVzLlxuICAvLyBodHRwczovL2Nhbml1c2UuY29tLyNzZWFyY2g9a2V5ZnJhbWVzXG5cbiAgaWYgKHByZWZpeC5qcyA9PT0gJ21zJykgcmV0dXJuIGtleTtcbiAgcmV0dXJuIFwiQFwiICsgcHJlZml4LmNzcyArIFwia2V5ZnJhbWVzXCIgKyBrZXkuc3Vic3RyKDEwKTtcbn1cblxuLy8gaHR0cHM6Ly9jYW5pdXNlLmNvbS8jc2VhcmNoPWFwcGVhcmFuY2VcblxudmFyIGFwcGVhcmVuY2UgPSB7XG4gIG5vUHJlZmlsbDogWydhcHBlYXJhbmNlJ10sXG4gIHN1cHBvcnRlZFByb3BlcnR5OiBmdW5jdGlvbiBzdXBwb3J0ZWRQcm9wZXJ0eShwcm9wKSB7XG4gICAgaWYgKHByb3AgIT09ICdhcHBlYXJhbmNlJykgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChwcmVmaXguanMgPT09ICdtcycpIHJldHVybiBcIi13ZWJraXQtXCIgKyBwcm9wO1xuICAgIHJldHVybiBwcmVmaXguY3NzICsgcHJvcDtcbiAgfVxufTtcblxuLy8gaHR0cHM6Ly9jYW5pdXNlLmNvbS8jc2VhcmNoPWNvbG9yLWFkanVzdFxuXG52YXIgY29sb3JBZGp1c3QgPSB7XG4gIG5vUHJlZmlsbDogWydjb2xvci1hZGp1c3QnXSxcbiAgc3VwcG9ydGVkUHJvcGVydHk6IGZ1bmN0aW9uIHN1cHBvcnRlZFByb3BlcnR5KHByb3ApIHtcbiAgICBpZiAocHJvcCAhPT0gJ2NvbG9yLWFkanVzdCcpIHJldHVybiBmYWxzZTtcbiAgICBpZiAocHJlZml4LmpzID09PSAnV2Via2l0JykgcmV0dXJuIHByZWZpeC5jc3MgKyBcInByaW50LVwiICsgcHJvcDtcbiAgICByZXR1cm4gcHJvcDtcbiAgfVxufTtcblxudmFyIHJlZ0V4cCA9IC9bLVxcc10rKC4pPy9nO1xuLyoqXG4gKiBSZXBsYWNlcyB0aGUgbGV0dGVyIHdpdGggdGhlIGNhcGl0YWwgbGV0dGVyXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1hdGNoXG4gKiBAcGFyYW0ge1N0cmluZ30gY1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gdG9VcHBlcihtYXRjaCwgYykge1xuICByZXR1cm4gYyA/IGMudG9VcHBlckNhc2UoKSA6ICcnO1xufVxuLyoqXG4gKiBDb252ZXJ0IGRhc2ggc2VwYXJhdGVkIHN0cmluZ3MgdG8gY2FtZWwtY2FzZWQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBjYW1lbGl6ZShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKHJlZ0V4cCwgdG9VcHBlcik7XG59XG5cbi8qKlxuICogQ29udmVydCBkYXNoIHNlcGFyYXRlZCBzdHJpbmdzIHRvIHBhc2NhbCBjYXNlZC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXNjYWxpemUoc3RyKSB7XG4gIHJldHVybiBjYW1lbGl6ZShcIi1cIiArIHN0cik7XG59XG5cbi8vIGJ1dCB3ZSBjYW4gdXNlIGEgbG9uZ2hhbmQgcHJvcGVydHkgaW5zdGVhZC5cbi8vIGh0dHBzOi8vY2FuaXVzZS5jb20vI3NlYXJjaD1tYXNrXG5cbnZhciBtYXNrID0ge1xuICBub1ByZWZpbGw6IFsnbWFzayddLFxuICBzdXBwb3J0ZWRQcm9wZXJ0eTogZnVuY3Rpb24gc3VwcG9ydGVkUHJvcGVydHkocHJvcCwgc3R5bGUpIHtcbiAgICBpZiAoIS9ebWFzay8udGVzdChwcm9wKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKHByZWZpeC5qcyA9PT0gJ1dlYmtpdCcpIHtcbiAgICAgIHZhciBsb25naGFuZCA9ICdtYXNrLWltYWdlJztcblxuICAgICAgaWYgKGNhbWVsaXplKGxvbmdoYW5kKSBpbiBzdHlsZSkge1xuICAgICAgICByZXR1cm4gcHJvcDtcbiAgICAgIH1cblxuICAgICAgaWYgKHByZWZpeC5qcyArIHBhc2NhbGl6ZShsb25naGFuZCkgaW4gc3R5bGUpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeC5jc3MgKyBwcm9wO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBwcm9wO1xuICB9XG59O1xuXG4vLyBodHRwczovL2Nhbml1c2UuY29tLyNzZWFyY2g9dGV4dC1vcmllbnRhdGlvblxuXG52YXIgdGV4dE9yaWVudGF0aW9uID0ge1xuICBub1ByZWZpbGw6IFsndGV4dC1vcmllbnRhdGlvbiddLFxuICBzdXBwb3J0ZWRQcm9wZXJ0eTogZnVuY3Rpb24gc3VwcG9ydGVkUHJvcGVydHkocHJvcCkge1xuICAgIGlmIChwcm9wICE9PSAndGV4dC1vcmllbnRhdGlvbicpIHJldHVybiBmYWxzZTtcblxuICAgIGlmIChwcmVmaXgudmVuZG9yID09PSAnYXBwbGUnICYmICFwcmVmaXguaXNUb3VjaCkge1xuICAgICAgcmV0dXJuIHByZWZpeC5jc3MgKyBwcm9wO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9wO1xuICB9XG59O1xuXG4vLyBodHRwczovL2Nhbml1c2UuY29tLyNzZWFyY2g9dHJhbnNmb3JtXG5cbnZhciB0cmFuc2Zvcm0gPSB7XG4gIG5vUHJlZmlsbDogWyd0cmFuc2Zvcm0nXSxcbiAgc3VwcG9ydGVkUHJvcGVydHk6IGZ1bmN0aW9uIHN1cHBvcnRlZFByb3BlcnR5KHByb3AsIHN0eWxlLCBvcHRpb25zKSB7XG4gICAgaWYgKHByb3AgIT09ICd0cmFuc2Zvcm0nKSByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAob3B0aW9ucy50cmFuc2Zvcm0pIHtcbiAgICAgIHJldHVybiBwcm9wO1xuICAgIH1cblxuICAgIHJldHVybiBwcmVmaXguY3NzICsgcHJvcDtcbiAgfVxufTtcblxuLy8gaHR0cHM6Ly9jYW5pdXNlLmNvbS8jc2VhcmNoPXRyYW5zaXRpb25cblxudmFyIHRyYW5zaXRpb24gPSB7XG4gIG5vUHJlZmlsbDogWyd0cmFuc2l0aW9uJ10sXG4gIHN1cHBvcnRlZFByb3BlcnR5OiBmdW5jdGlvbiBzdXBwb3J0ZWRQcm9wZXJ0eShwcm9wLCBzdHlsZSwgb3B0aW9ucykge1xuICAgIGlmIChwcm9wICE9PSAndHJhbnNpdGlvbicpIHJldHVybiBmYWxzZTtcblxuICAgIGlmIChvcHRpb25zLnRyYW5zaXRpb24pIHtcbiAgICAgIHJldHVybiBwcm9wO1xuICAgIH1cblxuICAgIHJldHVybiBwcmVmaXguY3NzICsgcHJvcDtcbiAgfVxufTtcblxuLy8gaHR0cHM6Ly9jYW5pdXNlLmNvbS8jc2VhcmNoPXdyaXRpbmctbW9kZVxuXG52YXIgd3JpdGluZ01vZGUgPSB7XG4gIG5vUHJlZmlsbDogWyd3cml0aW5nLW1vZGUnXSxcbiAgc3VwcG9ydGVkUHJvcGVydHk6IGZ1bmN0aW9uIHN1cHBvcnRlZFByb3BlcnR5KHByb3ApIHtcbiAgICBpZiAocHJvcCAhPT0gJ3dyaXRpbmctbW9kZScpIHJldHVybiBmYWxzZTtcblxuICAgIGlmIChwcmVmaXguanMgPT09ICdXZWJraXQnIHx8IHByZWZpeC5qcyA9PT0gJ21zJyAmJiBwcmVmaXguYnJvd3NlciAhPT0gJ2VkZ2UnKSB7XG4gICAgICByZXR1cm4gcHJlZml4LmNzcyArIHByb3A7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3A7XG4gIH1cbn07XG5cbi8vIGh0dHBzOi8vY2FuaXVzZS5jb20vI3NlYXJjaD11c2VyLXNlbGVjdFxuXG52YXIgdXNlclNlbGVjdCA9IHtcbiAgbm9QcmVmaWxsOiBbJ3VzZXItc2VsZWN0J10sXG4gIHN1cHBvcnRlZFByb3BlcnR5OiBmdW5jdGlvbiBzdXBwb3J0ZWRQcm9wZXJ0eShwcm9wKSB7XG4gICAgaWYgKHByb3AgIT09ICd1c2VyLXNlbGVjdCcpIHJldHVybiBmYWxzZTtcblxuICAgIGlmIChwcmVmaXguanMgPT09ICdNb3onIHx8IHByZWZpeC5qcyA9PT0gJ21zJyB8fCBwcmVmaXgudmVuZG9yID09PSAnYXBwbGUnKSB7XG4gICAgICByZXR1cm4gcHJlZml4LmNzcyArIHByb3A7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3A7XG4gIH1cbn07XG5cbi8vIGh0dHBzOi8vY2FuaXVzZS5jb20vI3NlYXJjaD1tdWx0aWNvbHVtblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3Bvc3Rjc3MvYXV0b3ByZWZpeGVyL2lzc3Vlcy80OTFcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wb3N0Y3NzL2F1dG9wcmVmaXhlci9pc3N1ZXMvMTc3XG5cbnZhciBicmVha1Byb3BzT2xkID0ge1xuICBzdXBwb3J0ZWRQcm9wZXJ0eTogZnVuY3Rpb24gc3VwcG9ydGVkUHJvcGVydHkocHJvcCwgc3R5bGUpIHtcbiAgICBpZiAoIS9eYnJlYWstLy50ZXN0KHByb3ApKSByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAocHJlZml4LmpzID09PSAnV2Via2l0Jykge1xuICAgICAgdmFyIGpzUHJvcCA9IFwiV2Via2l0Q29sdW1uXCIgKyBwYXNjYWxpemUocHJvcCk7XG4gICAgICByZXR1cm4ganNQcm9wIGluIHN0eWxlID8gcHJlZml4LmNzcyArIFwiY29sdW1uLVwiICsgcHJvcCA6IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChwcmVmaXguanMgPT09ICdNb3onKSB7XG4gICAgICB2YXIgX2pzUHJvcCA9IFwicGFnZVwiICsgcGFzY2FsaXplKHByb3ApO1xuXG4gICAgICByZXR1cm4gX2pzUHJvcCBpbiBzdHlsZSA/IFwicGFnZS1cIiArIHByb3AgOiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcG9zdGNzcy9hdXRvcHJlZml4ZXIvaXNzdWVzLzMyNC5cblxudmFyIGlubGluZUxvZ2ljYWxPbGQgPSB7XG4gIHN1cHBvcnRlZFByb3BlcnR5OiBmdW5jdGlvbiBzdXBwb3J0ZWRQcm9wZXJ0eShwcm9wLCBzdHlsZSkge1xuICAgIGlmICghL14oYm9yZGVyfG1hcmdpbnxwYWRkaW5nKS1pbmxpbmUvLnRlc3QocHJvcCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAocHJlZml4LmpzID09PSAnTW96JykgcmV0dXJuIHByb3A7XG4gICAgdmFyIG5ld1Byb3AgPSBwcm9wLnJlcGxhY2UoJy1pbmxpbmUnLCAnJyk7XG4gICAgcmV0dXJuIHByZWZpeC5qcyArIHBhc2NhbGl6ZShuZXdQcm9wKSBpbiBzdHlsZSA/IHByZWZpeC5jc3MgKyBuZXdQcm9wIDogZmFsc2U7XG4gIH1cbn07XG5cbi8vIENhbWVsaXphdGlvbiBpcyByZXF1aXJlZCBiZWNhdXNlIHdlIGNhbid0IHRlc3QgdXNpbmcuXG4vLyBDU1Mgc3ludGF4IGZvciBlLmcuIGluIEZGLlxuXG52YXIgdW5wcmVmaXhlZCA9IHtcbiAgc3VwcG9ydGVkUHJvcGVydHk6IGZ1bmN0aW9uIHN1cHBvcnRlZFByb3BlcnR5KHByb3AsIHN0eWxlKSB7XG4gICAgcmV0dXJuIGNhbWVsaXplKHByb3ApIGluIHN0eWxlID8gcHJvcCA6IGZhbHNlO1xuICB9XG59O1xuXG52YXIgcHJlZml4ZWQgPSB7XG4gIHN1cHBvcnRlZFByb3BlcnR5OiBmdW5jdGlvbiBzdXBwb3J0ZWRQcm9wZXJ0eShwcm9wLCBzdHlsZSkge1xuICAgIHZhciBwYXNjYWxpemVkID0gcGFzY2FsaXplKHByb3ApOyAvLyBSZXR1cm4gY3VzdG9tIENTUyB2YXJpYWJsZSB3aXRob3V0IHByZWZpeGluZy5cblxuICAgIGlmIChwcm9wWzBdID09PSAnLScpIHJldHVybiBwcm9wOyAvLyBSZXR1cm4gYWxyZWFkeSBwcmVmaXhlZCB2YWx1ZSB3aXRob3V0IHByZWZpeGluZy5cblxuICAgIGlmIChwcm9wWzBdID09PSAnLScgJiYgcHJvcFsxXSA9PT0gJy0nKSByZXR1cm4gcHJvcDtcbiAgICBpZiAocHJlZml4LmpzICsgcGFzY2FsaXplZCBpbiBzdHlsZSkgcmV0dXJuIHByZWZpeC5jc3MgKyBwcm9wOyAvLyBUcnkgd2Via2l0IGZhbGxiYWNrLlxuXG4gICAgaWYgKHByZWZpeC5qcyAhPT0gJ1dlYmtpdCcgJiYgXCJXZWJraXRcIiArIHBhc2NhbGl6ZWQgaW4gc3R5bGUpIHJldHVybiBcIi13ZWJraXQtXCIgKyBwcm9wO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLy8gaHR0cHM6Ly9jYW5pdXNlLmNvbS8jc2VhcmNoPXNjcm9sbC1zbmFwXG5cbnZhciBzY3JvbGxTbmFwID0ge1xuICBzdXBwb3J0ZWRQcm9wZXJ0eTogZnVuY3Rpb24gc3VwcG9ydGVkUHJvcGVydHkocHJvcCkge1xuICAgIGlmIChwcm9wLnN1YnN0cmluZygwLCAxMSkgIT09ICdzY3JvbGwtc25hcCcpIHJldHVybiBmYWxzZTtcblxuICAgIGlmIChwcmVmaXguanMgPT09ICdtcycpIHtcbiAgICAgIHJldHVybiBcIlwiICsgcHJlZml4LmNzcyArIHByb3A7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3A7XG4gIH1cbn07XG5cbi8vIGh0dHBzOi8vY2FuaXVzZS5jb20vI3NlYXJjaD1vdmVyc2Nyb2xsLWJlaGF2aW9yXG5cbnZhciBvdmVyc2Nyb2xsQmVoYXZpb3IgPSB7XG4gIHN1cHBvcnRlZFByb3BlcnR5OiBmdW5jdGlvbiBzdXBwb3J0ZWRQcm9wZXJ0eShwcm9wKSB7XG4gICAgaWYgKHByb3AgIT09ICdvdmVyc2Nyb2xsLWJlaGF2aW9yJykgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKHByZWZpeC5qcyA9PT0gJ21zJykge1xuICAgICAgcmV0dXJuIHByZWZpeC5jc3MgKyBcInNjcm9sbC1jaGFpbmluZ1wiO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9wO1xuICB9XG59O1xuXG52YXIgcHJvcE1hcCA9IHtcbiAgJ2ZsZXgtZ3Jvdyc6ICdmbGV4LXBvc2l0aXZlJyxcbiAgJ2ZsZXgtc2hyaW5rJzogJ2ZsZXgtbmVnYXRpdmUnLFxuICAnZmxleC1iYXNpcyc6ICdmbGV4LXByZWZlcnJlZC1zaXplJyxcbiAgJ2p1c3RpZnktY29udGVudCc6ICdmbGV4LXBhY2snLFxuICBvcmRlcjogJ2ZsZXgtb3JkZXInLFxuICAnYWxpZ24taXRlbXMnOiAnZmxleC1hbGlnbicsXG4gICdhbGlnbi1jb250ZW50JzogJ2ZsZXgtbGluZS1wYWNrJyAvLyAnYWxpZ24tc2VsZicgaXMgaGFuZGxlZCBieSAnYWxpZ24tc2VsZicgcGx1Z2luLlxuXG59OyAvLyBTdXBwb3J0IG9sZCBmbGV4IHNwZWMgZnJvbSAyMDEyLlxuXG52YXIgZmxleDIwMTIgPSB7XG4gIHN1cHBvcnRlZFByb3BlcnR5OiBmdW5jdGlvbiBzdXBwb3J0ZWRQcm9wZXJ0eShwcm9wLCBzdHlsZSkge1xuICAgIHZhciBuZXdQcm9wID0gcHJvcE1hcFtwcm9wXTtcbiAgICBpZiAoIW5ld1Byb3ApIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gcHJlZml4LmpzICsgcGFzY2FsaXplKG5ld1Byb3ApIGluIHN0eWxlID8gcHJlZml4LmNzcyArIG5ld1Byb3AgOiBmYWxzZTtcbiAgfVxufTtcblxudmFyIHByb3BNYXAkMSA9IHtcbiAgZmxleDogJ2JveC1mbGV4JyxcbiAgJ2ZsZXgtZ3Jvdyc6ICdib3gtZmxleCcsXG4gICdmbGV4LWRpcmVjdGlvbic6IFsnYm94LW9yaWVudCcsICdib3gtZGlyZWN0aW9uJ10sXG4gIG9yZGVyOiAnYm94LW9yZGluYWwtZ3JvdXAnLFxuICAnYWxpZ24taXRlbXMnOiAnYm94LWFsaWduJyxcbiAgJ2ZsZXgtZmxvdyc6IFsnYm94LW9yaWVudCcsICdib3gtZGlyZWN0aW9uJ10sXG4gICdqdXN0aWZ5LWNvbnRlbnQnOiAnYm94LXBhY2snXG59O1xudmFyIHByb3BLZXlzID0gT2JqZWN0LmtleXMocHJvcE1hcCQxKTtcblxudmFyIHByZWZpeENzcyA9IGZ1bmN0aW9uIHByZWZpeENzcyhwKSB7XG4gIHJldHVybiBwcmVmaXguY3NzICsgcDtcbn07IC8vIFN1cHBvcnQgb2xkIGZsZXggc3BlYyBmcm9tIDIwMDkuXG5cblxudmFyIGZsZXgyMDA5ID0ge1xuICBzdXBwb3J0ZWRQcm9wZXJ0eTogZnVuY3Rpb24gc3VwcG9ydGVkUHJvcGVydHkocHJvcCwgc3R5bGUsIF9yZWYpIHtcbiAgICB2YXIgbXVsdGlwbGUgPSBfcmVmLm11bHRpcGxlO1xuXG4gICAgaWYgKHByb3BLZXlzLmluZGV4T2YocHJvcCkgPiAtMSkge1xuICAgICAgdmFyIG5ld1Byb3AgPSBwcm9wTWFwJDFbcHJvcF07XG5cbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShuZXdQcm9wKSkge1xuICAgICAgICByZXR1cm4gcHJlZml4LmpzICsgcGFzY2FsaXplKG5ld1Byb3ApIGluIHN0eWxlID8gcHJlZml4LmNzcyArIG5ld1Byb3AgOiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFtdWx0aXBsZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld1Byb3AubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCEocHJlZml4LmpzICsgcGFzY2FsaXplKG5ld1Byb3BbMF0pIGluIHN0eWxlKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3UHJvcC5tYXAocHJlZml4Q3NzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8vIHBsdWdpbnMgPSBbXG4vLyAgIC4uLnBsdWdpbnMsXG4vLyAgICBicmVha1Byb3BzT2xkLFxuLy8gICAgaW5saW5lTG9naWNhbE9sZCxcbi8vICAgIHVucHJlZml4ZWQsXG4vLyAgICBwcmVmaXhlZCxcbi8vICAgIHNjcm9sbFNuYXAsXG4vLyAgICBmbGV4MjAxMixcbi8vICAgIGZsZXgyMDA5XG4vLyBdXG4vLyBQbHVnaW5zIHdpdGhvdXQgJ25vUHJlZmlsbCcgdmFsdWUsIGdvaW5nIGxhc3QuXG4vLyAnZmxleC0qJyBwbHVnaW5zIHNob3VsZCBiZSBhdCB0aGUgYm90dG9tLlxuLy8gJ2ZsZXgyMDA5JyBnb2luZyBhZnRlciAnZmxleDIwMTInLlxuLy8gJ3ByZWZpeGVkJyBnb2luZyBhZnRlciAndW5wcmVmaXhlZCdcblxudmFyIHBsdWdpbnMgPSBbYXBwZWFyZW5jZSwgY29sb3JBZGp1c3QsIG1hc2ssIHRleHRPcmllbnRhdGlvbiwgdHJhbnNmb3JtLCB0cmFuc2l0aW9uLCB3cml0aW5nTW9kZSwgdXNlclNlbGVjdCwgYnJlYWtQcm9wc09sZCwgaW5saW5lTG9naWNhbE9sZCwgdW5wcmVmaXhlZCwgcHJlZml4ZWQsIHNjcm9sbFNuYXAsIG92ZXJzY3JvbGxCZWhhdmlvciwgZmxleDIwMTIsIGZsZXgyMDA5XTtcbnZhciBwcm9wZXJ0eURldGVjdG9ycyA9IHBsdWdpbnMuZmlsdGVyKGZ1bmN0aW9uIChwKSB7XG4gIHJldHVybiBwLnN1cHBvcnRlZFByb3BlcnR5O1xufSkubWFwKGZ1bmN0aW9uIChwKSB7XG4gIHJldHVybiBwLnN1cHBvcnRlZFByb3BlcnR5O1xufSk7XG52YXIgbm9QcmVmaWxsID0gcGx1Z2lucy5maWx0ZXIoZnVuY3Rpb24gKHApIHtcbiAgcmV0dXJuIHAubm9QcmVmaWxsO1xufSkucmVkdWNlKGZ1bmN0aW9uIChhLCBwKSB7XG4gIGEucHVzaC5hcHBseShhLCBfdG9Db25zdW1hYmxlQXJyYXkocC5ub1ByZWZpbGwpKTtcbiAgcmV0dXJuIGE7XG59LCBbXSk7XG5cbnZhciBlbDtcbnZhciBjYWNoZSA9IHt9O1xuXG5pZiAoaXNJbkJyb3dzZXIpIHtcbiAgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7IC8vIFdlIHRlc3QgZXZlcnkgcHJvcGVydHkgb24gdmVuZG9yIHByZWZpeCByZXF1aXJlbWVudC5cbiAgLy8gT25jZSB0ZXN0ZWQsIHJlc3VsdCBpcyBjYWNoZWQuIEl0IGdpdmVzIHVzIHVwIHRvIDcwJSBwZXJmIGJvb3N0LlxuICAvLyBodHRwOi8vanNwZXJmLmNvbS9lbGVtZW50LXN0eWxlLW9iamVjdC1hY2Nlc3MtdnMtcGxhaW4tb2JqZWN0XG4gIC8vXG4gIC8vIFByZWZpbGwgY2FjaGUgd2l0aCBrbm93biBjc3MgcHJvcGVydGllcyB0byByZWR1Y2UgYW1vdW50IG9mXG4gIC8vIHByb3BlcnRpZXMgd2UgbmVlZCB0byBmZWF0dXJlIHRlc3QgYXQgcnVudGltZS5cbiAgLy8gaHR0cDovL2Rhdmlkd2Fsc2gubmFtZS92ZW5kb3ItcHJlZml4XG5cbiAgdmFyIGNvbXB1dGVkID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnJyk7XG5cbiAgZm9yICh2YXIga2V5JDEgaW4gY29tcHV0ZWQpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG4gICAgaWYgKCFpc05hTihrZXkkMSkpIGNhY2hlW2NvbXB1dGVkW2tleSQxXV0gPSBjb21wdXRlZFtrZXkkMV07XG4gIH0gLy8gUHJvcGVydGllcyB0aGF0IGNhbm5vdCBiZSBjb3JyZWN0bHkgZGV0ZWN0ZWQgdXNpbmcgdGhlXG4gIC8vIGNhY2hlIHByZWZpbGwgbWV0aG9kLlxuXG5cbiAgbm9QcmVmaWxsLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4gZGVsZXRlIGNhY2hlW3hdO1xuICB9KTtcbn1cbi8qKlxuICogVGVzdCBpZiBhIHByb3BlcnR5IGlzIHN1cHBvcnRlZCwgcmV0dXJucyBzdXBwb3J0ZWQgcHJvcGVydHkgd2l0aCB2ZW5kb3JcbiAqIHByZWZpeCBpZiByZXF1aXJlZC4gUmV0dXJucyBgZmFsc2VgIGlmIG5vdCBzdXBwb3J0ZWQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHByb3AgZGFzaCBzZXBhcmF0ZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEByZXR1cm4ge1N0cmluZ3xCb29sZWFufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5cbmZ1bmN0aW9uIHN1cHBvcnRlZFByb3BlcnR5KHByb3AsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIC8vIEZvciBzZXJ2ZXItc2lkZSByZW5kZXJpbmcuXG4gIGlmICghZWwpIHJldHVybiBwcm9wOyAvLyBSZW1vdmUgY2FjaGUgZm9yIGJlbmNobWFyayB0ZXN0cyBvciByZXR1cm4gcHJvcGVydHkgZnJvbSB0aGUgY2FjaGUuXG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAnYmVuY2htYXJrJyAmJiBjYWNoZVtwcm9wXSAhPSBudWxsKSB7XG4gICAgcmV0dXJuIGNhY2hlW3Byb3BdO1xuICB9IC8vIENoZWNrIGlmICd0cmFuc2l0aW9uJyBvciAndHJhbnNmb3JtJyBuYXRpdmVseSBzdXBwb3J0ZWQgaW4gYnJvd3Nlci5cblxuXG4gIGlmIChwcm9wID09PSAndHJhbnNpdGlvbicgfHwgcHJvcCA9PT0gJ3RyYW5zZm9ybScpIHtcbiAgICBvcHRpb25zW3Byb3BdID0gcHJvcCBpbiBlbC5zdHlsZTtcbiAgfSAvLyBGaW5kIGEgcGx1Z2luIGZvciBjdXJyZW50IHByZWZpeCBwcm9wZXJ0eS5cblxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydHlEZXRlY3RvcnMubGVuZ3RoOyBpKyspIHtcbiAgICBjYWNoZVtwcm9wXSA9IHByb3BlcnR5RGV0ZWN0b3JzW2ldKHByb3AsIGVsLnN0eWxlLCBvcHRpb25zKTsgLy8gQnJlYWsgbG9vcCwgaWYgdmFsdWUgZm91bmQuXG5cbiAgICBpZiAoY2FjaGVbcHJvcF0pIGJyZWFrO1xuICB9IC8vIFJlc2V0IHN0eWxlcyBmb3IgY3VycmVudCBwcm9wZXJ0eS5cbiAgLy8gRmlyZWZveCBjYW4gZXZlbiB0aHJvdyBhbiBlcnJvciBmb3IgaW52YWxpZCBwcm9wZXJ0aWVzLCBlLmcuLCBcIjBcIi5cblxuXG4gIHRyeSB7XG4gICAgZWwuc3R5bGVbcHJvcF0gPSAnJztcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGNhY2hlW3Byb3BdO1xufVxuXG52YXIgY2FjaGUkMSA9IHt9O1xudmFyIHRyYW5zaXRpb25Qcm9wZXJ0aWVzID0ge1xuICB0cmFuc2l0aW9uOiAxLFxuICAndHJhbnNpdGlvbi1wcm9wZXJ0eSc6IDEsXG4gICctd2Via2l0LXRyYW5zaXRpb24nOiAxLFxuICAnLXdlYmtpdC10cmFuc2l0aW9uLXByb3BlcnR5JzogMVxufTtcbnZhciB0cmFuc1Byb3BzUmVnRXhwID0gLyheXFxzKltcXHctXSspfCwgKFxccypbXFx3LV0rKSg/IVteKCldKlxcKSkvZztcbnZhciBlbCQxO1xuLyoqXG4gKiBSZXR1cm5zIHByZWZpeGVkIHZhbHVlIHRyYW5zaXRpb24vdHJhbnNmb3JtIGlmIG5lZWRlZC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWF0Y2hcbiAqIEBwYXJhbSB7U3RyaW5nfSBwMVxuICogQHBhcmFtIHtTdHJpbmd9IHAyXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwcmVmaXhUcmFuc2l0aW9uQ2FsbGJhY2sobWF0Y2gsIHAxLCBwMikge1xuICBpZiAocDEgPT09ICd2YXInKSByZXR1cm4gJ3Zhcic7XG4gIGlmIChwMSA9PT0gJ2FsbCcpIHJldHVybiAnYWxsJztcbiAgaWYgKHAyID09PSAnYWxsJykgcmV0dXJuICcsIGFsbCc7XG4gIHZhciBwcmVmaXhlZFZhbHVlID0gcDEgPyBzdXBwb3J0ZWRQcm9wZXJ0eShwMSkgOiBcIiwgXCIgKyBzdXBwb3J0ZWRQcm9wZXJ0eShwMik7XG4gIGlmICghcHJlZml4ZWRWYWx1ZSkgcmV0dXJuIHAxIHx8IHAyO1xuICByZXR1cm4gcHJlZml4ZWRWYWx1ZTtcbn1cblxuaWYgKGlzSW5Ccm93c2VyKSBlbCQxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuLyoqXG4gKiBSZXR1cm5zIHByZWZpeGVkIHZhbHVlIGlmIG5lZWRlZC4gUmV0dXJucyBgZmFsc2VgIGlmIHZhbHVlIGlzIG5vdCBzdXBwb3J0ZWQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAqIEByZXR1cm4ge1N0cmluZ3xCb29sZWFufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBzdXBwb3J0ZWRWYWx1ZShwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgLy8gRm9yIHNlcnZlci1zaWRlIHJlbmRlcmluZy5cbiAgdmFyIHByZWZpeGVkVmFsdWUgPSB2YWx1ZTtcbiAgaWYgKCFlbCQxIHx8IHByb3BlcnR5ID09PSAnY29udGVudCcpIHJldHVybiB2YWx1ZTsgLy8gSXQgaXMgYSBzdHJpbmcgb3IgYSBudW1iZXIgYXMgYSBzdHJpbmcgbGlrZSAnMScuXG4gIC8vIFdlIHdhbnQgb25seSBwcmVmaXhhYmxlIHZhbHVlcyBoZXJlLlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG5cbiAgaWYgKHR5cGVvZiBwcmVmaXhlZFZhbHVlICE9PSAnc3RyaW5nJyB8fCAhaXNOYU4ocGFyc2VJbnQocHJlZml4ZWRWYWx1ZSwgMTApKSkge1xuICAgIHJldHVybiBwcmVmaXhlZFZhbHVlO1xuICB9IC8vIENyZWF0ZSBjYWNoZSBrZXkgZm9yIGN1cnJlbnQgdmFsdWUuXG5cblxuICB2YXIgY2FjaGVLZXkgPSBwcm9wZXJ0eSArIHByZWZpeGVkVmFsdWU7IC8vIFJlbW92ZSBjYWNoZSBmb3IgYmVuY2htYXJrIHRlc3RzIG9yIHJldHVybiB2YWx1ZSBmcm9tIGNhY2hlLlxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ2JlbmNobWFyaycgJiYgY2FjaGUkMVtjYWNoZUtleV0gIT0gbnVsbCkge1xuICAgIHJldHVybiBjYWNoZSQxW2NhY2hlS2V5XTtcbiAgfSAvLyBJRSBjYW4gZXZlbiB0aHJvdyBhbiBlcnJvciBpbiBzb21lIGNhc2VzLCBmb3IgZS5nLiBzdHlsZS5jb250ZW50ID0gJ2JhcicuXG5cblxuICB0cnkge1xuICAgIC8vIFRlc3QgdmFsdWUgYXMgaXQgaXMuXG4gICAgZWwkMS5zdHlsZVtwcm9wZXJ0eV0gPSBwcmVmaXhlZFZhbHVlO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBSZXR1cm4gZmFsc2UgaWYgdmFsdWUgbm90IHN1cHBvcnRlZC5cbiAgICBjYWNoZSQxW2NhY2hlS2V5XSA9IGZhbHNlO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBJZiAndHJhbnNpdGlvbicgb3IgJ3RyYW5zaXRpb24tcHJvcGVydHknIHByb3BlcnR5LlxuXG5cbiAgaWYgKHRyYW5zaXRpb25Qcm9wZXJ0aWVzW3Byb3BlcnR5XSkge1xuICAgIHByZWZpeGVkVmFsdWUgPSBwcmVmaXhlZFZhbHVlLnJlcGxhY2UodHJhbnNQcm9wc1JlZ0V4cCwgcHJlZml4VHJhbnNpdGlvbkNhbGxiYWNrKTtcbiAgfSBlbHNlIGlmIChlbCQxLnN0eWxlW3Byb3BlcnR5XSA9PT0gJycpIHtcbiAgICAvLyBWYWx1ZSB3aXRoIGEgdmVuZG9yIHByZWZpeC5cbiAgICBwcmVmaXhlZFZhbHVlID0gcHJlZml4LmNzcyArIHByZWZpeGVkVmFsdWU7IC8vIEhhcmRjb2RlIHRlc3QgdG8gY29udmVydCBcImZsZXhcIiB0byBcIi1tcy1mbGV4Ym94XCIgZm9yIElFMTAuXG5cbiAgICBpZiAocHJlZml4ZWRWYWx1ZSA9PT0gJy1tcy1mbGV4JykgZWwkMS5zdHlsZVtwcm9wZXJ0eV0gPSAnLW1zLWZsZXhib3gnOyAvLyBUZXN0IHByZWZpeGVkIHZhbHVlLlxuXG4gICAgZWwkMS5zdHlsZVtwcm9wZXJ0eV0gPSBwcmVmaXhlZFZhbHVlOyAvLyBSZXR1cm4gZmFsc2UgaWYgdmFsdWUgbm90IHN1cHBvcnRlZC5cblxuICAgIGlmIChlbCQxLnN0eWxlW3Byb3BlcnR5XSA9PT0gJycpIHtcbiAgICAgIGNhY2hlJDFbY2FjaGVLZXldID0gZmFsc2U7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9IC8vIFJlc2V0IHN0eWxlcyBmb3IgY3VycmVudCBwcm9wZXJ0eS5cblxuXG4gIGVsJDEuc3R5bGVbcHJvcGVydHldID0gJyc7IC8vIFdyaXRlIGN1cnJlbnQgdmFsdWUgdG8gY2FjaGUuXG5cbiAgY2FjaGUkMVtjYWNoZUtleV0gPSBwcmVmaXhlZFZhbHVlO1xuICByZXR1cm4gY2FjaGUkMVtjYWNoZUtleV07XG59XG5cbmV4cG9ydCB7IHByZWZpeCwgc3VwcG9ydGVkS2V5ZnJhbWVzLCBzdXBwb3J0ZWRQcm9wZXJ0eSwgc3VwcG9ydGVkVmFsdWUgfTtcbiIsImltcG9ydCB7IHN1cHBvcnRlZEtleWZyYW1lcywgc3VwcG9ydGVkVmFsdWUsIHN1cHBvcnRlZFByb3BlcnR5IH0gZnJvbSAnY3NzLXZlbmRvcic7XG5pbXBvcnQgeyB0b0Nzc1ZhbHVlIH0gZnJvbSAnanNzJztcblxuLyoqXG4gKiBBZGQgdmVuZG9yIHByZWZpeCB0byBhIHByb3BlcnR5IG5hbWUgd2hlbiBuZWVkZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBqc3NWZW5kb3JQcmVmaXhlcigpIHtcbiAgZnVuY3Rpb24gb25Qcm9jZXNzUnVsZShydWxlKSB7XG4gICAgaWYgKHJ1bGUudHlwZSA9PT0gJ2tleWZyYW1lcycpIHtcbiAgICAgIHZhciBhdFJ1bGUgPSBydWxlO1xuICAgICAgYXRSdWxlLmF0ID0gc3VwcG9ydGVkS2V5ZnJhbWVzKGF0UnVsZS5hdCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcHJlZml4U3R5bGUoc3R5bGUpIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIHN0eWxlKSB7XG4gICAgICB2YXIgdmFsdWUgPSBzdHlsZVtwcm9wXTtcblxuICAgICAgaWYgKHByb3AgPT09ICdmYWxsYmFja3MnICYmIEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHN0eWxlW3Byb3BdID0gdmFsdWUubWFwKHByZWZpeFN0eWxlKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBjaGFuZ2VQcm9wID0gZmFsc2U7XG4gICAgICB2YXIgc3VwcG9ydGVkUHJvcCA9IHN1cHBvcnRlZFByb3BlcnR5KHByb3ApO1xuICAgICAgaWYgKHN1cHBvcnRlZFByb3AgJiYgc3VwcG9ydGVkUHJvcCAhPT0gcHJvcCkgY2hhbmdlUHJvcCA9IHRydWU7XG4gICAgICB2YXIgY2hhbmdlVmFsdWUgPSBmYWxzZTtcbiAgICAgIHZhciBzdXBwb3J0ZWRWYWx1ZSQxID0gc3VwcG9ydGVkVmFsdWUoc3VwcG9ydGVkUHJvcCwgdG9Dc3NWYWx1ZSh2YWx1ZSkpO1xuICAgICAgaWYgKHN1cHBvcnRlZFZhbHVlJDEgJiYgc3VwcG9ydGVkVmFsdWUkMSAhPT0gdmFsdWUpIGNoYW5nZVZhbHVlID0gdHJ1ZTtcblxuICAgICAgaWYgKGNoYW5nZVByb3AgfHwgY2hhbmdlVmFsdWUpIHtcbiAgICAgICAgaWYgKGNoYW5nZVByb3ApIGRlbGV0ZSBzdHlsZVtwcm9wXTtcbiAgICAgICAgc3R5bGVbc3VwcG9ydGVkUHJvcCB8fCBwcm9wXSA9IHN1cHBvcnRlZFZhbHVlJDEgfHwgdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0eWxlO1xuICB9XG5cbiAgZnVuY3Rpb24gb25Qcm9jZXNzU3R5bGUoc3R5bGUsIHJ1bGUpIHtcbiAgICBpZiAocnVsZS50eXBlICE9PSAnc3R5bGUnKSByZXR1cm4gc3R5bGU7XG4gICAgcmV0dXJuIHByZWZpeFN0eWxlKHN0eWxlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlVmFsdWUodmFsdWUsIHByb3ApIHtcbiAgICByZXR1cm4gc3VwcG9ydGVkVmFsdWUocHJvcCwgdG9Dc3NWYWx1ZSh2YWx1ZSkpIHx8IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBvblByb2Nlc3NSdWxlOiBvblByb2Nlc3NSdWxlLFxuICAgIG9uUHJvY2Vzc1N0eWxlOiBvblByb2Nlc3NTdHlsZSxcbiAgICBvbkNoYW5nZVZhbHVlOiBvbkNoYW5nZVZhbHVlXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGpzc1ZlbmRvclByZWZpeGVyO1xuIiwiLyoqXG4gKiBTb3J0IHByb3BzIGJ5IGxlbmd0aC5cbiAqL1xuZnVuY3Rpb24ganNzUHJvcHNTb3J0KCkge1xuICB2YXIgc29ydCA9IGZ1bmN0aW9uIHNvcnQocHJvcDAsIHByb3AxKSB7XG4gICAgaWYgKHByb3AwLmxlbmd0aCA9PT0gcHJvcDEubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gcHJvcDAgPiBwcm9wMSA/IDEgOiAtMTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvcDAubGVuZ3RoIC0gcHJvcDEubGVuZ3RoO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgb25Qcm9jZXNzU3R5bGU6IGZ1bmN0aW9uIG9uUHJvY2Vzc1N0eWxlKHN0eWxlLCBydWxlKSB7XG4gICAgICBpZiAocnVsZS50eXBlICE9PSAnc3R5bGUnKSByZXR1cm4gc3R5bGU7XG4gICAgICB2YXIgbmV3U3R5bGUgPSB7fTtcbiAgICAgIHZhciBwcm9wcyA9IE9iamVjdC5rZXlzKHN0eWxlKS5zb3J0KHNvcnQpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG5ld1N0eWxlW3Byb3BzW2ldXSA9IHN0eWxlW3Byb3BzW2ldXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ld1N0eWxlO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQganNzUHJvcHNTb3J0O1xuIiwiaW1wb3J0IGZ1bmN0aW9ucyBmcm9tICdqc3MtcGx1Z2luLXJ1bGUtdmFsdWUtZnVuY3Rpb24nO1xuaW1wb3J0IGdsb2JhbCBmcm9tICdqc3MtcGx1Z2luLWdsb2JhbCc7XG5pbXBvcnQgbmVzdGVkIGZyb20gJ2pzcy1wbHVnaW4tbmVzdGVkJztcbmltcG9ydCBjYW1lbENhc2UgZnJvbSAnanNzLXBsdWdpbi1jYW1lbC1jYXNlJztcbmltcG9ydCBkZWZhdWx0VW5pdCBmcm9tICdqc3MtcGx1Z2luLWRlZmF1bHQtdW5pdCc7XG5pbXBvcnQgdmVuZG9yUHJlZml4ZXIgZnJvbSAnanNzLXBsdWdpbi12ZW5kb3ItcHJlZml4ZXInO1xuaW1wb3J0IHByb3BzU29ydCBmcm9tICdqc3MtcGx1Z2luLXByb3BzLXNvcnQnOyAvLyBTdWJzZXQgb2YganNzLXByZXNldC1kZWZhdWx0IHdpdGggb25seSB0aGUgcGx1Z2lucyB0aGUgTWF0ZXJpYWwtVUkgY29tcG9uZW50cyBhcmUgdXNpbmcuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGpzc1ByZXNldCgpIHtcbiAgcmV0dXJuIHtcbiAgICBwbHVnaW5zOiBbZnVuY3Rpb25zKCksIGdsb2JhbCgpLCBuZXN0ZWQoKSwgY2FtZWxDYXNlKCksIGRlZmF1bHRVbml0KCksIC8vIERpc2FibGUgdGhlIHZlbmRvciBwcmVmaXhlciBzZXJ2ZXItc2lkZSwgaXQgZG9lcyBub3RoaW5nLlxuICAgIC8vIFRoaXMgd2F5LCB3ZSBjYW4gZ2V0IGEgcGVyZm9ybWFuY2UgYm9vc3QuXG4gICAgLy8gSW4gdGhlIGRvY3VtZW50YXRpb24sIHdlIGFyZSB1c2luZyBgYXV0b3ByZWZpeGVyYCB0byBzb2x2ZSB0aGlzIHByb2JsZW0uXG4gICAgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogdmVuZG9yUHJlZml4ZXIoKSwgcHJvcHNTb3J0KCldXG4gIH07XG59IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgeyBnZXREaXNwbGF5TmFtZSB9IGZyb20gJ0BtYXRlcmlhbC11aS91dGlscyc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtZXJnZUNsYXNzZXMoKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgdmFyIGJhc2VDbGFzc2VzID0gb3B0aW9ucy5iYXNlQ2xhc3NlcyxcbiAgICAgIG5ld0NsYXNzZXMgPSBvcHRpb25zLm5ld0NsYXNzZXMsXG4gICAgICBDb21wb25lbnQgPSBvcHRpb25zLkNvbXBvbmVudDtcblxuICBpZiAoIW5ld0NsYXNzZXMpIHtcbiAgICByZXR1cm4gYmFzZUNsYXNzZXM7XG4gIH1cblxuICB2YXIgbmV4dENsYXNzZXMgPSBfZXh0ZW5kcyh7fSwgYmFzZUNsYXNzZXMpO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKHR5cGVvZiBuZXdDbGFzc2VzID09PSAnc3RyaW5nJykge1xuICAgICAgY29uc29sZS5lcnJvcihbXCJNYXRlcmlhbC1VSTogVGhlIHZhbHVlIGBcIi5jb25jYXQobmV3Q2xhc3NlcywgXCJgIFwiKSArIFwicHJvdmlkZWQgdG8gdGhlIGNsYXNzZXMgcHJvcCBvZiBcIi5jb25jYXQoZ2V0RGlzcGxheU5hbWUoQ29tcG9uZW50KSwgXCIgaXMgaW5jb3JyZWN0LlwiKSwgJ1lvdSBtaWdodCB3YW50IHRvIHVzZSB0aGUgY2xhc3NOYW1lIHByb3AgaW5zdGVhZC4nXS5qb2luKCdcXG4nKSk7XG4gICAgICByZXR1cm4gYmFzZUNsYXNzZXM7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMobmV3Q2xhc3NlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICghYmFzZUNsYXNzZXNba2V5XSAmJiBuZXdDbGFzc2VzW2tleV0pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihbXCJNYXRlcmlhbC1VSTogVGhlIGtleSBgXCIuY29uY2F0KGtleSwgXCJgIFwiKSArIFwicHJvdmlkZWQgdG8gdGhlIGNsYXNzZXMgcHJvcCBpcyBub3QgaW1wbGVtZW50ZWQgaW4gXCIuY29uY2F0KGdldERpc3BsYXlOYW1lKENvbXBvbmVudCksIFwiLlwiKSwgXCJZb3UgY2FuIG9ubHkgb3ZlcnJpZGUgb25lIG9mIHRoZSBmb2xsb3dpbmc6IFwiLmNvbmNhdChPYmplY3Qua2V5cyhiYXNlQ2xhc3Nlcykuam9pbignLCcpLCBcIi5cIildLmpvaW4oJ1xcbicpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5ld0NsYXNzZXNba2V5XSAmJiB0eXBlb2YgbmV3Q2xhc3Nlc1trZXldICE9PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKFtcIk1hdGVyaWFsLVVJOiBUaGUga2V5IGBcIi5jb25jYXQoa2V5LCBcImAgXCIpICsgXCJwcm92aWRlZCB0byB0aGUgY2xhc3NlcyBwcm9wIGlzIG5vdCB2YWxpZCBmb3IgXCIuY29uY2F0KGdldERpc3BsYXlOYW1lKENvbXBvbmVudCksIFwiLlwiKSwgXCJZb3UgbmVlZCB0byBwcm92aWRlIGEgbm9uIGVtcHR5IHN0cmluZyBpbnN0ZWFkIG9mOiBcIi5jb25jYXQobmV3Q2xhc3Nlc1trZXldLCBcIi5cIildLmpvaW4oJ1xcbicpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobmV3Q2xhc3Nlc1trZXldKSB7XG4gICAgICBuZXh0Q2xhc3Nlc1trZXldID0gXCJcIi5jb25jYXQoYmFzZUNsYXNzZXNba2V5XSwgXCIgXCIpLmNvbmNhdChuZXdDbGFzc2VzW2tleV0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBuZXh0Q2xhc3Nlcztcbn0iLCIvLyBVc2VkIGh0dHBzOi8vZ2l0aHViLmNvbS90aGlua2xvb3AvbXVsdGkta2V5LWNhY2hlIGFzIGluc3BpcmF0aW9uXG52YXIgbXVsdGlLZXlTdG9yZSA9IHtcbiAgc2V0OiBmdW5jdGlvbiBzZXQoY2FjaGUsIGtleTEsIGtleTIsIHZhbHVlKSB7XG4gICAgdmFyIHN1YkNhY2hlID0gY2FjaGUuZ2V0KGtleTEpO1xuXG4gICAgaWYgKCFzdWJDYWNoZSkge1xuICAgICAgc3ViQ2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgICBjYWNoZS5zZXQoa2V5MSwgc3ViQ2FjaGUpO1xuICAgIH1cblxuICAgIHN1YkNhY2hlLnNldChrZXkyLCB2YWx1ZSk7XG4gIH0sXG4gIGdldDogZnVuY3Rpb24gZ2V0KGNhY2hlLCBrZXkxLCBrZXkyKSB7XG4gICAgdmFyIHN1YkNhY2hlID0gY2FjaGUuZ2V0KGtleTEpO1xuICAgIHJldHVybiBzdWJDYWNoZSA/IHN1YkNhY2hlLmdldChrZXkyKSA6IHVuZGVmaW5lZDtcbiAgfSxcbiAgZGVsZXRlOiBmdW5jdGlvbiBfZGVsZXRlKGNhY2hlLCBrZXkxLCBrZXkyKSB7XG4gICAgdmFyIHN1YkNhY2hlID0gY2FjaGUuZ2V0KGtleTEpO1xuICAgIHN1YkNhY2hlLmRlbGV0ZShrZXkyKTtcbiAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IG11bHRpS2V5U3RvcmU7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbnZhciBUaGVtZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBUaGVtZUNvbnRleHQuZGlzcGxheU5hbWUgPSAnVGhlbWVDb250ZXh0Jztcbn1cblxuZXhwb3J0IGRlZmF1bHQgVGhlbWVDb250ZXh0OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgVGhlbWVDb250ZXh0IGZyb20gJy4vVGhlbWVDb250ZXh0JztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVRoZW1lKCkge1xuICB2YXIgdGhlbWUgPSBSZWFjdC51c2VDb250ZXh0KFRoZW1lQ29udGV4dCk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvcnVsZXMtb2YtaG9va3NcbiAgICBSZWFjdC51c2VEZWJ1Z1ZhbHVlKHRoZW1lKTtcbiAgfVxuXG4gIHJldHVybiB0aGVtZTtcbn0iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IGV4YWN0UHJvcCB9IGZyb20gJ0BtYXRlcmlhbC11aS91dGlscyc7XG5pbXBvcnQgY3JlYXRlR2VuZXJhdGVDbGFzc05hbWUgZnJvbSAnLi4vY3JlYXRlR2VuZXJhdGVDbGFzc05hbWUnO1xuaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSAnanNzJztcbmltcG9ydCBqc3NQcmVzZXQgZnJvbSAnLi4vanNzUHJlc2V0JzsgLy8gRGVmYXVsdCBKU1MgaW5zdGFuY2UuXG5cbnZhciBqc3MgPSBjcmVhdGUoanNzUHJlc2V0KCkpOyAvLyBVc2UgYSBzaW5nbGV0b24gb3IgdGhlIHByb3ZpZGVkIG9uZSBieSB0aGUgY29udGV4dC5cbi8vXG4vLyBUaGUgY291bnRlci1iYXNlZCBhcHByb2FjaCBkb2Vzbid0IHRvbGVyYXRlIGFueSBtaXN0YWtlLlxuLy8gSXQncyBtdWNoIHNhZmVyIHRvIHVzZSB0aGUgc2FtZSBjb3VudGVyIGV2ZXJ5d2hlcmUuXG5cbnZhciBnZW5lcmF0ZUNsYXNzTmFtZSA9IGNyZWF0ZUdlbmVyYXRlQ2xhc3NOYW1lKCk7IC8vIEV4cG9ydGVkIGZvciB0ZXN0IHB1cnBvc2VzXG5cbmV4cG9ydCB2YXIgc2hlZXRzTWFuYWdlciA9IG5ldyBNYXAoKTtcbnZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgZGlzYWJsZUdlbmVyYXRpb246IGZhbHNlLFxuICBnZW5lcmF0ZUNsYXNzTmFtZTogZ2VuZXJhdGVDbGFzc05hbWUsXG4gIGpzczoganNzLFxuICBzaGVldHNDYWNoZTogbnVsbCxcbiAgc2hlZXRzTWFuYWdlcjogc2hlZXRzTWFuYWdlcixcbiAgc2hlZXRzUmVnaXN0cnk6IG51bGxcbn07XG5leHBvcnQgdmFyIFN0eWxlc0NvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KGRlZmF1bHRPcHRpb25zKTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgU3R5bGVzQ29udGV4dC5kaXNwbGF5TmFtZSA9ICdTdHlsZXNDb250ZXh0Jztcbn1cblxudmFyIGluamVjdEZpcnN0Tm9kZTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFN0eWxlc1Byb3ZpZGVyKHByb3BzKSB7XG4gIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgX3Byb3BzJGluamVjdEZpcnN0ID0gcHJvcHMuaW5qZWN0Rmlyc3QsXG4gICAgICBpbmplY3RGaXJzdCA9IF9wcm9wcyRpbmplY3RGaXJzdCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkaW5qZWN0Rmlyc3QsXG4gICAgICBfcHJvcHMkZGlzYWJsZUdlbmVyYXQgPSBwcm9wcy5kaXNhYmxlR2VuZXJhdGlvbixcbiAgICAgIGRpc2FibGVHZW5lcmF0aW9uID0gX3Byb3BzJGRpc2FibGVHZW5lcmF0ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyRkaXNhYmxlR2VuZXJhdCxcbiAgICAgIGxvY2FsT3B0aW9ucyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgW1wiY2hpbGRyZW5cIiwgXCJpbmplY3RGaXJzdFwiLCBcImRpc2FibGVHZW5lcmF0aW9uXCJdKTtcblxuICB2YXIgb3V0ZXJPcHRpb25zID0gUmVhY3QudXNlQ29udGV4dChTdHlsZXNDb250ZXh0KTtcblxuICB2YXIgY29udGV4dCA9IF9leHRlbmRzKHt9LCBvdXRlck9wdGlvbnMsIHtcbiAgICBkaXNhYmxlR2VuZXJhdGlvbjogZGlzYWJsZUdlbmVyYXRpb25cbiAgfSwgbG9jYWxPcHRpb25zKTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyAmJiAhY29udGV4dC5zaGVldHNNYW5hZ2VyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdNYXRlcmlhbC1VSTogWW91IG5lZWQgdG8gdXNlIHRoZSBTZXJ2ZXJTdHlsZVNoZWV0cyBBUEkgd2hlbiByZW5kZXJpbmcgb24gdGhlIHNlcnZlci4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChjb250ZXh0Lmpzcy5vcHRpb25zLmluc2VydGlvblBvaW50ICYmIGluamVjdEZpcnN0KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdNYXRlcmlhbC1VSTogWW91IGNhbm5vdCB1c2UgYSBjdXN0b20gaW5zZXJ0aW9uUG9pbnQgYW5kIDxTdHlsZXNDb250ZXh0IGluamVjdEZpcnN0PiBhdCB0aGUgc2FtZSB0aW1lLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGluamVjdEZpcnN0ICYmIGxvY2FsT3B0aW9ucy5qc3MpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ01hdGVyaWFsLVVJOiBZb3UgY2Fubm90IHVzZSB0aGUganNzIGFuZCBpbmplY3RGaXJzdCBwcm9wcyBhdCB0aGUgc2FtZSB0aW1lLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghY29udGV4dC5qc3Mub3B0aW9ucy5pbnNlcnRpb25Qb2ludCAmJiBpbmplY3RGaXJzdCAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICghaW5qZWN0Rmlyc3ROb2RlKSB7XG4gICAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQ7XG4gICAgICBpbmplY3RGaXJzdE5vZGUgPSBkb2N1bWVudC5jcmVhdGVDb21tZW50KCdtdWktaW5qZWN0LWZpcnN0Jyk7XG4gICAgICBoZWFkLmluc2VydEJlZm9yZShpbmplY3RGaXJzdE5vZGUsIGhlYWQuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgY29udGV4dC5qc3MgPSBjcmVhdGUoe1xuICAgICAgcGx1Z2luczoganNzUHJlc2V0KCkucGx1Z2lucyxcbiAgICAgIGluc2VydGlvblBvaW50OiBpbmplY3RGaXJzdE5vZGVcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZXNDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGNvbnRleHRcbiAgfSwgY2hpbGRyZW4pO1xufVxucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gU3R5bGVzUHJvdmlkZXIucHJvcFR5cGVzID0ge1xuICAvKipcbiAgICogWW91ciBjb21wb25lbnQgdHJlZS5cbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBZb3UgY2FuIGRpc2FibGUgdGhlIGdlbmVyYXRpb24gb2YgdGhlIHN0eWxlcyB3aXRoIHRoaXMgb3B0aW9uLlxuICAgKiBJdCBjYW4gYmUgdXNlZnVsIHdoZW4gdHJhdmVyc2luZyB0aGUgUmVhY3QgdHJlZSBvdXRzaWRlIG9mIHRoZSBIVE1MXG4gICAqIHJlbmRlcmluZyBzdGVwIG9uIHRoZSBzZXJ2ZXIuXG4gICAqIExldCdzIHNheSB5b3UgYXJlIHVzaW5nIHJlYWN0LWFwb2xsbyB0byBleHRyYWN0IGFsbFxuICAgKiB0aGUgcXVlcmllcyBtYWRlIGJ5IHRoZSBpbnRlcmZhY2Ugc2VydmVyLXNpZGUgLSB5b3UgY2FuIHNpZ25pZmljYW50bHkgc3BlZWQgdXAgdGhlIHRyYXZlcnNhbCB3aXRoIHRoaXMgcHJvcC5cbiAgICovXG4gIGRpc2FibGVHZW5lcmF0aW9uOiBQcm9wVHlwZXMuYm9vbCxcblxuICAvKipcbiAgICogSlNTJ3MgY2xhc3MgbmFtZSBnZW5lcmF0b3IuXG4gICAqL1xuICBnZW5lcmF0ZUNsYXNzTmFtZTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIEJ5IGRlZmF1bHQsIHRoZSBzdHlsZXMgYXJlIGluamVjdGVkIGxhc3QgaW4gdGhlIDxoZWFkPiBlbGVtZW50IG9mIHRoZSBwYWdlLlxuICAgKiBBcyBhIHJlc3VsdCwgdGhleSBnYWluIG1vcmUgc3BlY2lmaWNpdHkgdGhhbiBhbnkgb3RoZXIgc3R5bGUgc2hlZXQuXG4gICAqIElmIHlvdSB3YW50IHRvIG92ZXJyaWRlIE1hdGVyaWFsLVVJJ3Mgc3R5bGVzLCBzZXQgdGhpcyBwcm9wLlxuICAgKi9cbiAgaW5qZWN0Rmlyc3Q6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBKU1MncyBpbnN0YW5jZS5cbiAgICovXG4gIGpzczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgc2VydmVyR2VuZXJhdGVDbGFzc05hbWU6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqXG4gICAqIEJldGEgZmVhdHVyZS5cbiAgICpcbiAgICogQ2FjaGUgZm9yIHRoZSBzaGVldHMuXG4gICAqL1xuICBzaGVldHNDYWNoZTogUHJvcFR5cGVzLm9iamVjdCxcblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKlxuICAgKiBUaGUgc2hlZXRzTWFuYWdlciBpcyB1c2VkIHRvIGRlZHVwbGljYXRlIHN0eWxlIHNoZWV0IGluamVjdGlvbiBpbiB0aGUgcGFnZS5cbiAgICogSXQncyBkZWR1cGxpY2F0aW5nIHVzaW5nIHRoZSAodGhlbWUsIHN0eWxlcykgY291cGxlLlxuICAgKiBPbiB0aGUgc2VydmVyLCB5b3Ugc2hvdWxkIHByb3ZpZGUgYSBuZXcgaW5zdGFuY2UgZm9yIGVhY2ggcmVxdWVzdC5cbiAgICovXG4gIHNoZWV0c01hbmFnZXI6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICpcbiAgICogQ29sbGVjdCB0aGUgc2hlZXRzLlxuICAgKi9cbiAgc2hlZXRzUmVnaXN0cnk6IFByb3BUeXBlcy5vYmplY3Rcbn0gOiB2b2lkIDA7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFN0eWxlc1Byb3ZpZGVyLnByb3BUeXBlcyA9IGV4YWN0UHJvcChTdHlsZXNQcm92aWRlci5wcm9wVHlwZXMpIDogdm9pZCAwO1xufSIsIi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9wcmVmZXItZGVmYXVsdC1leHBvcnQgKi9cbi8vIEdsb2JhbCBpbmRleCBjb3VudGVyIHRvIHByZXNlcnZlIHNvdXJjZSBvcmRlci5cbi8vIFdlIGNyZWF0ZSB0aGUgc3R5bGUgc2hlZXQgZHVyaW5nIHRoZSBjcmVhdGlvbiBvZiB0aGUgY29tcG9uZW50LFxuLy8gY2hpbGRyZW4gYXJlIGhhbmRsZWQgYWZ0ZXIgdGhlIHBhcmVudHMsIHNvIHRoZSBvcmRlciBvZiBzdHlsZSBlbGVtZW50cyB3b3VsZCBiZSBwYXJlbnQtPmNoaWxkLlxuLy8gSXQgaXMgYSBwcm9ibGVtIHRob3VnaCB3aGVuIGEgcGFyZW50IHBhc3NlcyBhIGNsYXNzTmFtZVxuLy8gd2hpY2ggbmVlZHMgdG8gb3ZlcnJpZGUgYW55IGNoaWxkJ3Mgc3R5bGVzLlxuLy8gU3R5bGVTaGVldCBvZiB0aGUgY2hpbGQgaGFzIGEgaGlnaGVyIHNwZWNpZmljaXR5LCBiZWNhdXNlIG9mIHRoZSBzb3VyY2Ugb3JkZXIuXG4vLyBTbyBvdXIgc29sdXRpb24gaXMgdG8gcmVuZGVyIHNoZWV0cyB0aGVtIGluIHRoZSByZXZlcnNlIG9yZGVyIGNoaWxkLT5zaGVldCwgc29cbi8vIHRoYXQgcGFyZW50IGhhcyBhIGhpZ2hlciBzcGVjaWZpY2l0eS5cbnZhciBpbmRleENvdW50ZXIgPSAtMWU5O1xuZXhwb3J0IGZ1bmN0aW9uIGluY3JlbWVudCgpIHtcbiAgaW5kZXhDb3VudGVyICs9IDE7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAoaW5kZXhDb3VudGVyID49IDApIHtcbiAgICAgIGNvbnNvbGUud2FybihbJ01hdGVyaWFsLVVJOiBZb3UgbWlnaHQgaGF2ZSBhIG1lbW9yeSBsZWFrLicsICdUaGUgaW5kZXhDb3VudGVyIGlzIG5vdCBzdXBwb3NlZCB0byBncm93IHRoYXQgbXVjaC4nXS5qb2luKCdcXG4nKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGluZGV4Q291bnRlcjtcbn0iLCIvLyBXZSB1c2UgdGhlIHNhbWUgZW1wdHkgb2JqZWN0IHRvIHJlZiBjb3VudCB0aGUgc3R5bGVzIHRoYXQgZG9uJ3QgbmVlZCBhIHRoZW1lIG9iamVjdC5cbnZhciBub29wVGhlbWUgPSB7fTtcbmV4cG9ydCBkZWZhdWx0IG5vb3BUaGVtZTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfdHlwZW9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2ZcIjtcbmltcG9ydCB7IGRlZXBtZXJnZSB9IGZyb20gJ0BtYXRlcmlhbC11aS91dGlscyc7XG5pbXBvcnQgbm9vcFRoZW1lIGZyb20gJy4vbm9vcFRoZW1lJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFN0eWxlc0NyZWF0b3Ioc3R5bGVzT3JDcmVhdG9yKSB7XG4gIHZhciB0aGVtaW5nRW5hYmxlZCA9IHR5cGVvZiBzdHlsZXNPckNyZWF0b3IgPT09ICdmdW5jdGlvbic7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAoX3R5cGVvZihzdHlsZXNPckNyZWF0b3IpICE9PSAnb2JqZWN0JyAmJiAhdGhlbWluZ0VuYWJsZWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoWydNYXRlcmlhbC1VSTogVGhlIGBzdHlsZXNgIGFyZ3VtZW50IHByb3ZpZGVkIGlzIGludmFsaWQuJywgJ1lvdSBuZWVkIHRvIHByb3ZpZGUgYSBmdW5jdGlvbiBnZW5lcmF0aW5nIHRoZSBzdHlsZXMgb3IgYSBzdHlsZXMgb2JqZWN0LiddLmpvaW4oJ1xcbicpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKHRoZW1lLCBuYW1lKSB7XG4gICAgICB2YXIgc3R5bGVzO1xuXG4gICAgICB0cnkge1xuICAgICAgICBzdHlsZXMgPSB0aGVtaW5nRW5hYmxlZCA/IHN0eWxlc09yQ3JlYXRvcih0aGVtZSkgOiBzdHlsZXNPckNyZWF0b3I7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBpZiAodGhlbWluZ0VuYWJsZWQgPT09IHRydWUgJiYgdGhlbWUgPT09IG5vb3BUaGVtZSkge1xuICAgICAgICAgICAgLy8gVE9ETzogcHJlcGVuZCBlcnJvciBtZXNzYWdlL25hbWUgaW5zdGVhZFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihbJ01hdGVyaWFsLVVJOiBUaGUgYHN0eWxlc2AgYXJndW1lbnQgcHJvdmlkZWQgaXMgaW52YWxpZC4nLCAnWW91IGFyZSBwcm92aWRpbmcgYSBmdW5jdGlvbiB3aXRob3V0IGEgdGhlbWUgaW4gdGhlIGNvbnRleHQuJywgJ09uZSBvZiB0aGUgcGFyZW50IGVsZW1lbnRzIG5lZWRzIHRvIHVzZSBhIFRoZW1lUHJvdmlkZXIuJ10uam9pbignXFxuJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFuYW1lIHx8ICF0aGVtZS5vdmVycmlkZXMgfHwgIXRoZW1lLm92ZXJyaWRlc1tuYW1lXSkge1xuICAgICAgICByZXR1cm4gc3R5bGVzO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3ZlcnJpZGVzID0gdGhlbWUub3ZlcnJpZGVzW25hbWVdO1xuXG4gICAgICB2YXIgc3R5bGVzV2l0aE92ZXJyaWRlcyA9IF9leHRlbmRzKHt9LCBzdHlsZXMpO1xuXG4gICAgICBPYmplY3Qua2V5cyhvdmVycmlkZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmICghc3R5bGVzV2l0aE92ZXJyaWRlc1trZXldKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oWydNYXRlcmlhbC1VSTogWW91IGFyZSB0cnlpbmcgdG8gb3ZlcnJpZGUgYSBzdHlsZSB0aGF0IGRvZXMgbm90IGV4aXN0LicsIFwiRml4IHRoZSBgXCIuY29uY2F0KGtleSwgXCJgIGtleSBvZiBgdGhlbWUub3ZlcnJpZGVzLlwiKS5jb25jYXQobmFtZSwgXCJgLlwiKV0uam9pbignXFxuJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN0eWxlc1dpdGhPdmVycmlkZXNba2V5XSA9IGRlZXBtZXJnZShzdHlsZXNXaXRoT3ZlcnJpZGVzW2tleV0sIG92ZXJyaWRlc1trZXldKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHN0eWxlc1dpdGhPdmVycmlkZXM7XG4gICAgfSxcbiAgICBvcHRpb25zOiB7fVxuICB9O1xufSIsImltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBnZXREeW5hbWljU3R5bGVzIH0gZnJvbSAnanNzJztcbmltcG9ydCBtZXJnZUNsYXNzZXMgZnJvbSAnLi4vbWVyZ2VDbGFzc2VzJztcbmltcG9ydCBtdWx0aUtleVN0b3JlIGZyb20gJy4vbXVsdGlLZXlTdG9yZSc7XG5pbXBvcnQgdXNlVGhlbWUgZnJvbSAnLi4vdXNlVGhlbWUnO1xuaW1wb3J0IHsgU3R5bGVzQ29udGV4dCB9IGZyb20gJy4uL1N0eWxlc1Byb3ZpZGVyJztcbmltcG9ydCB7IGluY3JlbWVudCB9IGZyb20gJy4vaW5kZXhDb3VudGVyJztcbmltcG9ydCBnZXRTdHlsZXNDcmVhdG9yIGZyb20gJy4uL2dldFN0eWxlc0NyZWF0b3InO1xuaW1wb3J0IG5vb3BUaGVtZSBmcm9tICcuLi9nZXRTdHlsZXNDcmVhdG9yL25vb3BUaGVtZSc7XG5cbmZ1bmN0aW9uIGdldENsYXNzZXMoX3JlZiwgY2xhc3NlcywgQ29tcG9uZW50KSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsXG4gICAgICBzdHlsZXNPcHRpb25zID0gX3JlZi5zdHlsZXNPcHRpb25zO1xuXG4gIGlmIChzdHlsZXNPcHRpb25zLmRpc2FibGVHZW5lcmF0aW9uKSB7XG4gICAgcmV0dXJuIGNsYXNzZXMgfHwge307XG4gIH1cblxuICBpZiAoIXN0YXRlLmNhY2hlQ2xhc3Nlcykge1xuICAgIHN0YXRlLmNhY2hlQ2xhc3NlcyA9IHtcbiAgICAgIC8vIENhY2hlIGZvciB0aGUgZmluYWxpemVkIGNsYXNzZXMgdmFsdWUuXG4gICAgICB2YWx1ZTogbnVsbCxcbiAgICAgIC8vIENhY2hlIGZvciB0aGUgbGFzdCB1c2VkIGNsYXNzZXMgcHJvcCBwb2ludGVyLlxuICAgICAgbGFzdFByb3A6IG51bGwsXG4gICAgICAvLyBDYWNoZSBmb3IgdGhlIGxhc3QgdXNlZCByZW5kZXJlZCBjbGFzc2VzIHBvaW50ZXIuXG4gICAgICBsYXN0SlNTOiB7fVxuICAgIH07XG4gIH0gLy8gVHJhY2tzIGlmIGVpdGhlciB0aGUgcmVuZGVyZWQgY2xhc3NlcyBvciBjbGFzc2VzIHByb3AgaGFzIGNoYW5nZWQsXG4gIC8vIHJlcXVpcmluZyB0aGUgZ2VuZXJhdGlvbiBvZiBhIG5ldyBmaW5hbGl6ZWQgY2xhc3NlcyBvYmplY3QuXG5cblxuICB2YXIgZ2VuZXJhdGUgPSBmYWxzZTtcblxuICBpZiAoc3RhdGUuY2xhc3NlcyAhPT0gc3RhdGUuY2FjaGVDbGFzc2VzLmxhc3RKU1MpIHtcbiAgICBzdGF0ZS5jYWNoZUNsYXNzZXMubGFzdEpTUyA9IHN0YXRlLmNsYXNzZXM7XG4gICAgZ2VuZXJhdGUgPSB0cnVlO1xuICB9XG5cbiAgaWYgKGNsYXNzZXMgIT09IHN0YXRlLmNhY2hlQ2xhc3Nlcy5sYXN0UHJvcCkge1xuICAgIHN0YXRlLmNhY2hlQ2xhc3Nlcy5sYXN0UHJvcCA9IGNsYXNzZXM7XG4gICAgZ2VuZXJhdGUgPSB0cnVlO1xuICB9XG5cbiAgaWYgKGdlbmVyYXRlKSB7XG4gICAgc3RhdGUuY2FjaGVDbGFzc2VzLnZhbHVlID0gbWVyZ2VDbGFzc2VzKHtcbiAgICAgIGJhc2VDbGFzc2VzOiBzdGF0ZS5jYWNoZUNsYXNzZXMubGFzdEpTUyxcbiAgICAgIG5ld0NsYXNzZXM6IGNsYXNzZXMsXG4gICAgICBDb21wb25lbnQ6IENvbXBvbmVudFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlLmNhY2hlQ2xhc3Nlcy52YWx1ZTtcbn1cblxuZnVuY3Rpb24gYXR0YWNoKF9yZWYyLCBwcm9wcykge1xuICB2YXIgc3RhdGUgPSBfcmVmMi5zdGF0ZSxcbiAgICAgIHRoZW1lID0gX3JlZjIudGhlbWUsXG4gICAgICBzdHlsZXNPcHRpb25zID0gX3JlZjIuc3R5bGVzT3B0aW9ucyxcbiAgICAgIHN0eWxlc0NyZWF0b3IgPSBfcmVmMi5zdHlsZXNDcmVhdG9yLFxuICAgICAgbmFtZSA9IF9yZWYyLm5hbWU7XG5cbiAgaWYgKHN0eWxlc09wdGlvbnMuZGlzYWJsZUdlbmVyYXRpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgc2hlZXRNYW5hZ2VyID0gbXVsdGlLZXlTdG9yZS5nZXQoc3R5bGVzT3B0aW9ucy5zaGVldHNNYW5hZ2VyLCBzdHlsZXNDcmVhdG9yLCB0aGVtZSk7XG5cbiAgaWYgKCFzaGVldE1hbmFnZXIpIHtcbiAgICBzaGVldE1hbmFnZXIgPSB7XG4gICAgICByZWZzOiAwLFxuICAgICAgc3RhdGljU2hlZXQ6IG51bGwsXG4gICAgICBkeW5hbWljU3R5bGVzOiBudWxsXG4gICAgfTtcbiAgICBtdWx0aUtleVN0b3JlLnNldChzdHlsZXNPcHRpb25zLnNoZWV0c01hbmFnZXIsIHN0eWxlc0NyZWF0b3IsIHRoZW1lLCBzaGVldE1hbmFnZXIpO1xuICB9XG5cbiAgdmFyIG9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgc3R5bGVzQ3JlYXRvci5vcHRpb25zLCBzdHlsZXNPcHRpb25zLCB7XG4gICAgdGhlbWU6IHRoZW1lLFxuICAgIGZsaXA6IHR5cGVvZiBzdHlsZXNPcHRpb25zLmZsaXAgPT09ICdib29sZWFuJyA/IHN0eWxlc09wdGlvbnMuZmxpcCA6IHRoZW1lLmRpcmVjdGlvbiA9PT0gJ3J0bCdcbiAgfSk7XG5cbiAgb3B0aW9ucy5nZW5lcmF0ZUlkID0gb3B0aW9ucy5zZXJ2ZXJHZW5lcmF0ZUNsYXNzTmFtZSB8fCBvcHRpb25zLmdlbmVyYXRlQ2xhc3NOYW1lO1xuICB2YXIgc2hlZXRzUmVnaXN0cnkgPSBzdHlsZXNPcHRpb25zLnNoZWV0c1JlZ2lzdHJ5O1xuXG4gIGlmIChzaGVldE1hbmFnZXIucmVmcyA9PT0gMCkge1xuICAgIHZhciBzdGF0aWNTaGVldDtcblxuICAgIGlmIChzdHlsZXNPcHRpb25zLnNoZWV0c0NhY2hlKSB7XG4gICAgICBzdGF0aWNTaGVldCA9IG11bHRpS2V5U3RvcmUuZ2V0KHN0eWxlc09wdGlvbnMuc2hlZXRzQ2FjaGUsIHN0eWxlc0NyZWF0b3IsIHRoZW1lKTtcbiAgICB9XG5cbiAgICB2YXIgc3R5bGVzID0gc3R5bGVzQ3JlYXRvci5jcmVhdGUodGhlbWUsIG5hbWUpO1xuXG4gICAgaWYgKCFzdGF0aWNTaGVldCkge1xuICAgICAgc3RhdGljU2hlZXQgPSBzdHlsZXNPcHRpb25zLmpzcy5jcmVhdGVTdHlsZVNoZWV0KHN0eWxlcywgX2V4dGVuZHMoe1xuICAgICAgICBsaW5rOiBmYWxzZVxuICAgICAgfSwgb3B0aW9ucykpO1xuICAgICAgc3RhdGljU2hlZXQuYXR0YWNoKCk7XG5cbiAgICAgIGlmIChzdHlsZXNPcHRpb25zLnNoZWV0c0NhY2hlKSB7XG4gICAgICAgIG11bHRpS2V5U3RvcmUuc2V0KHN0eWxlc09wdGlvbnMuc2hlZXRzQ2FjaGUsIHN0eWxlc0NyZWF0b3IsIHRoZW1lLCBzdGF0aWNTaGVldCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNoZWV0c1JlZ2lzdHJ5KSB7XG4gICAgICBzaGVldHNSZWdpc3RyeS5hZGQoc3RhdGljU2hlZXQpO1xuICAgIH1cblxuICAgIHNoZWV0TWFuYWdlci5zdGF0aWNTaGVldCA9IHN0YXRpY1NoZWV0O1xuICAgIHNoZWV0TWFuYWdlci5keW5hbWljU3R5bGVzID0gZ2V0RHluYW1pY1N0eWxlcyhzdHlsZXMpO1xuICB9XG5cbiAgaWYgKHNoZWV0TWFuYWdlci5keW5hbWljU3R5bGVzKSB7XG4gICAgdmFyIGR5bmFtaWNTaGVldCA9IHN0eWxlc09wdGlvbnMuanNzLmNyZWF0ZVN0eWxlU2hlZXQoc2hlZXRNYW5hZ2VyLmR5bmFtaWNTdHlsZXMsIF9leHRlbmRzKHtcbiAgICAgIGxpbms6IHRydWVcbiAgICB9LCBvcHRpb25zKSk7XG4gICAgZHluYW1pY1NoZWV0LnVwZGF0ZShwcm9wcyk7XG4gICAgZHluYW1pY1NoZWV0LmF0dGFjaCgpO1xuICAgIHN0YXRlLmR5bmFtaWNTaGVldCA9IGR5bmFtaWNTaGVldDtcbiAgICBzdGF0ZS5jbGFzc2VzID0gbWVyZ2VDbGFzc2VzKHtcbiAgICAgIGJhc2VDbGFzc2VzOiBzaGVldE1hbmFnZXIuc3RhdGljU2hlZXQuY2xhc3NlcyxcbiAgICAgIG5ld0NsYXNzZXM6IGR5bmFtaWNTaGVldC5jbGFzc2VzXG4gICAgfSk7XG5cbiAgICBpZiAoc2hlZXRzUmVnaXN0cnkpIHtcbiAgICAgIHNoZWV0c1JlZ2lzdHJ5LmFkZChkeW5hbWljU2hlZXQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzdGF0ZS5jbGFzc2VzID0gc2hlZXRNYW5hZ2VyLnN0YXRpY1NoZWV0LmNsYXNzZXM7XG4gIH1cblxuICBzaGVldE1hbmFnZXIucmVmcyArPSAxO1xufVxuXG5mdW5jdGlvbiB1cGRhdGUoX3JlZjMsIHByb3BzKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYzLnN0YXRlO1xuXG4gIGlmIChzdGF0ZS5keW5hbWljU2hlZXQpIHtcbiAgICBzdGF0ZS5keW5hbWljU2hlZXQudXBkYXRlKHByb3BzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkZXRhY2goX3JlZjQpIHtcbiAgdmFyIHN0YXRlID0gX3JlZjQuc3RhdGUsXG4gICAgICB0aGVtZSA9IF9yZWY0LnRoZW1lLFxuICAgICAgc3R5bGVzT3B0aW9ucyA9IF9yZWY0LnN0eWxlc09wdGlvbnMsXG4gICAgICBzdHlsZXNDcmVhdG9yID0gX3JlZjQuc3R5bGVzQ3JlYXRvcjtcblxuICBpZiAoc3R5bGVzT3B0aW9ucy5kaXNhYmxlR2VuZXJhdGlvbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBzaGVldE1hbmFnZXIgPSBtdWx0aUtleVN0b3JlLmdldChzdHlsZXNPcHRpb25zLnNoZWV0c01hbmFnZXIsIHN0eWxlc0NyZWF0b3IsIHRoZW1lKTtcbiAgc2hlZXRNYW5hZ2VyLnJlZnMgLT0gMTtcbiAgdmFyIHNoZWV0c1JlZ2lzdHJ5ID0gc3R5bGVzT3B0aW9ucy5zaGVldHNSZWdpc3RyeTtcblxuICBpZiAoc2hlZXRNYW5hZ2VyLnJlZnMgPT09IDApIHtcbiAgICBtdWx0aUtleVN0b3JlLmRlbGV0ZShzdHlsZXNPcHRpb25zLnNoZWV0c01hbmFnZXIsIHN0eWxlc0NyZWF0b3IsIHRoZW1lKTtcbiAgICBzdHlsZXNPcHRpb25zLmpzcy5yZW1vdmVTdHlsZVNoZWV0KHNoZWV0TWFuYWdlci5zdGF0aWNTaGVldCk7XG5cbiAgICBpZiAoc2hlZXRzUmVnaXN0cnkpIHtcbiAgICAgIHNoZWV0c1JlZ2lzdHJ5LnJlbW92ZShzaGVldE1hbmFnZXIuc3RhdGljU2hlZXQpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChzdGF0ZS5keW5hbWljU2hlZXQpIHtcbiAgICBzdHlsZXNPcHRpb25zLmpzcy5yZW1vdmVTdHlsZVNoZWV0KHN0YXRlLmR5bmFtaWNTaGVldCk7XG5cbiAgICBpZiAoc2hlZXRzUmVnaXN0cnkpIHtcbiAgICAgIHNoZWV0c1JlZ2lzdHJ5LnJlbW92ZShzdGF0ZS5keW5hbWljU2hlZXQpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VTeW5jaHJvbm91c0VmZmVjdChmdW5jLCB2YWx1ZXMpIHtcbiAgdmFyIGtleSA9IFJlYWN0LnVzZVJlZihbXSk7XG4gIHZhciBvdXRwdXQ7IC8vIFN0b3JlIFwiZ2VuZXJhdGlvblwiIGtleS4gSnVzdCByZXR1cm5zIGEgbmV3IG9iamVjdCBldmVyeSB0aW1lXG5cbiAgdmFyIGN1cnJlbnRLZXkgPSBSZWFjdC51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge307XG4gIH0sIHZhbHVlcyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIC8vIFwidGhlIGZpcnN0IHJlbmRlclwiLCBvciBcIm1lbW8gZHJvcHBlZCB0aGUgdmFsdWVcIlxuXG4gIGlmIChrZXkuY3VycmVudCAhPT0gY3VycmVudEtleSkge1xuICAgIGtleS5jdXJyZW50ID0gY3VycmVudEtleTtcbiAgICBvdXRwdXQgPSBmdW5jKCk7XG4gIH1cblxuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAob3V0cHV0KSB7XG4gICAgICAgIG91dHB1dCgpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtjdXJyZW50S2V5XSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYWtlU3R5bGVzKHN0eWxlc09yQ3JlYXRvcikge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgdmFyIG5hbWUgPSBvcHRpb25zLm5hbWUsXG4gICAgICBjbGFzc05hbWVQcmVmaXhPcHRpb24gPSBvcHRpb25zLmNsYXNzTmFtZVByZWZpeCxcbiAgICAgIENvbXBvbmVudCA9IG9wdGlvbnMuQ29tcG9uZW50LFxuICAgICAgX29wdGlvbnMkZGVmYXVsdFRoZW1lID0gb3B0aW9ucy5kZWZhdWx0VGhlbWUsXG4gICAgICBkZWZhdWx0VGhlbWUgPSBfb3B0aW9ucyRkZWZhdWx0VGhlbWUgPT09IHZvaWQgMCA/IG5vb3BUaGVtZSA6IF9vcHRpb25zJGRlZmF1bHRUaGVtZSxcbiAgICAgIHN0eWxlc09wdGlvbnMyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9wdGlvbnMsIFtcIm5hbWVcIiwgXCJjbGFzc05hbWVQcmVmaXhcIiwgXCJDb21wb25lbnRcIiwgXCJkZWZhdWx0VGhlbWVcIl0pO1xuXG4gIHZhciBzdHlsZXNDcmVhdG9yID0gZ2V0U3R5bGVzQ3JlYXRvcihzdHlsZXNPckNyZWF0b3IpO1xuICB2YXIgY2xhc3NOYW1lUHJlZml4ID0gbmFtZSB8fCBjbGFzc05hbWVQcmVmaXhPcHRpb24gfHwgJ21ha2VTdHlsZXMnO1xuICBzdHlsZXNDcmVhdG9yLm9wdGlvbnMgPSB7XG4gICAgaW5kZXg6IGluY3JlbWVudCgpLFxuICAgIG5hbWU6IG5hbWUsXG4gICAgbWV0YTogY2xhc3NOYW1lUHJlZml4LFxuICAgIGNsYXNzTmFtZVByZWZpeDogY2xhc3NOYW1lUHJlZml4XG4gIH07XG5cbiAgdmFyIHVzZVN0eWxlcyA9IGZ1bmN0aW9uIHVzZVN0eWxlcygpIHtcbiAgICB2YXIgcHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIHZhciB0aGVtZSA9IHVzZVRoZW1lKCkgfHwgZGVmYXVsdFRoZW1lO1xuXG4gICAgdmFyIHN0eWxlc09wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgUmVhY3QudXNlQ29udGV4dChTdHlsZXNDb250ZXh0KSwgc3R5bGVzT3B0aW9uczIpO1xuXG4gICAgdmFyIGluc3RhbmNlID0gUmVhY3QudXNlUmVmKCk7XG4gICAgdmFyIHNob3VsZFVwZGF0ZSA9IFJlYWN0LnVzZVJlZigpO1xuICAgIHVzZVN5bmNocm9ub3VzRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjdXJyZW50ID0ge1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBzdGF0ZToge30sXG4gICAgICAgIHN0eWxlc0NyZWF0b3I6IHN0eWxlc0NyZWF0b3IsXG4gICAgICAgIHN0eWxlc09wdGlvbnM6IHN0eWxlc09wdGlvbnMsXG4gICAgICAgIHRoZW1lOiB0aGVtZVxuICAgICAgfTtcbiAgICAgIGF0dGFjaChjdXJyZW50LCBwcm9wcyk7XG4gICAgICBzaG91bGRVcGRhdGUuY3VycmVudCA9IGZhbHNlO1xuICAgICAgaW5zdGFuY2UuY3VycmVudCA9IGN1cnJlbnQ7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBkZXRhY2goY3VycmVudCk7XG4gICAgICB9O1xuICAgIH0sIFt0aGVtZSwgc3R5bGVzQ3JlYXRvcl0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2hvdWxkVXBkYXRlLmN1cnJlbnQpIHtcbiAgICAgICAgdXBkYXRlKGluc3RhbmNlLmN1cnJlbnQsIHByb3BzKTtcbiAgICAgIH1cblxuICAgICAgc2hvdWxkVXBkYXRlLmN1cnJlbnQgPSB0cnVlO1xuICAgIH0pO1xuICAgIHZhciBjbGFzc2VzID0gZ2V0Q2xhc3NlcyhpbnN0YW5jZS5jdXJyZW50LCBwcm9wcy5jbGFzc2VzLCBDb21wb25lbnQpO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9ydWxlcy1vZi1ob29rc1xuICAgICAgUmVhY3QudXNlRGVidWdWYWx1ZShjbGFzc2VzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xhc3NlcztcbiAgfTtcblxuICByZXR1cm4gdXNlU3R5bGVzO1xufSIsImZ1bmN0aW9uIHRvVmFsKG1peCkge1xuXHR2YXIgaywgeSwgc3RyPScnO1xuXG5cdGlmICh0eXBlb2YgbWl4ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgbWl4ID09PSAnbnVtYmVyJykge1xuXHRcdHN0ciArPSBtaXg7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG1peCA9PT0gJ29iamVjdCcpIHtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShtaXgpKSB7XG5cdFx0XHRmb3IgKGs9MDsgayA8IG1peC5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRpZiAobWl4W2tdKSB7XG5cdFx0XHRcdFx0aWYgKHkgPSB0b1ZhbChtaXhba10pKSB7XG5cdFx0XHRcdFx0XHRzdHIgJiYgKHN0ciArPSAnICcpO1xuXHRcdFx0XHRcdFx0c3RyICs9IHk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoayBpbiBtaXgpIHtcblx0XHRcdFx0aWYgKG1peFtrXSkge1xuXHRcdFx0XHRcdHN0ciAmJiAoc3RyICs9ICcgJyk7XG5cdFx0XHRcdFx0c3RyICs9IGs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gc3RyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG5cdHZhciBpPTAsIHRtcCwgeCwgc3RyPScnO1xuXHR3aGlsZSAoaSA8IGFyZ3VtZW50cy5sZW5ndGgpIHtcblx0XHRpZiAodG1wID0gYXJndW1lbnRzW2krK10pIHtcblx0XHRcdGlmICh4ID0gdG9WYWwodG1wKSkge1xuXHRcdFx0XHRzdHIgJiYgKHN0ciArPSAnICcpO1xuXHRcdFx0XHRzdHIgKz0geFxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gc3RyO1xufVxuIiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc1wiO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgaG9pc3ROb25SZWFjdFN0YXRpY3MgZnJvbSAnaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MnO1xuaW1wb3J0IHsgY2hhaW5Qcm9wVHlwZXMsIGdldERpc3BsYXlOYW1lIH0gZnJvbSAnQG1hdGVyaWFsLXVpL3V0aWxzJztcbmltcG9ydCBtYWtlU3R5bGVzIGZyb20gJy4uL21ha2VTdHlsZXMnO1xuaW1wb3J0IGdldFRoZW1lUHJvcHMgZnJvbSAnLi4vZ2V0VGhlbWVQcm9wcyc7XG5pbXBvcnQgdXNlVGhlbWUgZnJvbSAnLi4vdXNlVGhlbWUnOyAvLyBMaW5rIGEgc3R5bGUgc2hlZXQgd2l0aCBhIGNvbXBvbmVudC5cbi8vIEl0IGRvZXMgbm90IG1vZGlmeSB0aGUgY29tcG9uZW50IHBhc3NlZCB0byBpdDtcbi8vIGluc3RlYWQsIGl0IHJldHVybnMgYSBuZXcgY29tcG9uZW50LCB3aXRoIGEgYGNsYXNzZXNgIHByb3BlcnR5LlxuXG52YXIgd2l0aFN0eWxlcyA9IGZ1bmN0aW9uIHdpdGhTdHlsZXMoc3R5bGVzT3JDcmVhdG9yKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChDb21wb25lbnQpIHtcbiAgICB2YXIgZGVmYXVsdFRoZW1lID0gb3B0aW9ucy5kZWZhdWx0VGhlbWUsXG4gICAgICAgIF9vcHRpb25zJHdpdGhUaGVtZSA9IG9wdGlvbnMud2l0aFRoZW1lLFxuICAgICAgICB3aXRoVGhlbWUgPSBfb3B0aW9ucyR3aXRoVGhlbWUgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkd2l0aFRoZW1lLFxuICAgICAgICBuYW1lID0gb3B0aW9ucy5uYW1lLFxuICAgICAgICBzdHlsZXNPcHRpb25zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9wdGlvbnMsIFtcImRlZmF1bHRUaGVtZVwiLCBcIndpdGhUaGVtZVwiLCBcIm5hbWVcIl0pO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmIChDb21wb25lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoWydZb3UgYXJlIGNhbGxpbmcgd2l0aFN0eWxlcyhzdHlsZXMpKENvbXBvbmVudCkgd2l0aCBhbiB1bmRlZmluZWQgY29tcG9uZW50LicsICdZb3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIGltcG9ydCBpdC4nXS5qb2luKCdcXG4nKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGNsYXNzTmFtZVByZWZpeCA9IG5hbWU7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgIC8vIFByb3ZpZGUgYSBiZXR0ZXIgRFggb3V0c2lkZSBwcm9kdWN0aW9uLlxuICAgICAgICB2YXIgZGlzcGxheU5hbWUgPSBnZXREaXNwbGF5TmFtZShDb21wb25lbnQpO1xuXG4gICAgICAgIGlmIChkaXNwbGF5TmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY2xhc3NOYW1lUHJlZml4ID0gZGlzcGxheU5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyhzdHlsZXNPckNyZWF0b3IsIF9leHRlbmRzKHtcbiAgICAgIGRlZmF1bHRUaGVtZTogZGVmYXVsdFRoZW1lLFxuICAgICAgQ29tcG9uZW50OiBDb21wb25lbnQsXG4gICAgICBuYW1lOiBuYW1lIHx8IENvbXBvbmVudC5kaXNwbGF5TmFtZSxcbiAgICAgIGNsYXNzTmFtZVByZWZpeDogY2xhc3NOYW1lUHJlZml4XG4gICAgfSwgc3R5bGVzT3B0aW9ucykpO1xuICAgIHZhciBXaXRoU3R5bGVzID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gV2l0aFN0eWxlcyhwcm9wcywgcmVmKSB7XG4gICAgICB2YXIgY2xhc3Nlc1Byb3AgPSBwcm9wcy5jbGFzc2VzLFxuICAgICAgICAgIGlubmVyUmVmID0gcHJvcHMuaW5uZXJSZWYsXG4gICAgICAgICAgb3RoZXIgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocHJvcHMsIFtcImNsYXNzZXNcIiwgXCJpbm5lclJlZlwiXSk7IC8vIFRoZSB3cmFwcGVyIHJlY2VpdmVzIG9ubHkgdXNlciBzdXBwbGllZCBwcm9wcywgd2hpY2ggY291bGQgYmUgYSBzdWJzZXQgb2ZcbiAgICAgIC8vIHRoZSBhY3R1YWwgcHJvcHMgQ29tcG9uZW50IG1pZ2h0IHJlY2VpdmUgZHVlIHRvIG1lcmdpbmcgd2l0aCBkZWZhdWx0UHJvcHMuXG4gICAgICAvLyBTbyBjb3B5aW5nIGl0IGhlcmUgd291bGQgZ2l2ZSB1cyB0aGUgc2FtZSByZXN1bHQgaW4gdGhlIHdyYXBwZXIgYXMgd2VsbC5cblxuXG4gICAgICB2YXIgY2xhc3NlcyA9IHVzZVN0eWxlcyhfZXh0ZW5kcyh7fSwgQ29tcG9uZW50LmRlZmF1bHRQcm9wcywgcHJvcHMpKTtcbiAgICAgIHZhciB0aGVtZTtcbiAgICAgIHZhciBtb3JlID0gb3RoZXI7XG5cbiAgICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgfHwgd2l0aFRoZW1lKSB7XG4gICAgICAgIC8vIG5hbWUgYW5kIHdpdGhUaGVtZSBhcmUgaW52YXJpYW50IGluIHRoZSBvdXRlciBzY29wZVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvcnVsZXMtb2YtaG9va3NcbiAgICAgICAgdGhlbWUgPSB1c2VUaGVtZSgpIHx8IGRlZmF1bHRUaGVtZTtcblxuICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgIG1vcmUgPSBnZXRUaGVtZVByb3BzKHtcbiAgICAgICAgICAgIHRoZW1lOiB0aGVtZSxcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBwcm9wczogb3RoZXJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSAvLyBQcm92aWRlIHRoZSB0aGVtZSB0byB0aGUgd3JhcHBlZCBjb21wb25lbnQuXG4gICAgICAgIC8vIFNvIHdlIGRvbid0IGhhdmUgdG8gdXNlIHRoZSBgd2l0aFRoZW1lKClgIEhpZ2hlci1vcmRlciBDb21wb25lbnQuXG5cblxuICAgICAgICBpZiAod2l0aFRoZW1lICYmICFtb3JlLnRoZW1lKSB7XG4gICAgICAgICAgbW9yZS50aGVtZSA9IHRoZW1lO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIF9leHRlbmRzKHtcbiAgICAgICAgcmVmOiBpbm5lclJlZiB8fCByZWYsXG4gICAgICAgIGNsYXNzZXM6IGNsYXNzZXNcbiAgICAgIH0sIG1vcmUpKTtcbiAgICB9KTtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBXaXRoU3R5bGVzLnByb3BUeXBlcyA9IHtcbiAgICAgIC8qKlxuICAgICAgICogT3ZlcnJpZGUgb3IgZXh0ZW5kIHRoZSBzdHlsZXMgYXBwbGllZCB0byB0aGUgY29tcG9uZW50LlxuICAgICAgICovXG4gICAgICBjbGFzc2VzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZSB0aGF0IHByb3AgdG8gcGFzcyBhIHJlZiB0byB0aGUgZGVjb3JhdGVkIGNvbXBvbmVudC5cbiAgICAgICAqIEBkZXByZWNhdGVkXG4gICAgICAgKi9cbiAgICAgIGlubmVyUmVmOiBjaGFpblByb3BUeXBlcyhQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuZnVuYywgUHJvcFR5cGVzLm9iamVjdF0pLCBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgaWYgKHByb3BzLmlubmVyUmVmID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsOyAvLyByZXR1cm4gbmV3IEVycm9yKFxuICAgICAgICAvLyAgICdNYXRlcmlhbC1VSTogVGhlIGBpbm5lclJlZmAgcHJvcCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdjUuICcgK1xuICAgICAgICAvLyAgICAgJ1JlZnMgYXJlIG5vdyBhdXRvbWF0aWNhbGx5IGZvcndhcmRlZCB0byB0aGUgaW5uZXIgY29tcG9uZW50LicsXG4gICAgICAgIC8vICk7XG4gICAgICB9KVxuICAgIH0gOiB2b2lkIDA7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgV2l0aFN0eWxlcy5kaXNwbGF5TmFtZSA9IFwiV2l0aFN0eWxlcyhcIi5jb25jYXQoZ2V0RGlzcGxheU5hbWUoQ29tcG9uZW50KSwgXCIpXCIpO1xuICAgIH1cblxuICAgIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKFdpdGhTdHlsZXMsIENvbXBvbmVudCk7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgLy8gRXhwb3NlZCBmb3IgdGVzdCBwdXJwb3Nlcy5cbiAgICAgIFdpdGhTdHlsZXMuTmFrZWQgPSBDb21wb25lbnQ7XG4gICAgICBXaXRoU3R5bGVzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgV2l0aFN0eWxlcy51c2VTdHlsZXMgPSB1c2VTdHlsZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIFdpdGhTdHlsZXM7XG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzOyIsImltcG9ydCBjcmVhdGVUaGVtZSBmcm9tICcuL2NyZWF0ZVRoZW1lJztcbnZhciBkZWZhdWx0VGhlbWUgPSBjcmVhdGVUaGVtZSgpO1xuZXhwb3J0IGRlZmF1bHQgZGVmYXVsdFRoZW1lOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IHsgd2l0aFN0eWxlcyBhcyB3aXRoU3R5bGVzV2l0aG91dERlZmF1bHQgfSBmcm9tICdAbWF0ZXJpYWwtdWkvc3R5bGVzJztcbmltcG9ydCBkZWZhdWx0VGhlbWUgZnJvbSAnLi9kZWZhdWx0VGhlbWUnO1xuXG5mdW5jdGlvbiB3aXRoU3R5bGVzKHN0eWxlc09yQ3JlYXRvciwgb3B0aW9ucykge1xuICByZXR1cm4gd2l0aFN0eWxlc1dpdGhvdXREZWZhdWx0KHN0eWxlc09yQ3JlYXRvciwgX2V4dGVuZHMoe1xuICAgIGRlZmF1bHRUaGVtZTogZGVmYXVsdFRoZW1lXG4gIH0sIG9wdGlvbnMpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgd2l0aFN0eWxlczsiLCJleHBvcnQgdHlwZSBBbGVydFR5cGUgPSAnZXJyb3InIHwgJ3N1Y2Nlc3MnIHwgJ3dhcm5pbmcnIHwgJ25vbmUnXG5cbmV4cG9ydCBjb25zdCBBbGVydEFjdGlvbiA9IHtcbiAgc2hvd0FsZXJ0OiAodHlwZTogQWxlcnRUeXBlLCBtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ1NIT1dfTk9USUZJQ0FUSU9OJyBhcyBjb25zdCxcbiAgICAgIGFsZXJ0VHlwZTogdHlwZSxcbiAgICAgIG1lc3NhZ2VcbiAgICB9XG4gIH0sXG4gIGhpZGVBbGVydDogKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnSElERV9OT1RJRklDQVRJT04nIGFzIGNvbnN0LFxuICAgICAgYWxlcnRUeXBlOiAnbm9uZScsXG4gICAgICBtZXNzYWdlOiAnJ1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgdHlwZSBBbGVydEFjdGlvblR5cGUgPSBSZXR1cm5UeXBlPHR5cGVvZiBBbGVydEFjdGlvbltrZXlvZiB0eXBlb2YgQWxlcnRBY3Rpb25dPlxuIiwiaW1wb3J0IHsgRGlzcGF0Y2ggfSBmcm9tICdyZWR1eCdcbmltcG9ydCB7IEFsZXJ0QWN0aW9uIH0gZnJvbSAnLi9BbGVydEFjdGlvbnMnXG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICdAeHJlbmdpbmUvY29tbW9uL3NyYy9jb25maWcnXG5cbmxldCB0aW1lcklkOiBhbnlcblxuZXhwb3J0IGNvbnN0IEFsZXJ0U2VydmljZSA9IHtcbiAgYWxlcnRTdWNjZXNzOiAobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIChkaXNwYXRjaDogRGlzcGF0Y2gpOiBhbnkgPT4ge1xuICAgICAgZGlzcGF0Y2goQWxlcnRBY3Rpb24uc2hvd0FsZXJ0KCdzdWNjZXNzJywgbWVzc2FnZSkpXG4gICAgfVxuICB9LFxuICBhbGVydFdhcm5pbmc6IChtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gKGRpc3BhdGNoOiBEaXNwYXRjaCk6IGFueSA9PiB7XG4gICAgICBkaXNwYXRjaChBbGVydEFjdGlvbi5zaG93QWxlcnQoJ3dhcm5pbmcnLCBtZXNzYWdlKSlcbiAgICB9XG4gIH0sXG4gIGFsZXJ0RXJyb3I6IChtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gKGRpc3BhdGNoOiBEaXNwYXRjaCk6IGFueSA9PiB7XG4gICAgICBkaXNwYXRjaChBbGVydEFjdGlvbi5zaG93QWxlcnQoJ2Vycm9yJywgbWVzc2FnZSkpXG4gICAgfVxuICB9LFxuICBhbGVydENhbmNlbDogKCkgPT4ge1xuICAgIHJldHVybiAoZGlzcGF0Y2g6IERpc3BhdGNoKTogYW55ID0+IHtcbiAgICAgIGRpc3BhdGNoKEFsZXJ0QWN0aW9uLmhpZGVBbGVydCgpKVxuICAgIH1cbiAgfSxcbiAgY2xlYXJUaW1lcjogKCkgPT4ge1xuICAgIGlmICh0aW1lcklkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZClcbiAgICAgIHRpbWVySWQgPSAwXG4gICAgfVxuICB9LFxuICByZXN0YXJ0VGltZXI6IChkaXNwYXRjaDogRGlzcGF0Y2gpID0+IHtcbiAgICBBbGVydFNlcnZpY2UuY2xlYXJUaW1lcigpXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQoKCkgPT4gZGlzcGF0Y2goQWxlcnRBY3Rpb24uaGlkZUFsZXJ0KCkpLCBDb25maWcucHVibGljUnVudGltZUNvbmZpZz8uYWxlcnQ/LnRpbWVvdXQgfHwgMTAwMDApXG4gIH0sXG4gIGRpc3BhdGNoQWxlcnRTdWNjZXNzOiAoZGlzcGF0Y2g6IERpc3BhdGNoLCBtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICBBbGVydFNlcnZpY2UucmVzdGFydFRpbWVyKGRpc3BhdGNoKVxuICAgIHJldHVybiBkaXNwYXRjaChBbGVydEFjdGlvbi5zaG93QWxlcnQoJ3N1Y2Nlc3MnLCBtZXNzYWdlKSlcbiAgfSxcbiAgZGlzcGF0Y2hBbGVydFdhcm5pbmc6IChkaXNwYXRjaDogRGlzcGF0Y2gsIG1lc3NhZ2U6IHN0cmluZykgPT4ge1xuICAgIEFsZXJ0U2VydmljZS5yZXN0YXJ0VGltZXIoZGlzcGF0Y2gpXG4gICAgcmV0dXJuIGRpc3BhdGNoKEFsZXJ0QWN0aW9uLnNob3dBbGVydCgnd2FybmluZycsIG1lc3NhZ2UpKVxuICB9LFxuICBkaXNwYXRjaEFsZXJ0RXJyb3I6IChkaXNwYXRjaDogRGlzcGF0Y2gsIG1lc3NhZ2U6IHN0cmluZykgPT4ge1xuICAgIEFsZXJ0U2VydmljZS5yZXN0YXJ0VGltZXIoZGlzcGF0Y2gpXG4gICAgcmV0dXJuIGRpc3BhdGNoKEFsZXJ0QWN0aW9uLnNob3dBbGVydCgnZXJyb3InLCBtZXNzYWdlKSlcbiAgfSxcbiAgZGlzcGF0Y2hBbGVydENhbmNlbDogKGRpc3BhdGNoOiBEaXNwYXRjaCkgPT4ge1xuICAgIEFsZXJ0U2VydmljZS5jbGVhclRpbWVyKClcbiAgICByZXR1cm4gZGlzcGF0Y2goQWxlcnRBY3Rpb24uaGlkZUFsZXJ0KCkpXG4gIH1cbn1cbiIsIi8qIVxuICogU29ja2V0LklPIHY0LjIuMFxuICogKGMpIDIwMTQtMjAyMSBHdWlsbGVybW8gUmF1Y2hcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqL1xuKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiaW9cIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiaW9cIl0gPSBmYWN0b3J5KCk7XG59KShzZWxmLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuLyoqKioqKi8gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4vKioqKioqLyBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuLyoqKioqKi8gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3Rcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4vKioqKioqLyBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuLyoqKioqKi8gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gbnM7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9idWlsZC9pbmRleC5qc1wiKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKHtcblxuLyoqKi8gXCIuL2J1aWxkL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9idWlsZC9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuaW8gPSBleHBvcnRzLlNvY2tldCA9IGV4cG9ydHMuTWFuYWdlciA9IGV4cG9ydHMucHJvdG9jb2wgPSB2b2lkIDA7XG5cbnZhciB1cmxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdXJsICovIFwiLi9idWlsZC91cmwuanNcIik7XG5cbnZhciBtYW5hZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL21hbmFnZXIgKi8gXCIuL2J1aWxkL21hbmFnZXIuanNcIik7XG5cbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGRlYnVnICovIFwiLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanNcIikoXCJzb2NrZXQuaW8tY2xpZW50XCIpO1xuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqL1xuXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGxvb2t1cDtcbi8qKlxuICogTWFuYWdlcnMgY2FjaGUuXG4gKi9cblxudmFyIGNhY2hlID0gZXhwb3J0cy5tYW5hZ2VycyA9IHt9O1xuXG5mdW5jdGlvbiBsb29rdXAodXJpLCBvcHRzKSB7XG4gIGlmIChfdHlwZW9mKHVyaSkgPT09IFwib2JqZWN0XCIpIHtcbiAgICBvcHRzID0gdXJpO1xuICAgIHVyaSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuICB2YXIgcGFyc2VkID0gKDAsIHVybF8xLnVybCkodXJpLCBvcHRzLnBhdGggfHwgXCIvc29ja2V0LmlvXCIpO1xuICB2YXIgc291cmNlID0gcGFyc2VkLnNvdXJjZTtcbiAgdmFyIGlkID0gcGFyc2VkLmlkO1xuICB2YXIgcGF0aCA9IHBhcnNlZC5wYXRoO1xuICB2YXIgc2FtZU5hbWVzcGFjZSA9IGNhY2hlW2lkXSAmJiBwYXRoIGluIGNhY2hlW2lkXVtcIm5zcHNcIl07XG4gIHZhciBuZXdDb25uZWN0aW9uID0gb3B0cy5mb3JjZU5ldyB8fCBvcHRzW1wiZm9yY2UgbmV3IGNvbm5lY3Rpb25cIl0gfHwgZmFsc2UgPT09IG9wdHMubXVsdGlwbGV4IHx8IHNhbWVOYW1lc3BhY2U7XG4gIHZhciBpbztcblxuICBpZiAobmV3Q29ubmVjdGlvbikge1xuICAgIGRlYnVnKFwiaWdub3Jpbmcgc29ja2V0IGNhY2hlIGZvciAlc1wiLCBzb3VyY2UpO1xuICAgIGlvID0gbmV3IG1hbmFnZXJfMS5NYW5hZ2VyKHNvdXJjZSwgb3B0cyk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFjYWNoZVtpZF0pIHtcbiAgICAgIGRlYnVnKFwibmV3IGlvIGluc3RhbmNlIGZvciAlc1wiLCBzb3VyY2UpO1xuICAgICAgY2FjaGVbaWRdID0gbmV3IG1hbmFnZXJfMS5NYW5hZ2VyKHNvdXJjZSwgb3B0cyk7XG4gICAgfVxuXG4gICAgaW8gPSBjYWNoZVtpZF07XG4gIH1cblxuICBpZiAocGFyc2VkLnF1ZXJ5ICYmICFvcHRzLnF1ZXJ5KSB7XG4gICAgb3B0cy5xdWVyeSA9IHBhcnNlZC5xdWVyeUtleTtcbiAgfVxuXG4gIHJldHVybiBpby5zb2NrZXQocGFyc2VkLnBhdGgsIG9wdHMpO1xufVxuXG5leHBvcnRzLmlvID0gbG9va3VwO1xuLyoqXG4gKiBQcm90b2NvbCB2ZXJzaW9uLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuXG52YXIgc29ja2V0X2lvX3BhcnNlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgc29ja2V0LmlvLXBhcnNlciAqLyBcIi4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvZGlzdC9pbmRleC5qc1wiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicHJvdG9jb2xcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gc29ja2V0X2lvX3BhcnNlcl8xLnByb3RvY29sO1xuICB9XG59KTtcbi8qKlxuICogYGNvbm5lY3RgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmlcbiAqIEBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLmNvbm5lY3QgPSBsb29rdXA7XG4vKipcbiAqIEV4cG9zZSBjb25zdHJ1Y3RvcnMgZm9yIHN0YW5kYWxvbmUgYnVpbGQuXG4gKlxuICogQHB1YmxpY1xuICovXG5cbnZhciBtYW5hZ2VyXzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL21hbmFnZXIgKi8gXCIuL2J1aWxkL21hbmFnZXIuanNcIik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIk1hbmFnZXJcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gbWFuYWdlcl8yLk1hbmFnZXI7XG4gIH1cbn0pO1xuXG52YXIgc29ja2V0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NvY2tldCAqLyBcIi4vYnVpbGQvc29ja2V0LmpzXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTb2NrZXRcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gc29ja2V0XzEuU29ja2V0O1xuICB9XG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbG9va3VwO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2J1aWxkL21hbmFnZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vYnVpbGQvbWFuYWdlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuTWFuYWdlciA9IHZvaWQgMDtcblxudmFyIGVpbyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGVuZ2luZS5pby1jbGllbnQgKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi9pbmRleC5qc1wiKTtcblxudmFyIHV0aWxfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGVuZ2luZS5pby1jbGllbnQvbGliL3V0aWwgKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi91dGlsLmpzXCIpO1xuXG52YXIgc29ja2V0XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NvY2tldCAqLyBcIi4vYnVpbGQvc29ja2V0LmpzXCIpO1xuXG52YXIgcGFyc2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgc29ja2V0LmlvLXBhcnNlciAqLyBcIi4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvZGlzdC9pbmRleC5qc1wiKTtcblxudmFyIG9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL29uICovIFwiLi9idWlsZC9vbi5qc1wiKTtcblxudmFyIEJhY2tvZmYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBiYWNrbzIgKi8gXCIuL25vZGVfbW9kdWxlcy9iYWNrbzIvaW5kZXguanNcIik7XG5cbnZhciB0eXBlZF9ldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdHlwZWQtZXZlbnRzICovIFwiLi9idWlsZC90eXBlZC1ldmVudHMuanNcIik7XG5cbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGRlYnVnICovIFwiLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanNcIikoXCJzb2NrZXQuaW8tY2xpZW50Om1hbmFnZXJcIik7XG5cbnZhciBNYW5hZ2VyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfdHlwZWRfZXZlbnRzXzEkU3RyaWMpIHtcbiAgX2luaGVyaXRzKE1hbmFnZXIsIF90eXBlZF9ldmVudHNfMSRTdHJpYyk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihNYW5hZ2VyKTtcblxuICBmdW5jdGlvbiBNYW5hZ2VyKHVyaSwgb3B0cykge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYW5hZ2VyKTtcblxuICAgIHZhciBfYTtcblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgX3RoaXMubnNwcyA9IHt9O1xuICAgIF90aGlzLnN1YnMgPSBbXTtcblxuICAgIGlmICh1cmkgJiYgXCJvYmplY3RcIiA9PT0gX3R5cGVvZih1cmkpKSB7XG4gICAgICBvcHRzID0gdXJpO1xuICAgICAgdXJpID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgIG9wdHMucGF0aCA9IG9wdHMucGF0aCB8fCBcIi9zb2NrZXQuaW9cIjtcbiAgICBfdGhpcy5vcHRzID0gb3B0cztcbiAgICAoMCwgdXRpbF8xLmluc3RhbGxUaW1lckZ1bmN0aW9ucykoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIG9wdHMpO1xuXG4gICAgX3RoaXMucmVjb25uZWN0aW9uKG9wdHMucmVjb25uZWN0aW9uICE9PSBmYWxzZSk7XG5cbiAgICBfdGhpcy5yZWNvbm5lY3Rpb25BdHRlbXB0cyhvcHRzLnJlY29ubmVjdGlvbkF0dGVtcHRzIHx8IEluZmluaXR5KTtcblxuICAgIF90aGlzLnJlY29ubmVjdGlvbkRlbGF5KG9wdHMucmVjb25uZWN0aW9uRGVsYXkgfHwgMTAwMCk7XG5cbiAgICBfdGhpcy5yZWNvbm5lY3Rpb25EZWxheU1heChvcHRzLnJlY29ubmVjdGlvbkRlbGF5TWF4IHx8IDUwMDApO1xuXG4gICAgX3RoaXMucmFuZG9taXphdGlvbkZhY3RvcigoX2EgPSBvcHRzLnJhbmRvbWl6YXRpb25GYWN0b3IpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDAuNSk7XG5cbiAgICBfdGhpcy5iYWNrb2ZmID0gbmV3IEJhY2tvZmYoe1xuICAgICAgbWluOiBfdGhpcy5yZWNvbm5lY3Rpb25EZWxheSgpLFxuICAgICAgbWF4OiBfdGhpcy5yZWNvbm5lY3Rpb25EZWxheU1heCgpLFxuICAgICAgaml0dGVyOiBfdGhpcy5yYW5kb21pemF0aW9uRmFjdG9yKClcbiAgICB9KTtcblxuICAgIF90aGlzLnRpbWVvdXQobnVsbCA9PSBvcHRzLnRpbWVvdXQgPyAyMDAwMCA6IG9wdHMudGltZW91dCk7XG5cbiAgICBfdGhpcy5fcmVhZHlTdGF0ZSA9IFwiY2xvc2VkXCI7XG4gICAgX3RoaXMudXJpID0gdXJpO1xuXG4gICAgdmFyIF9wYXJzZXIgPSBvcHRzLnBhcnNlciB8fCBwYXJzZXI7XG5cbiAgICBfdGhpcy5lbmNvZGVyID0gbmV3IF9wYXJzZXIuRW5jb2RlcigpO1xuICAgIF90aGlzLmRlY29kZXIgPSBuZXcgX3BhcnNlci5EZWNvZGVyKCk7XG4gICAgX3RoaXMuX2F1dG9Db25uZWN0ID0gb3B0cy5hdXRvQ29ubmVjdCAhPT0gZmFsc2U7XG4gICAgaWYgKF90aGlzLl9hdXRvQ29ubmVjdCkgX3RoaXMub3BlbigpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNYW5hZ2VyLCBbe1xuICAgIGtleTogXCJyZWNvbm5lY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVjb25uZWN0aW9uKHYpIHtcbiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHRoaXMuX3JlY29ubmVjdGlvbjtcbiAgICAgIHRoaXMuX3JlY29ubmVjdGlvbiA9ICEhdjtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZWNvbm5lY3Rpb25BdHRlbXB0c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWNvbm5lY3Rpb25BdHRlbXB0cyh2KSB7XG4gICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHM7XG4gICAgICB0aGlzLl9yZWNvbm5lY3Rpb25BdHRlbXB0cyA9IHY7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVjb25uZWN0aW9uRGVsYXlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVjb25uZWN0aW9uRGVsYXkodikge1xuICAgICAgdmFyIF9hO1xuXG4gICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uRGVsYXk7XG4gICAgICB0aGlzLl9yZWNvbm5lY3Rpb25EZWxheSA9IHY7XG4gICAgICAoX2EgPSB0aGlzLmJhY2tvZmYpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRNaW4odik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmFuZG9taXphdGlvbkZhY3RvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByYW5kb21pemF0aW9uRmFjdG9yKHYpIHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMuX3JhbmRvbWl6YXRpb25GYWN0b3I7XG4gICAgICB0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yID0gdjtcbiAgICAgIChfYSA9IHRoaXMuYmFja29mZikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldEppdHRlcih2KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZWNvbm5lY3Rpb25EZWxheU1heFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWNvbm5lY3Rpb25EZWxheU1heCh2KSB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHJldHVybiB0aGlzLl9yZWNvbm5lY3Rpb25EZWxheU1heDtcbiAgICAgIHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5TWF4ID0gdjtcbiAgICAgIChfYSA9IHRoaXMuYmFja29mZikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNldE1heCh2KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0aW1lb3V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRpbWVvdXQodikge1xuICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gdGhpcy5fdGltZW91dDtcbiAgICAgIHRoaXMuX3RpbWVvdXQgPSB2O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0cnlpbmcgdG8gcmVjb25uZWN0IGlmIHJlY29ubmVjdGlvbiBpcyBlbmFibGVkIGFuZCB3ZSBoYXZlIG5vdFxuICAgICAqIHN0YXJ0ZWQgcmVjb25uZWN0aW5nIHlldFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1heWJlUmVjb25uZWN0T25PcGVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1heWJlUmVjb25uZWN0T25PcGVuKCkge1xuICAgICAgLy8gT25seSB0cnkgdG8gcmVjb25uZWN0IGlmIGl0J3MgdGhlIGZpcnN0IHRpbWUgd2UncmUgY29ubmVjdGluZ1xuICAgICAgaWYgKCF0aGlzLl9yZWNvbm5lY3RpbmcgJiYgdGhpcy5fcmVjb25uZWN0aW9uICYmIHRoaXMuYmFja29mZi5hdHRlbXB0cyA9PT0gMCkge1xuICAgICAgICAvLyBrZWVwcyByZWNvbm5lY3Rpb24gZnJvbSBmaXJpbmcgdHdpY2UgZm9yIHRoZSBzYW1lIHJlY29ubmVjdGlvbiBsb29wXG4gICAgICAgIHRoaXMucmVjb25uZWN0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgdHJhbnNwb3J0IGBzb2NrZXRgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBvcHRpb25hbCwgY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKiBAcHVibGljXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvcGVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW4oZm4pIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBkZWJ1ZyhcInJlYWR5U3RhdGUgJXNcIiwgdGhpcy5fcmVhZHlTdGF0ZSk7XG4gICAgICBpZiAofnRoaXMuX3JlYWR5U3RhdGUuaW5kZXhPZihcIm9wZW5cIikpIHJldHVybiB0aGlzO1xuICAgICAgZGVidWcoXCJvcGVuaW5nICVzXCIsIHRoaXMudXJpKTtcbiAgICAgIHRoaXMuZW5naW5lID0gZWlvKHRoaXMudXJpLCB0aGlzLm9wdHMpO1xuICAgICAgdmFyIHNvY2tldCA9IHRoaXMuZW5naW5lO1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFwib3BlbmluZ1wiO1xuICAgICAgdGhpcy5za2lwUmVjb25uZWN0ID0gZmFsc2U7IC8vIGVtaXQgYG9wZW5gXG5cbiAgICAgIHZhciBvcGVuU3ViRGVzdHJveSA9ICgwLCBvbl8xLm9uKShzb2NrZXQsIFwib3BlblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYub25vcGVuKCk7XG4gICAgICAgIGZuICYmIGZuKCk7XG4gICAgICB9KTsgLy8gZW1pdCBgZXJyb3JgXG5cbiAgICAgIHZhciBlcnJvclN1YiA9ICgwLCBvbl8xLm9uKShzb2NrZXQsIFwiZXJyb3JcIiwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICBkZWJ1ZyhcImVycm9yXCIpO1xuICAgICAgICBzZWxmLmNsZWFudXAoKTtcbiAgICAgICAgc2VsZi5fcmVhZHlTdGF0ZSA9IFwiY2xvc2VkXCI7XG5cbiAgICAgICAgX3RoaXMyLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIGVycik7XG5cbiAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgZm4oZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPbmx5IGRvIHRoaXMgaWYgdGhlcmUgaXMgbm8gZm4gdG8gaGFuZGxlIHRoZSBlcnJvclxuICAgICAgICAgIHNlbGYubWF5YmVSZWNvbm5lY3RPbk9wZW4oKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChmYWxzZSAhPT0gdGhpcy5fdGltZW91dCkge1xuICAgICAgICB2YXIgdGltZW91dCA9IHRoaXMuX3RpbWVvdXQ7XG4gICAgICAgIGRlYnVnKFwiY29ubmVjdCBhdHRlbXB0IHdpbGwgdGltZW91dCBhZnRlciAlZFwiLCB0aW1lb3V0KTtcblxuICAgICAgICBpZiAodGltZW91dCA9PT0gMCkge1xuICAgICAgICAgIG9wZW5TdWJEZXN0cm95KCk7IC8vIHByZXZlbnRzIGEgcmFjZSBjb25kaXRpb24gd2l0aCB0aGUgJ29wZW4nIGV2ZW50XG4gICAgICAgIH0gLy8gc2V0IHRpbWVyXG5cblxuICAgICAgICB2YXIgdGltZXIgPSB0aGlzLnNldFRpbWVvdXRGbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZGVidWcoXCJjb25uZWN0IGF0dGVtcHQgdGltZWQgb3V0IGFmdGVyICVkXCIsIHRpbWVvdXQpO1xuICAgICAgICAgIG9wZW5TdWJEZXN0cm95KCk7XG4gICAgICAgICAgc29ja2V0LmNsb3NlKCk7XG4gICAgICAgICAgc29ja2V0LmVtaXQoXCJlcnJvclwiLCBuZXcgRXJyb3IoXCJ0aW1lb3V0XCIpKTtcbiAgICAgICAgfSwgdGltZW91dCk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0cy5hdXRvVW5yZWYpIHtcbiAgICAgICAgICB0aW1lci51bnJlZigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdWJzLnB1c2goZnVuY3Rpb24gc3ViRGVzdHJveSgpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdWJzLnB1c2gob3BlblN1YkRlc3Ryb3kpO1xuICAgICAgdGhpcy5zdWJzLnB1c2goZXJyb3JTdWIpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciBvcGVuKClcbiAgICAgKlxuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNvbm5lY3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29ubmVjdChmbikge1xuICAgICAgcmV0dXJuIHRoaXMub3Blbihmbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHRyYW5zcG9ydCBvcGVuLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9ub3BlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbm9wZW4oKSB7XG4gICAgICBkZWJ1ZyhcIm9wZW5cIik7IC8vIGNsZWFyIG9sZCBzdWJzXG5cbiAgICAgIHRoaXMuY2xlYW51cCgpOyAvLyBtYXJrIGFzIG9wZW5cblxuICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFwib3BlblwiO1xuICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJvcGVuXCIpOyAvLyBhZGQgbmV3IHN1YnNcblxuICAgICAgdmFyIHNvY2tldCA9IHRoaXMuZW5naW5lO1xuICAgICAgdGhpcy5zdWJzLnB1c2goKDAsIG9uXzEub24pKHNvY2tldCwgXCJwaW5nXCIsIHRoaXMub25waW5nLmJpbmQodGhpcykpLCAoMCwgb25fMS5vbikoc29ja2V0LCBcImRhdGFcIiwgdGhpcy5vbmRhdGEuYmluZCh0aGlzKSksICgwLCBvbl8xLm9uKShzb2NrZXQsIFwiZXJyb3JcIiwgdGhpcy5vbmVycm9yLmJpbmQodGhpcykpLCAoMCwgb25fMS5vbikoc29ja2V0LCBcImNsb3NlXCIsIHRoaXMub25jbG9zZS5iaW5kKHRoaXMpKSwgKDAsIG9uXzEub24pKHRoaXMuZGVjb2RlciwgXCJkZWNvZGVkXCIsIHRoaXMub25kZWNvZGVkLmJpbmQodGhpcykpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gYSBwaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9ucGluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbnBpbmcoKSB7XG4gICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBpbmdcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aXRoIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib25kYXRhXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uZGF0YShkYXRhKSB7XG4gICAgICB0aGlzLmRlY29kZXIuYWRkKGRhdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBwYXJzZXIgZnVsbHkgZGVjb2RlcyBhIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvbmRlY29kZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25kZWNvZGVkKHBhY2tldCkge1xuICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwYWNrZXRcIiwgcGFja2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gc29ja2V0IGVycm9yLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uZXJyb3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25lcnJvcihlcnIpIHtcbiAgICAgIGRlYnVnKFwiZXJyb3JcIiwgZXJyKTtcbiAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgZXJyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBzb2NrZXQgZm9yIHRoZSBnaXZlbiBgbnNwYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NvY2tldH1cbiAgICAgKiBAcHVibGljXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzb2NrZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc29ja2V0KG5zcCwgb3B0cykge1xuICAgICAgdmFyIHNvY2tldCA9IHRoaXMubnNwc1tuc3BdO1xuXG4gICAgICBpZiAoIXNvY2tldCkge1xuICAgICAgICBzb2NrZXQgPSBuZXcgc29ja2V0XzEuU29ja2V0KHRoaXMsIG5zcCwgb3B0cyk7XG4gICAgICAgIHRoaXMubnNwc1tuc3BdID0gc29ja2V0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc29ja2V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBhIHNvY2tldCBjbG9zZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzb2NrZXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2Rlc3Ryb3lcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2Rlc3Ryb3koc29ja2V0KSB7XG4gICAgICB2YXIgbnNwcyA9IE9iamVjdC5rZXlzKHRoaXMubnNwcyk7XG5cbiAgICAgIGZvciAodmFyIF9pID0gMCwgX25zcHMgPSBuc3BzOyBfaSA8IF9uc3BzLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgbnNwID0gX25zcHNbX2ldO1xuICAgICAgICB2YXIgX3NvY2tldCA9IHRoaXMubnNwc1tuc3BdO1xuXG4gICAgICAgIGlmIChfc29ja2V0LmFjdGl2ZSkge1xuICAgICAgICAgIGRlYnVnKFwic29ja2V0ICVzIGlzIHN0aWxsIGFjdGl2ZSwgc2tpcHBpbmcgY2xvc2VcIiwgbnNwKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5fY2xvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGVzIGEgcGFja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfcGFja2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9wYWNrZXQocGFja2V0KSB7XG4gICAgICBkZWJ1ZyhcIndyaXRpbmcgcGFja2V0ICVqXCIsIHBhY2tldCk7XG4gICAgICB2YXIgZW5jb2RlZFBhY2tldHMgPSB0aGlzLmVuY29kZXIuZW5jb2RlKHBhY2tldCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZW5jb2RlZFBhY2tldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5lbmdpbmUud3JpdGUoZW5jb2RlZFBhY2tldHNbaV0sIHBhY2tldC5vcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAgdHJhbnNwb3J0IHN1YnNjcmlwdGlvbnMgYW5kIHBhY2tldCBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY2xlYW51cFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgZGVidWcoXCJjbGVhbnVwXCIpO1xuICAgICAgdGhpcy5zdWJzLmZvckVhY2goZnVuY3Rpb24gKHN1YkRlc3Ryb3kpIHtcbiAgICAgICAgcmV0dXJuIHN1YkRlc3Ryb3koKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zdWJzLmxlbmd0aCA9IDA7XG4gICAgICB0aGlzLmRlY29kZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgY3VycmVudCBzb2NrZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2Nsb3NlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9jbG9zZSgpIHtcbiAgICAgIGRlYnVnKFwiZGlzY29ubmVjdFwiKTtcbiAgICAgIHRoaXMuc2tpcFJlY29ubmVjdCA9IHRydWU7XG4gICAgICB0aGlzLl9yZWNvbm5lY3RpbmcgPSBmYWxzZTtcblxuICAgICAgaWYgKFwib3BlbmluZ1wiID09PSB0aGlzLl9yZWFkeVN0YXRlKSB7XG4gICAgICAgIC8vIGBvbmNsb3NlYCB3aWxsIG5vdCBmaXJlIGJlY2F1c2VcbiAgICAgICAgLy8gYW4gb3BlbiBldmVudCBuZXZlciBoYXBwZW5lZFxuICAgICAgICB0aGlzLmNsZWFudXAoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5iYWNrb2ZmLnJlc2V0KCk7XG4gICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJjbG9zZWRcIjtcbiAgICAgIGlmICh0aGlzLmVuZ2luZSkgdGhpcy5lbmdpbmUuY2xvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGNsb3NlKClcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkaXNjb25uZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2Nvbm5lY3QoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2xvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gZW5naW5lIGNsb3NlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uY2xvc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25jbG9zZShyZWFzb24pIHtcbiAgICAgIGRlYnVnKFwib25jbG9zZVwiKTtcbiAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgICAgdGhpcy5iYWNrb2ZmLnJlc2V0KCk7XG4gICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJjbG9zZWRcIjtcbiAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiY2xvc2VcIiwgcmVhc29uKTtcblxuICAgICAgaWYgKHRoaXMuX3JlY29ubmVjdGlvbiAmJiAhdGhpcy5za2lwUmVjb25uZWN0KSB7XG4gICAgICAgIHRoaXMucmVjb25uZWN0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGVtcHQgYSByZWNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVjb25uZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlY29ubmVjdCgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAodGhpcy5fcmVjb25uZWN0aW5nIHx8IHRoaXMuc2tpcFJlY29ubmVjdCkgcmV0dXJuIHRoaXM7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLmJhY2tvZmYuYXR0ZW1wdHMgPj0gdGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHMpIHtcbiAgICAgICAgZGVidWcoXCJyZWNvbm5lY3QgZmFpbGVkXCIpO1xuICAgICAgICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RfZmFpbGVkXCIpO1xuICAgICAgICB0aGlzLl9yZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBkZWxheSA9IHRoaXMuYmFja29mZi5kdXJhdGlvbigpO1xuICAgICAgICBkZWJ1ZyhcIndpbGwgd2FpdCAlZG1zIGJlZm9yZSByZWNvbm5lY3QgYXR0ZW1wdFwiLCBkZWxheSk7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGluZyA9IHRydWU7XG4gICAgICAgIHZhciB0aW1lciA9IHRoaXMuc2V0VGltZW91dEZuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoc2VsZi5za2lwUmVjb25uZWN0KSByZXR1cm47XG4gICAgICAgICAgZGVidWcoXCJhdHRlbXB0aW5nIHJlY29ubmVjdFwiKTtcblxuICAgICAgICAgIF90aGlzMy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RfYXR0ZW1wdFwiLCBzZWxmLmJhY2tvZmYuYXR0ZW1wdHMpOyAvLyBjaGVjayBhZ2FpbiBmb3IgdGhlIGNhc2Ugc29ja2V0IGNsb3NlZCBpbiBhYm92ZSBldmVudHNcblxuXG4gICAgICAgICAgaWYgKHNlbGYuc2tpcFJlY29ubmVjdCkgcmV0dXJuO1xuICAgICAgICAgIHNlbGYub3BlbihmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIGRlYnVnKFwicmVjb25uZWN0IGF0dGVtcHQgZXJyb3JcIik7XG4gICAgICAgICAgICAgIHNlbGYuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICBzZWxmLnJlY29ubmVjdCgpO1xuXG4gICAgICAgICAgICAgIF90aGlzMy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RfZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRlYnVnKFwicmVjb25uZWN0IHN1Y2Nlc3NcIik7XG4gICAgICAgICAgICAgIHNlbGYub25yZWNvbm5lY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZGVsYXkpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdHMuYXV0b1VucmVmKSB7XG4gICAgICAgICAgdGltZXIudW5yZWYoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3Vicy5wdXNoKGZ1bmN0aW9uIHN1YkRlc3Ryb3koKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHN1Y2Nlc3NmdWwgcmVjb25uZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9ucmVjb25uZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9ucmVjb25uZWN0KCkge1xuICAgICAgdmFyIGF0dGVtcHQgPSB0aGlzLmJhY2tvZmYuYXR0ZW1wdHM7XG4gICAgICB0aGlzLl9yZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RcIiwgYXR0ZW1wdCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1hbmFnZXI7XG59KHR5cGVkX2V2ZW50c18xLlN0cmljdEV2ZW50RW1pdHRlcik7XG5cbmV4cG9ydHMuTWFuYWdlciA9IE1hbmFnZXI7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vYnVpbGQvb24uanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2J1aWxkL29uLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMub24gPSB2b2lkIDA7XG5cbmZ1bmN0aW9uIG9uKG9iaiwgZXYsIGZuKSB7XG4gIG9iai5vbihldiwgZm4pO1xuICByZXR1cm4gZnVuY3Rpb24gc3ViRGVzdHJveSgpIHtcbiAgICBvYmoub2ZmKGV2LCBmbik7XG4gIH07XG59XG5cbmV4cG9ydHMub24gPSBvbjtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9idWlsZC9zb2NrZXQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9idWlsZC9zb2NrZXQuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvW1wiQEBpdGVyYXRvclwiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0W1wicmV0dXJuXCJdICE9IG51bGwpIGl0W1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ICE9PSBcInVuZGVmaW5lZFwiICYmIFJlZmxlY3QuZ2V0KSB7IF9nZXQgPSBSZWZsZWN0LmdldDsgfSBlbHNlIHsgX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgdmFyIGJhc2UgPSBfc3VwZXJQcm9wQmFzZSh0YXJnZXQsIHByb3BlcnR5KTsgaWYgKCFiYXNlKSByZXR1cm47IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7IGlmIChkZXNjLmdldCkgeyByZXR1cm4gZGVzYy5nZXQuY2FsbChyZWNlaXZlcik7IH0gcmV0dXJuIGRlc2MudmFsdWU7IH07IH0gcmV0dXJuIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIgfHwgdGFyZ2V0KTsgfVxuXG5mdW5jdGlvbiBfc3VwZXJQcm9wQmFzZShvYmplY3QsIHByb3BlcnR5KSB7IHdoaWxlICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpKSB7IG9iamVjdCA9IF9nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAob2JqZWN0ID09PSBudWxsKSBicmVhazsgfSByZXR1cm4gb2JqZWN0OyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuU29ja2V0ID0gdm9pZCAwO1xuXG52YXIgc29ja2V0X2lvX3BhcnNlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgc29ja2V0LmlvLXBhcnNlciAqLyBcIi4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvZGlzdC9pbmRleC5qc1wiKTtcblxudmFyIG9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL29uICovIFwiLi9idWlsZC9vbi5qc1wiKTtcblxudmFyIHR5cGVkX2V2ZW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi90eXBlZC1ldmVudHMgKi8gXCIuL2J1aWxkL3R5cGVkLWV2ZW50cy5qc1wiKTtcblxudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgZGVidWcgKi8gXCIuL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qc1wiKShcInNvY2tldC5pby1jbGllbnQ6c29ja2V0XCIpO1xuLyoqXG4gKiBJbnRlcm5hbCBldmVudHMuXG4gKiBUaGVzZSBldmVudHMgY2FuJ3QgYmUgZW1pdHRlZCBieSB0aGUgdXNlci5cbiAqL1xuXG5cbnZhciBSRVNFUlZFRF9FVkVOVFMgPSBPYmplY3QuZnJlZXplKHtcbiAgY29ubmVjdDogMSxcbiAgY29ubmVjdF9lcnJvcjogMSxcbiAgZGlzY29ubmVjdDogMSxcbiAgZGlzY29ubmVjdGluZzogMSxcbiAgLy8gRXZlbnRFbWl0dGVyIHJlc2VydmVkIGV2ZW50czogaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9ldmVudHMuaHRtbCNldmVudHNfZXZlbnRfbmV3bGlzdGVuZXJcbiAgbmV3TGlzdGVuZXI6IDEsXG4gIHJlbW92ZUxpc3RlbmVyOiAxXG59KTtcblxudmFyIFNvY2tldCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX3R5cGVkX2V2ZW50c18xJFN0cmljKSB7XG4gIF9pbmhlcml0cyhTb2NrZXQsIF90eXBlZF9ldmVudHNfMSRTdHJpYyk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihTb2NrZXQpO1xuXG4gIC8qKlxuICAgKiBgU29ja2V0YCBjb25zdHJ1Y3Rvci5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgZnVuY3Rpb24gU29ja2V0KGlvLCBuc3AsIG9wdHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU29ja2V0KTtcblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgX3RoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgX3RoaXMuZGlzY29ubmVjdGVkID0gdHJ1ZTtcbiAgICBfdGhpcy5yZWNlaXZlQnVmZmVyID0gW107XG4gICAgX3RoaXMuc2VuZEJ1ZmZlciA9IFtdO1xuICAgIF90aGlzLmlkcyA9IDA7XG4gICAgX3RoaXMuYWNrcyA9IHt9O1xuICAgIF90aGlzLmZsYWdzID0ge307XG4gICAgX3RoaXMuaW8gPSBpbztcbiAgICBfdGhpcy5uc3AgPSBuc3A7XG5cbiAgICBpZiAob3B0cyAmJiBvcHRzLmF1dGgpIHtcbiAgICAgIF90aGlzLmF1dGggPSBvcHRzLmF1dGg7XG4gICAgfVxuXG4gICAgaWYgKF90aGlzLmlvLl9hdXRvQ29ubmVjdCkgX3RoaXMub3BlbigpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIG9wZW4sIGNsb3NlIGFuZCBwYWNrZXQgZXZlbnRzXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFNvY2tldCwgW3tcbiAgICBrZXk6IFwic3ViRXZlbnRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1YkV2ZW50cygpIHtcbiAgICAgIGlmICh0aGlzLnN1YnMpIHJldHVybjtcbiAgICAgIHZhciBpbyA9IHRoaXMuaW87XG4gICAgICB0aGlzLnN1YnMgPSBbKDAsIG9uXzEub24pKGlvLCBcIm9wZW5cIiwgdGhpcy5vbm9wZW4uYmluZCh0aGlzKSksICgwLCBvbl8xLm9uKShpbywgXCJwYWNrZXRcIiwgdGhpcy5vbnBhY2tldC5iaW5kKHRoaXMpKSwgKDAsIG9uXzEub24pKGlvLCBcImVycm9yXCIsIHRoaXMub25lcnJvci5iaW5kKHRoaXMpKSwgKDAsIG9uXzEub24pKGlvLCBcImNsb3NlXCIsIHRoaXMub25jbG9zZS5iaW5kKHRoaXMpKV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIFNvY2tldCB3aWxsIHRyeSB0byByZWNvbm5lY3Qgd2hlbiBpdHMgTWFuYWdlciBjb25uZWN0cyBvciByZWNvbm5lY3RzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhY3RpdmVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAhIXRoaXMuc3VicztcbiAgICB9XG4gICAgLyoqXG4gICAgICogXCJPcGVuc1wiIHRoZSBzb2NrZXQuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjb25uZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbm5lY3QoKSB7XG4gICAgICBpZiAodGhpcy5jb25uZWN0ZWQpIHJldHVybiB0aGlzO1xuICAgICAgdGhpcy5zdWJFdmVudHMoKTtcbiAgICAgIGlmICghdGhpcy5pb1tcIl9yZWNvbm5lY3RpbmdcIl0pIHRoaXMuaW8ub3BlbigpOyAvLyBlbnN1cmUgb3BlblxuXG4gICAgICBpZiAoXCJvcGVuXCIgPT09IHRoaXMuaW8uX3JlYWR5U3RhdGUpIHRoaXMub25vcGVuKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGNvbm5lY3QoKVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib3BlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIGBtZXNzYWdlYCBldmVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNlbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZCgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICBhcmdzLnVuc2hpZnQoXCJtZXNzYWdlXCIpO1xuICAgICAgdGhpcy5lbWl0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIGBlbWl0YC5cbiAgICAgKiBJZiB0aGUgZXZlbnQgaXMgaW4gYGV2ZW50c2AsIGl0J3MgZW1pdHRlZCBub3JtYWxseS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImVtaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW1pdChldikge1xuICAgICAgaWYgKFJFU0VSVkVEX0VWRU5UUy5oYXNPd25Qcm9wZXJ0eShldikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdcIicgKyBldiArICdcIiBpcyBhIHJlc2VydmVkIGV2ZW50IG5hbWUnKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgYXJncy51bnNoaWZ0KGV2KTtcbiAgICAgIHZhciBwYWNrZXQgPSB7XG4gICAgICAgIHR5cGU6IHNvY2tldF9pb19wYXJzZXJfMS5QYWNrZXRUeXBlLkVWRU5ULFxuICAgICAgICBkYXRhOiBhcmdzXG4gICAgICB9O1xuICAgICAgcGFja2V0Lm9wdGlvbnMgPSB7fTtcbiAgICAgIHBhY2tldC5vcHRpb25zLmNvbXByZXNzID0gdGhpcy5mbGFncy5jb21wcmVzcyAhPT0gZmFsc2U7IC8vIGV2ZW50IGFjayBjYWxsYmFja1xuXG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgIGRlYnVnKFwiZW1pdHRpbmcgcGFja2V0IHdpdGggYWNrIGlkICVkXCIsIHRoaXMuaWRzKTtcbiAgICAgICAgdGhpcy5hY2tzW3RoaXMuaWRzXSA9IGFyZ3MucG9wKCk7XG4gICAgICAgIHBhY2tldC5pZCA9IHRoaXMuaWRzKys7XG4gICAgICB9XG5cbiAgICAgIHZhciBpc1RyYW5zcG9ydFdyaXRhYmxlID0gdGhpcy5pby5lbmdpbmUgJiYgdGhpcy5pby5lbmdpbmUudHJhbnNwb3J0ICYmIHRoaXMuaW8uZW5naW5lLnRyYW5zcG9ydC53cml0YWJsZTtcbiAgICAgIHZhciBkaXNjYXJkUGFja2V0ID0gdGhpcy5mbGFnc1tcInZvbGF0aWxlXCJdICYmICghaXNUcmFuc3BvcnRXcml0YWJsZSB8fCAhdGhpcy5jb25uZWN0ZWQpO1xuXG4gICAgICBpZiAoZGlzY2FyZFBhY2tldCkge1xuICAgICAgICBkZWJ1ZyhcImRpc2NhcmQgcGFja2V0IGFzIHRoZSB0cmFuc3BvcnQgaXMgbm90IGN1cnJlbnRseSB3cml0YWJsZVwiKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgdGhpcy5wYWNrZXQocGFja2V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2VuZEJ1ZmZlci5wdXNoKHBhY2tldCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZmxhZ3MgPSB7fTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicGFja2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhY2tldChfcGFja2V0KSB7XG4gICAgICBfcGFja2V0Lm5zcCA9IHRoaXMubnNwO1xuXG4gICAgICB0aGlzLmlvLl9wYWNrZXQoX3BhY2tldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGVuZ2luZSBgb3BlbmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib25vcGVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9ub3BlbigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBkZWJ1ZyhcInRyYW5zcG9ydCBpcyBvcGVuIC0gY29ubmVjdGluZ1wiKTtcblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLmF1dGggPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRoaXMuYXV0aChmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIF90aGlzMi5wYWNrZXQoe1xuICAgICAgICAgICAgdHlwZTogc29ja2V0X2lvX3BhcnNlcl8xLlBhY2tldFR5cGUuQ09OTkVDVCxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBhY2tldCh7XG4gICAgICAgICAgdHlwZTogc29ja2V0X2lvX3BhcnNlcl8xLlBhY2tldFR5cGUuQ09OTkVDVCxcbiAgICAgICAgICBkYXRhOiB0aGlzLmF1dGhcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGVuZ2luZSBvciBtYW5hZ2VyIGBlcnJvcmAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXJyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uZXJyb3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25lcnJvcihlcnIpIHtcbiAgICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjb25uZWN0X2Vycm9yXCIsIGVycik7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGVuZ2luZSBgY2xvc2VgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJlYXNvblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvbmNsb3NlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uY2xvc2UocmVhc29uKSB7XG4gICAgICBkZWJ1ZyhcImNsb3NlICglcylcIiwgcmVhc29uKTtcbiAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmRpc2Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICBkZWxldGUgdGhpcy5pZDtcbiAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZGlzY29ubmVjdFwiLCByZWFzb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2l0aCBzb2NrZXQgcGFja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvbnBhY2tldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbnBhY2tldChwYWNrZXQpIHtcbiAgICAgIHZhciBzYW1lTmFtZXNwYWNlID0gcGFja2V0Lm5zcCA9PT0gdGhpcy5uc3A7XG4gICAgICBpZiAoIXNhbWVOYW1lc3BhY2UpIHJldHVybjtcblxuICAgICAgc3dpdGNoIChwYWNrZXQudHlwZSkge1xuICAgICAgICBjYXNlIHNvY2tldF9pb19wYXJzZXJfMS5QYWNrZXRUeXBlLkNPTk5FQ1Q6XG4gICAgICAgICAgaWYgKHBhY2tldC5kYXRhICYmIHBhY2tldC5kYXRhLnNpZCkge1xuICAgICAgICAgICAgdmFyIGlkID0gcGFja2V0LmRhdGEuc2lkO1xuICAgICAgICAgICAgdGhpcy5vbmNvbm5lY3QoaWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RfZXJyb3JcIiwgbmV3IEVycm9yKFwiSXQgc2VlbXMgeW91IGFyZSB0cnlpbmcgdG8gcmVhY2ggYSBTb2NrZXQuSU8gc2VydmVyIGluIHYyLnggd2l0aCBhIHYzLnggY2xpZW50LCBidXQgdGhleSBhcmUgbm90IGNvbXBhdGlibGUgKG1vcmUgaW5mb3JtYXRpb24gaGVyZTogaHR0cHM6Ly9zb2NrZXQuaW8vZG9jcy92My9taWdyYXRpbmctZnJvbS0yLXgtdG8tMy0wLylcIikpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2Ugc29ja2V0X2lvX3BhcnNlcl8xLlBhY2tldFR5cGUuRVZFTlQ6XG4gICAgICAgICAgdGhpcy5vbmV2ZW50KHBhY2tldCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBzb2NrZXRfaW9fcGFyc2VyXzEuUGFja2V0VHlwZS5CSU5BUllfRVZFTlQ6XG4gICAgICAgICAgdGhpcy5vbmV2ZW50KHBhY2tldCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBzb2NrZXRfaW9fcGFyc2VyXzEuUGFja2V0VHlwZS5BQ0s6XG4gICAgICAgICAgdGhpcy5vbmFjayhwYWNrZXQpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2Ugc29ja2V0X2lvX3BhcnNlcl8xLlBhY2tldFR5cGUuQklOQVJZX0FDSzpcbiAgICAgICAgICB0aGlzLm9uYWNrKHBhY2tldCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBzb2NrZXRfaW9fcGFyc2VyXzEuUGFja2V0VHlwZS5ESVNDT05ORUNUOlxuICAgICAgICAgIHRoaXMub25kaXNjb25uZWN0KCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBzb2NrZXRfaW9fcGFyc2VyXzEuUGFja2V0VHlwZS5DT05ORUNUX0VSUk9SOlxuICAgICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IocGFja2V0LmRhdGEubWVzc2FnZSk7IC8vIEB0cy1pZ25vcmVcblxuICAgICAgICAgIGVyci5kYXRhID0gcGFja2V0LmRhdGEuZGF0YTtcbiAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RfZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gYSBzZXJ2ZXIgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uZXZlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25ldmVudChwYWNrZXQpIHtcbiAgICAgIHZhciBhcmdzID0gcGFja2V0LmRhdGEgfHwgW107XG4gICAgICBkZWJ1ZyhcImVtaXR0aW5nIGV2ZW50ICVqXCIsIGFyZ3MpO1xuXG4gICAgICBpZiAobnVsbCAhPSBwYWNrZXQuaWQpIHtcbiAgICAgICAgZGVidWcoXCJhdHRhY2hpbmcgYWNrIGNhbGxiYWNrIHRvIGV2ZW50XCIpO1xuICAgICAgICBhcmdzLnB1c2godGhpcy5hY2socGFja2V0LmlkKSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICB0aGlzLmVtaXRFdmVudChhcmdzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVjZWl2ZUJ1ZmZlci5wdXNoKE9iamVjdC5mcmVlemUoYXJncykpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJlbWl0RXZlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW1pdEV2ZW50KGFyZ3MpIHtcbiAgICAgIGlmICh0aGlzLl9hbnlMaXN0ZW5lcnMgJiYgdGhpcy5fYW55TGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fYW55TGlzdGVuZXJzLnNsaWNlKCk7XG5cbiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGxpc3RlbmVycyksXG4gICAgICAgICAgICBfc3RlcDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICB2YXIgbGlzdGVuZXIgPSBfc3RlcC52YWx1ZTtcbiAgICAgICAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKFNvY2tldC5wcm90b3R5cGUpLCBcImVtaXRcIiwgdGhpcykuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIGFuIGFjayBjYWxsYmFjayB0byBlbWl0IHdpdGggYW4gZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWNrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFjayhpZCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHNlbnQgPSBmYWxzZTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHByZXZlbnQgZG91YmxlIGNhbGxiYWNrc1xuICAgICAgICBpZiAoc2VudCkgcmV0dXJuO1xuICAgICAgICBzZW50ID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICAgIH1cblxuICAgICAgICBkZWJ1ZyhcInNlbmRpbmcgYWNrICVqXCIsIGFyZ3MpO1xuICAgICAgICBzZWxmLnBhY2tldCh7XG4gICAgICAgICAgdHlwZTogc29ja2V0X2lvX3BhcnNlcl8xLlBhY2tldFR5cGUuQUNLLFxuICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICBkYXRhOiBhcmdzXG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gYSBzZXJ2ZXIgYWNrbm93bGVnZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uYWNrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uYWNrKHBhY2tldCkge1xuICAgICAgdmFyIGFjayA9IHRoaXMuYWNrc1twYWNrZXQuaWRdO1xuXG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgYWNrKSB7XG4gICAgICAgIGRlYnVnKFwiY2FsbGluZyBhY2sgJXMgd2l0aCAlalwiLCBwYWNrZXQuaWQsIHBhY2tldC5kYXRhKTtcbiAgICAgICAgYWNrLmFwcGx5KHRoaXMsIHBhY2tldC5kYXRhKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuYWNrc1twYWNrZXQuaWRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVidWcoXCJiYWQgYWNrICVzXCIsIHBhY2tldC5pZCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHNlcnZlciBjb25uZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uY29ubmVjdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbmNvbm5lY3QoaWQpIHtcbiAgICAgIGRlYnVnKFwic29ja2V0IGNvbm5lY3RlZCB3aXRoIGlkICVzXCIsIGlkKTtcbiAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgIHRoaXMuY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuZGlzY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmVtaXRCdWZmZXJlZCgpO1xuICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjb25uZWN0XCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbWl0IGJ1ZmZlcmVkIGV2ZW50cyAocmVjZWl2ZWQgYW5kIGVtaXR0ZWQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImVtaXRCdWZmZXJlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbWl0QnVmZmVyZWQoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdGhpcy5yZWNlaXZlQnVmZmVyLmZvckVhY2goZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMy5lbWl0RXZlbnQoYXJncyk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMucmVjZWl2ZUJ1ZmZlciA9IFtdO1xuICAgICAgdGhpcy5zZW5kQnVmZmVyLmZvckVhY2goZnVuY3Rpb24gKHBhY2tldCkge1xuICAgICAgICByZXR1cm4gX3RoaXMzLnBhY2tldChwYWNrZXQpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnNlbmRCdWZmZXIgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gc2VydmVyIGRpc2Nvbm5lY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib25kaXNjb25uZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uZGlzY29ubmVjdCgpIHtcbiAgICAgIGRlYnVnKFwic2VydmVyIGRpc2Nvbm5lY3QgKCVzKVwiLCB0aGlzLm5zcCk7XG4gICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMub25jbG9zZShcImlvIHNlcnZlciBkaXNjb25uZWN0XCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBmb3JjZWQgY2xpZW50L3NlcnZlciBzaWRlIGRpc2Nvbm5lY3Rpb25zLFxuICAgICAqIHRoaXMgbWV0aG9kIGVuc3VyZXMgdGhlIG1hbmFnZXIgc3RvcHMgdHJhY2tpbmcgdXMgYW5kXG4gICAgICogdGhhdCByZWNvbm5lY3Rpb25zIGRvbid0IGdldCB0cmlnZ2VyZWQgZm9yIHRoaXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVzdHJveVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgaWYgKHRoaXMuc3Vicykge1xuICAgICAgICAvLyBjbGVhbiBzdWJzY3JpcHRpb25zIHRvIGF2b2lkIHJlY29ubmVjdGlvbnNcbiAgICAgICAgdGhpcy5zdWJzLmZvckVhY2goZnVuY3Rpb24gKHN1YkRlc3Ryb3kpIHtcbiAgICAgICAgICByZXR1cm4gc3ViRGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdWJzID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmlvW1wiX2Rlc3Ryb3lcIl0odGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3RzIHRoZSBzb2NrZXQgbWFudWFsbHkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKiBAcHVibGljXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkaXNjb25uZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2Nvbm5lY3QoKSB7XG4gICAgICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgZGVidWcoXCJwZXJmb3JtaW5nIGRpc2Nvbm5lY3QgKCVzKVwiLCB0aGlzLm5zcCk7XG4gICAgICAgIHRoaXMucGFja2V0KHtcbiAgICAgICAgICB0eXBlOiBzb2NrZXRfaW9fcGFyc2VyXzEuUGFja2V0VHlwZS5ESVNDT05ORUNUXG4gICAgICAgIH0pO1xuICAgICAgfSAvLyByZW1vdmUgc29ja2V0IGZyb20gcG9vbFxuXG5cbiAgICAgIHRoaXMuZGVzdHJveSgpO1xuXG4gICAgICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgLy8gZmlyZSBldmVudHNcbiAgICAgICAgdGhpcy5vbmNsb3NlKFwiaW8gY2xpZW50IGRpc2Nvbm5lY3RcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3IgZGlzY29ubmVjdCgpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKiBAcHVibGljXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjbG9zZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY29tcHJlc3MgZmxhZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb21wcmVzcyAtIGlmIGB0cnVlYCwgY29tcHJlc3NlcyB0aGUgc2VuZGluZyBkYXRhXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcHJlc3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcHJlc3MoX2NvbXByZXNzKSB7XG4gICAgICB0aGlzLmZsYWdzLmNvbXByZXNzID0gX2NvbXByZXNzO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgYSBtb2RpZmllciBmb3IgYSBzdWJzZXF1ZW50IGV2ZW50IGVtaXNzaW9uIHRoYXQgdGhlIGV2ZW50IG1lc3NhZ2Ugd2lsbCBiZSBkcm9wcGVkIHdoZW4gdGhpcyBzb2NrZXQgaXMgbm90XG4gICAgICogcmVhZHkgdG8gc2VuZCBtZXNzYWdlcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHNlbGZcbiAgICAgKiBAcHVibGljXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ2b2xhdGlsZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdGhpcy5mbGFnc1tcInZvbGF0aWxlXCJdID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuIFRoZSBldmVudCBuYW1lIGlzIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlXG4gICAgICogY2FsbGJhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKiBAcHVibGljXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvbkFueVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkFueShsaXN0ZW5lcikge1xuICAgICAgdGhpcy5fYW55TGlzdGVuZXJzID0gdGhpcy5fYW55TGlzdGVuZXJzIHx8IFtdO1xuXG4gICAgICB0aGlzLl9hbnlMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuIFRoZSBldmVudCBuYW1lIGlzIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlXG4gICAgICogY2FsbGJhY2suIFRoZSBsaXN0ZW5lciBpcyBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaXN0ZW5lcnMgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKiBAcHVibGljXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJwcmVwZW5kQW55XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHByZXBlbmRBbnkobGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuX2FueUxpc3RlbmVycyA9IHRoaXMuX2FueUxpc3RlbmVycyB8fCBbXTtcblxuICAgICAgdGhpcy5fYW55TGlzdGVuZXJzLnVuc2hpZnQobGlzdGVuZXIpO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKiBAcHVibGljXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvZmZBbnlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb2ZmQW55KGxpc3RlbmVyKSB7XG4gICAgICBpZiAoIXRoaXMuX2FueUxpc3RlbmVycykge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9hbnlMaXN0ZW5lcnM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAobGlzdGVuZXIgPT09IGxpc3RlbmVyc1tpXSkge1xuICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fYW55TGlzdGVuZXJzID0gW107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0aGF0IGFyZSBsaXN0ZW5pbmcgZm9yIGFueSBldmVudCB0aGF0IGlzIHNwZWNpZmllZC4gVGhpcyBhcnJheSBjYW4gYmUgbWFuaXB1bGF0ZWQsXG4gICAgICogZS5nLiB0byByZW1vdmUgbGlzdGVuZXJzLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGlzdGVuZXJzQW55XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxpc3RlbmVyc0FueSgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hbnlMaXN0ZW5lcnMgfHwgW107XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNvY2tldDtcbn0odHlwZWRfZXZlbnRzXzEuU3RyaWN0RXZlbnRFbWl0dGVyKTtcblxuZXhwb3J0cy5Tb2NrZXQgPSBTb2NrZXQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vYnVpbGQvdHlwZWQtZXZlbnRzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vYnVpbGQvdHlwZWQtZXZlbnRzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBSZWZsZWN0LmdldCkgeyBfZ2V0ID0gUmVmbGVjdC5nZXQ7IH0gZWxzZSB7IF9nZXQgPSBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IHZhciBiYXNlID0gX3N1cGVyUHJvcEJhc2UodGFyZ2V0LCBwcm9wZXJ0eSk7IGlmICghYmFzZSkgcmV0dXJuOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZSwgcHJvcGVydHkpOyBpZiAoZGVzYy5nZXQpIHsgcmV0dXJuIGRlc2MuZ2V0LmNhbGwocmVjZWl2ZXIpOyB9IHJldHVybiBkZXNjLnZhbHVlOyB9OyB9IHJldHVybiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyIHx8IHRhcmdldCk7IH1cblxuZnVuY3Rpb24gX3N1cGVyUHJvcEJhc2Uob2JqZWN0LCBwcm9wZXJ0eSkgeyB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkgeyBvYmplY3QgPSBfZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgYnJlYWs7IH0gcmV0dXJuIG9iamVjdDsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlN0cmljdEV2ZW50RW1pdHRlciA9IHZvaWQgMDtcblxudmFyIEVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBjb21wb25lbnQtZW1pdHRlciAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvbXBvbmVudC1lbWl0dGVyL2luZGV4LmpzXCIpO1xuLyoqXG4gKiBTdHJpY3RseSB0eXBlZCB2ZXJzaW9uIG9mIGFuIGBFdmVudEVtaXR0ZXJgLiBBIGBUeXBlZEV2ZW50RW1pdHRlcmAgdGFrZXMgdHlwZVxuICogcGFyYW1ldGVycyBmb3IgbWFwcGluZ3Mgb2YgZXZlbnQgbmFtZXMgdG8gZXZlbnQgZGF0YSB0eXBlcywgYW5kIHN0cmljdGx5XG4gKiB0eXBlcyBtZXRob2QgY2FsbHMgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGFjY29yZGluZyB0byB0aGVzZSBldmVudCBtYXBzLlxuICpcbiAqIEB0eXBlUGFyYW0gTGlzdGVuRXZlbnRzIC0gYEV2ZW50c01hcGAgb2YgdXNlci1kZWZpbmVkIGV2ZW50cyB0aGF0IGNhbiBiZVxuICogbGlzdGVuZWQgdG8gd2l0aCBgb25gIG9yIGBvbmNlYFxuICogQHR5cGVQYXJhbSBFbWl0RXZlbnRzIC0gYEV2ZW50c01hcGAgb2YgdXNlci1kZWZpbmVkIGV2ZW50cyB0aGF0IGNhbiBiZVxuICogZW1pdHRlZCB3aXRoIGBlbWl0YFxuICogQHR5cGVQYXJhbSBSZXNlcnZlZEV2ZW50cyAtIGBFdmVudHNNYXBgIG9mIHJlc2VydmVkIGV2ZW50cywgdGhhdCBjYW4gYmVcbiAqIGVtaXR0ZWQgYnkgc29ja2V0LmlvIHdpdGggYGVtaXRSZXNlcnZlZGAsIGFuZCBjYW4gYmUgbGlzdGVuZWQgdG8gd2l0aFxuICogYGxpc3RlbmAuXG4gKi9cblxuXG52YXIgU3RyaWN0RXZlbnRFbWl0dGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRW1pdHRlcikge1xuICBfaW5oZXJpdHMoU3RyaWN0RXZlbnRFbWl0dGVyLCBfRW1pdHRlcik7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihTdHJpY3RFdmVudEVtaXR0ZXIpO1xuXG4gIGZ1bmN0aW9uIFN0cmljdEV2ZW50RW1pdHRlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RyaWN0RXZlbnRFbWl0dGVyKTtcblxuICAgIHJldHVybiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTdHJpY3RFdmVudEVtaXR0ZXIsIFt7XG4gICAga2V5OiBcIm9uXCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgYGxpc3RlbmVyYCBmdW5jdGlvbiBhcyBhbiBldmVudCBsaXN0ZW5lciBmb3IgYGV2YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldiBOYW1lIG9mIHRoZSBldmVudFxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBDYWxsYmFjayBmdW5jdGlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uKGV2LCBsaXN0ZW5lcikge1xuICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoU3RyaWN0RXZlbnRFbWl0dGVyLnByb3RvdHlwZSksIFwib25cIiwgdGhpcykuY2FsbCh0aGlzLCBldiwgbGlzdGVuZXIpO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIG9uZS10aW1lIGBsaXN0ZW5lcmAgZnVuY3Rpb24gYXMgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGBldmAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXYgTmFtZSBvZiB0aGUgZXZlbnRcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgQ2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25jZShldiwgbGlzdGVuZXIpIHtcbiAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKFN0cmljdEV2ZW50RW1pdHRlci5wcm90b3R5cGUpLCBcIm9uY2VcIiwgdGhpcykuY2FsbCh0aGlzLCBldiwgbGlzdGVuZXIpO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1pdHMgYW4gZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXYgTmFtZSBvZiB0aGUgZXZlbnRcbiAgICAgKiBAcGFyYW0gYXJncyBWYWx1ZXMgdG8gc2VuZCB0byBsaXN0ZW5lcnMgb2YgdGhpcyBldmVudFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZW1pdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbWl0KGV2KSB7XG4gICAgICB2YXIgX2dldDI7XG5cbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIChfZ2V0MiA9IF9nZXQoX2dldFByb3RvdHlwZU9mKFN0cmljdEV2ZW50RW1pdHRlci5wcm90b3R5cGUpLCBcImVtaXRcIiwgdGhpcykpLmNhbGwuYXBwbHkoX2dldDIsIFt0aGlzLCBldl0uY29uY2F0KGFyZ3MpKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIGEgcmVzZXJ2ZWQgZXZlbnQuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBgcHJvdGVjdGVkYCwgc28gdGhhdCBvbmx5IGEgY2xhc3MgZXh0ZW5kaW5nXG4gICAgICogYFN0cmljdEV2ZW50RW1pdHRlcmAgY2FuIGVtaXQgaXRzIG93biByZXNlcnZlZCBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXYgUmVzZXJ2ZWQgZXZlbnQgbmFtZVxuICAgICAqIEBwYXJhbSBhcmdzIEFyZ3VtZW50cyB0byBlbWl0IGFsb25nIHdpdGggdGhlIGV2ZW50XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJlbWl0UmVzZXJ2ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW1pdFJlc2VydmVkKGV2KSB7XG4gICAgICB2YXIgX2dldDM7XG5cbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIChfZ2V0MyA9IF9nZXQoX2dldFByb3RvdHlwZU9mKFN0cmljdEV2ZW50RW1pdHRlci5wcm90b3R5cGUpLCBcImVtaXRcIiwgdGhpcykpLmNhbGwuYXBwbHkoX2dldDMsIFt0aGlzLCBldl0uY29uY2F0KGFyZ3MpKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxpc3RlbmVycyBsaXN0ZW5pbmcgdG8gYW4gZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXZlbnQgRXZlbnQgbmFtZVxuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIGxpc3RlbmVycyBzdWJzY3JpYmVkIHRvIGBldmVudGBcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxpc3RlbmVyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsaXN0ZW5lcnMoZXZlbnQpIHtcbiAgICAgIHJldHVybiBfZ2V0KF9nZXRQcm90b3R5cGVPZihTdHJpY3RFdmVudEVtaXR0ZXIucHJvdG90eXBlKSwgXCJsaXN0ZW5lcnNcIiwgdGhpcykuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN0cmljdEV2ZW50RW1pdHRlcjtcbn0oRW1pdHRlcik7XG5cbmV4cG9ydHMuU3RyaWN0RXZlbnRFbWl0dGVyID0gU3RyaWN0RXZlbnRFbWl0dGVyO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL2J1aWxkL3VybC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL2J1aWxkL3VybC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy51cmwgPSB2b2lkIDA7XG5cbnZhciBwYXJzZXVyaSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHBhcnNldXJpICovIFwiLi9ub2RlX21vZHVsZXMvcGFyc2V1cmkvaW5kZXguanNcIik7XG5cbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGRlYnVnICovIFwiLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanNcIikoXCJzb2NrZXQuaW8tY2xpZW50OnVybFwiKTtcbi8qKlxuICogVVJMIHBhcnNlci5cbiAqXG4gKiBAcGFyYW0gdXJpIC0gdXJsXG4gKiBAcGFyYW0gcGF0aCAtIHRoZSByZXF1ZXN0IHBhdGggb2YgdGhlIGNvbm5lY3Rpb25cbiAqIEBwYXJhbSBsb2MgLSBBbiBvYmplY3QgbWVhbnQgdG8gbWltaWMgd2luZG93LmxvY2F0aW9uLlxuICogICAgICAgIERlZmF1bHRzIHRvIHdpbmRvdy5sb2NhdGlvbi5cbiAqIEBwdWJsaWNcbiAqL1xuXG5cbmZ1bmN0aW9uIHVybCh1cmkpIHtcbiAgdmFyIHBhdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFwiXCI7XG4gIHZhciBsb2MgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDtcbiAgdmFyIG9iaiA9IHVyaTsgLy8gZGVmYXVsdCB0byB3aW5kb3cubG9jYXRpb25cblxuICBsb2MgPSBsb2MgfHwgdHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiICYmIGxvY2F0aW9uO1xuICBpZiAobnVsbCA9PSB1cmkpIHVyaSA9IGxvYy5wcm90b2NvbCArIFwiLy9cIiArIGxvYy5ob3N0OyAvLyByZWxhdGl2ZSBwYXRoIHN1cHBvcnRcblxuICBpZiAodHlwZW9mIHVyaSA9PT0gXCJzdHJpbmdcIikge1xuICAgIGlmIChcIi9cIiA9PT0gdXJpLmNoYXJBdCgwKSkge1xuICAgICAgaWYgKFwiL1wiID09PSB1cmkuY2hhckF0KDEpKSB7XG4gICAgICAgIHVyaSA9IGxvYy5wcm90b2NvbCArIHVyaTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVyaSA9IGxvYy5ob3N0ICsgdXJpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghL14oaHR0cHM/fHdzcz8pOlxcL1xcLy8udGVzdCh1cmkpKSB7XG4gICAgICBkZWJ1ZyhcInByb3RvY29sLWxlc3MgdXJsICVzXCIsIHVyaSk7XG5cbiAgICAgIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgbG9jKSB7XG4gICAgICAgIHVyaSA9IGxvYy5wcm90b2NvbCArIFwiLy9cIiArIHVyaTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVyaSA9IFwiaHR0cHM6Ly9cIiArIHVyaTtcbiAgICAgIH1cbiAgICB9IC8vIHBhcnNlXG5cblxuICAgIGRlYnVnKFwicGFyc2UgJXNcIiwgdXJpKTtcbiAgICBvYmogPSBwYXJzZXVyaSh1cmkpO1xuICB9IC8vIG1ha2Ugc3VyZSB3ZSB0cmVhdCBgbG9jYWxob3N0OjgwYCBhbmQgYGxvY2FsaG9zdGAgZXF1YWxseVxuXG5cbiAgaWYgKCFvYmoucG9ydCkge1xuICAgIGlmICgvXihodHRwfHdzKSQvLnRlc3Qob2JqLnByb3RvY29sKSkge1xuICAgICAgb2JqLnBvcnQgPSBcIjgwXCI7XG4gICAgfSBlbHNlIGlmICgvXihodHRwfHdzKXMkLy50ZXN0KG9iai5wcm90b2NvbCkpIHtcbiAgICAgIG9iai5wb3J0ID0gXCI0NDNcIjtcbiAgICB9XG4gIH1cblxuICBvYmoucGF0aCA9IG9iai5wYXRoIHx8IFwiL1wiO1xuICB2YXIgaXB2NiA9IG9iai5ob3N0LmluZGV4T2YoXCI6XCIpICE9PSAtMTtcbiAgdmFyIGhvc3QgPSBpcHY2ID8gXCJbXCIgKyBvYmouaG9zdCArIFwiXVwiIDogb2JqLmhvc3Q7IC8vIGRlZmluZSB1bmlxdWUgaWRcblxuICBvYmouaWQgPSBvYmoucHJvdG9jb2wgKyBcIjovL1wiICsgaG9zdCArIFwiOlwiICsgb2JqLnBvcnQgKyBwYXRoOyAvLyBkZWZpbmUgaHJlZlxuXG4gIG9iai5ocmVmID0gb2JqLnByb3RvY29sICsgXCI6Ly9cIiArIGhvc3QgKyAobG9jICYmIGxvYy5wb3J0ID09PSBvYmoucG9ydCA/IFwiXCIgOiBcIjpcIiArIG9iai5wb3J0KTtcbiAgcmV0dXJuIG9iajtcbn1cblxuZXhwb3J0cy51cmwgPSB1cmw7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2JhY2tvMi9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvYmFja28yL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKipcbiAqIEV4cG9zZSBgQmFja29mZmAuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gQmFja29mZjtcbi8qKlxuICogSW5pdGlhbGl6ZSBiYWNrb2ZmIHRpbWVyIHdpdGggYG9wdHNgLlxuICpcbiAqIC0gYG1pbmAgaW5pdGlhbCB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBbMTAwXVxuICogLSBgbWF4YCBtYXggdGltZW91dCBbMTAwMDBdXG4gKiAtIGBqaXR0ZXJgIFswXVxuICogLSBgZmFjdG9yYCBbMl1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0c1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBCYWNrb2ZmKG9wdHMpIHtcbiAgb3B0cyA9IG9wdHMgfHwge307XG4gIHRoaXMubXMgPSBvcHRzLm1pbiB8fCAxMDA7XG4gIHRoaXMubWF4ID0gb3B0cy5tYXggfHwgMTAwMDA7XG4gIHRoaXMuZmFjdG9yID0gb3B0cy5mYWN0b3IgfHwgMjtcbiAgdGhpcy5qaXR0ZXIgPSBvcHRzLmppdHRlciA+IDAgJiYgb3B0cy5qaXR0ZXIgPD0gMSA/IG9wdHMuaml0dGVyIDogMDtcbiAgdGhpcy5hdHRlbXB0cyA9IDA7XG59XG4vKipcbiAqIFJldHVybiB0aGUgYmFja29mZiBkdXJhdGlvbi5cbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuQmFja29mZi5wcm90b3R5cGUuZHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBtcyA9IHRoaXMubXMgKiBNYXRoLnBvdyh0aGlzLmZhY3RvciwgdGhpcy5hdHRlbXB0cysrKTtcblxuICBpZiAodGhpcy5qaXR0ZXIpIHtcbiAgICB2YXIgcmFuZCA9IE1hdGgucmFuZG9tKCk7XG4gICAgdmFyIGRldmlhdGlvbiA9IE1hdGguZmxvb3IocmFuZCAqIHRoaXMuaml0dGVyICogbXMpO1xuICAgIG1zID0gKE1hdGguZmxvb3IocmFuZCAqIDEwKSAmIDEpID09IDAgPyBtcyAtIGRldmlhdGlvbiA6IG1zICsgZGV2aWF0aW9uO1xuICB9XG5cbiAgcmV0dXJuIE1hdGgubWluKG1zLCB0aGlzLm1heCkgfCAwO1xufTtcbi8qKlxuICogUmVzZXQgdGhlIG51bWJlciBvZiBhdHRlbXB0cy5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuQmFja29mZi5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuYXR0ZW1wdHMgPSAwO1xufTtcbi8qKlxuICogU2V0IHRoZSBtaW5pbXVtIGR1cmF0aW9uXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5cbkJhY2tvZmYucHJvdG90eXBlLnNldE1pbiA9IGZ1bmN0aW9uIChtaW4pIHtcbiAgdGhpcy5tcyA9IG1pbjtcbn07XG4vKipcbiAqIFNldCB0aGUgbWF4aW11bSBkdXJhdGlvblxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuXG5CYWNrb2ZmLnByb3RvdHlwZS5zZXRNYXggPSBmdW5jdGlvbiAobWF4KSB7XG4gIHRoaXMubWF4ID0gbWF4O1xufTtcbi8qKlxuICogU2V0IHRoZSBqaXR0ZXJcbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuQmFja29mZi5wcm90b3R5cGUuc2V0Sml0dGVyID0gZnVuY3Rpb24gKGppdHRlcikge1xuICB0aGlzLmppdHRlciA9IGppdHRlcjtcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2NvbXBvbmVudC1lbWl0dGVyL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2NvbXBvbmVudC1lbWl0dGVyL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8qKlxyXG4gKiBFeHBvc2UgYEVtaXR0ZXJgLlxyXG4gKi9cbmlmICh0cnVlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRW1pdHRlcjtcbn1cbi8qKlxyXG4gKiBJbml0aWFsaXplIGEgbmV3IGBFbWl0dGVyYC5cclxuICpcclxuICogQGFwaSBwdWJsaWNcclxuICovXG5cblxuZnVuY3Rpb24gRW1pdHRlcihvYmopIHtcbiAgaWYgKG9iaikgcmV0dXJuIG1peGluKG9iaik7XG59XG5cbjtcbi8qKlxyXG4gKiBNaXhpbiB0aGUgZW1pdHRlciBwcm9wZXJ0aWVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICogQGFwaSBwcml2YXRlXHJcbiAqL1xuXG5mdW5jdGlvbiBtaXhpbihvYmopIHtcbiAgZm9yICh2YXIga2V5IGluIEVtaXR0ZXIucHJvdG90eXBlKSB7XG4gICAgb2JqW2tleV0gPSBFbWl0dGVyLnByb3RvdHlwZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cbi8qKlxyXG4gKiBMaXN0ZW4gb24gdGhlIGdpdmVuIGBldmVudGAgd2l0aCBgZm5gLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXG5cblxuRW1pdHRlci5wcm90b3R5cGUub24gPSBFbWl0dGVyLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50LCBmbikge1xuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XG4gICh0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSB8fCBbXSkucHVzaChmbik7XG4gIHJldHVybiB0aGlzO1xufTtcbi8qKlxyXG4gKiBBZGRzIGFuIGBldmVudGAgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGludm9rZWQgYSBzaW5nbGVcclxuICogdGltZSB0aGVuIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZC5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xuXG5cbkVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnQsIGZuKSB7XG4gIGZ1bmN0aW9uIG9uKCkge1xuICAgIHRoaXMub2ZmKGV2ZW50LCBvbik7XG4gICAgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIG9uLmZuID0gZm47XG4gIHRoaXMub24oZXZlbnQsIG9uKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuLyoqXHJcbiAqIFJlbW92ZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgZm9yIGBldmVudGAgb3IgYWxsXHJcbiAqIHJlZ2lzdGVyZWQgY2FsbGJhY2tzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXG5cblxuRW1pdHRlci5wcm90b3R5cGUub2ZmID0gRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50LCBmbikge1xuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307IC8vIGFsbFxuXG4gIGlmICgwID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSAvLyBzcGVjaWZpYyBldmVudFxuXG5cbiAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG4gIGlmICghY2FsbGJhY2tzKSByZXR1cm4gdGhpczsgLy8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xuXG4gIGlmICgxID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSAvLyByZW1vdmUgc3BlY2lmaWMgaGFuZGxlclxuXG5cbiAgdmFyIGNiO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgY2IgPSBjYWxsYmFja3NbaV07XG5cbiAgICBpZiAoY2IgPT09IGZuIHx8IGNiLmZuID09PSBmbikge1xuICAgICAgY2FsbGJhY2tzLnNwbGljZShpLCAxKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSAvLyBSZW1vdmUgZXZlbnQgc3BlY2lmaWMgYXJyYXlzIGZvciBldmVudCB0eXBlcyB0aGF0IG5vXG4gIC8vIG9uZSBpcyBzdWJzY3JpYmVkIGZvciB0byBhdm9pZCBtZW1vcnkgbGVhay5cblxuXG4gIGlmIChjYWxsYmFja3MubGVuZ3RoID09PSAwKSB7XG4gICAgZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG4vKipcclxuICogRW1pdCBgZXZlbnRgIHdpdGggdGhlIGdpdmVuIGFyZ3MuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge01peGVkfSAuLi5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICovXG5cblxuRW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChldmVudCkge1xuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XG4gIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKSxcbiAgICAgIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgfVxuXG4gIGlmIChjYWxsYmFja3MpIHtcbiAgICBjYWxsYmFja3MgPSBjYWxsYmFja3Muc2xpY2UoMCk7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBjYWxsYmFja3NbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuLyoqXHJcbiAqIFJldHVybiBhcnJheSBvZiBjYWxsYmFja3MgZm9yIGBldmVudGAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcmV0dXJuIHtBcnJheX1cclxuICogQGFwaSBwdWJsaWNcclxuICovXG5cblxuRW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcbiAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gfHwgW107XG59O1xuLyoqXHJcbiAqIENoZWNrIGlmIHRoaXMgZW1pdHRlciBoYXMgYGV2ZW50YCBoYW5kbGVycy5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xuXG5cbkVtaXR0ZXIucHJvdG90eXBlLmhhc0xpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudCkge1xuICByZXR1cm4gISF0aGlzLmxpc3RlbmVycyhldmVudCkubGVuZ3RoO1xufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICovXG5leHBvcnRzLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuZXhwb3J0cy5zYXZlID0gc2F2ZTtcbmV4cG9ydHMubG9hZCA9IGxvYWQ7XG5leHBvcnRzLnVzZUNvbG9ycyA9IHVzZUNvbG9ycztcbmV4cG9ydHMuc3RvcmFnZSA9IGxvY2Fsc3RvcmFnZSgpO1xuXG5leHBvcnRzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuICAgIH1cbiAgfTtcbn0oKTtcbi8qKlxuICogQ29sb3JzLlxuICovXG5cblxuZXhwb3J0cy5jb2xvcnMgPSBbJyMwMDAwQ0MnLCAnIzAwMDBGRicsICcjMDAzM0NDJywgJyMwMDMzRkYnLCAnIzAwNjZDQycsICcjMDA2NkZGJywgJyMwMDk5Q0MnLCAnIzAwOTlGRicsICcjMDBDQzAwJywgJyMwMENDMzMnLCAnIzAwQ0M2NicsICcjMDBDQzk5JywgJyMwMENDQ0MnLCAnIzAwQ0NGRicsICcjMzMwMENDJywgJyMzMzAwRkYnLCAnIzMzMzNDQycsICcjMzMzM0ZGJywgJyMzMzY2Q0MnLCAnIzMzNjZGRicsICcjMzM5OUNDJywgJyMzMzk5RkYnLCAnIzMzQ0MwMCcsICcjMzNDQzMzJywgJyMzM0NDNjYnLCAnIzMzQ0M5OScsICcjMzNDQ0NDJywgJyMzM0NDRkYnLCAnIzY2MDBDQycsICcjNjYwMEZGJywgJyM2NjMzQ0MnLCAnIzY2MzNGRicsICcjNjZDQzAwJywgJyM2NkNDMzMnLCAnIzk5MDBDQycsICcjOTkwMEZGJywgJyM5OTMzQ0MnLCAnIzk5MzNGRicsICcjOTlDQzAwJywgJyM5OUNDMzMnLCAnI0NDMDAwMCcsICcjQ0MwMDMzJywgJyNDQzAwNjYnLCAnI0NDMDA5OScsICcjQ0MwMENDJywgJyNDQzAwRkYnLCAnI0NDMzMwMCcsICcjQ0MzMzMzJywgJyNDQzMzNjYnLCAnI0NDMzM5OScsICcjQ0MzM0NDJywgJyNDQzMzRkYnLCAnI0NDNjYwMCcsICcjQ0M2NjMzJywgJyNDQzk5MDAnLCAnI0NDOTkzMycsICcjQ0NDQzAwJywgJyNDQ0NDMzMnLCAnI0ZGMDAwMCcsICcjRkYwMDMzJywgJyNGRjAwNjYnLCAnI0ZGMDA5OScsICcjRkYwMENDJywgJyNGRjAwRkYnLCAnI0ZGMzMwMCcsICcjRkYzMzMzJywgJyNGRjMzNjYnLCAnI0ZGMzM5OScsICcjRkYzM0NDJywgJyNGRjMzRkYnLCAnI0ZGNjYwMCcsICcjRkY2NjMzJywgJyNGRjk5MDAnLCAnI0ZGOTkzMycsICcjRkZDQzAwJywgJyNGRkNDMzMnXTtcbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5cbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcbiAgLy8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuICAvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuICAvLyBleHBsaWNpdGx5XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gSW50ZXJuZXQgRXhwbG9yZXIgYW5kIEVkZ2UgZG8gbm90IHN1cHBvcnQgY29sb3JzLlxuXG5cbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC8oZWRnZXx0cmlkZW50KVxcLyhcXGQrKS8pKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IC8vIElzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG4gIC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG5cblxuICByZXR1cm4gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlIHx8IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS5maXJlYnVnIHx8IHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkgfHwgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSAmJiBwYXJzZUludChSZWdFeHAuJDEsIDEwKSA+PSAzMSB8fCB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKTtcbn1cbi8qKlxuICogQ29sb3JpemUgbG9nIGFyZ3VtZW50cyBpZiBlbmFibGVkLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcbiAgYXJnc1swXSA9ICh0aGlzLnVzZUNvbG9ycyA/ICclYycgOiAnJykgKyB0aGlzLm5hbWVzcGFjZSArICh0aGlzLnVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKSArIGFyZ3NbMF0gKyAodGhpcy51c2VDb2xvcnMgPyAnJWMgJyA6ICcgJykgKyAnKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG4gIGlmICghdGhpcy51c2VDb2xvcnMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG4gIGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpOyAvLyBUaGUgZmluYWwgXCIlY1wiIGlzIHNvbWV3aGF0IHRyaWNreSwgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvdGhlclxuICAvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvXG4gIC8vIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgaW5kZXggdG8gaW5zZXJ0IHRoZSBDU1MgaW50b1xuXG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBsYXN0QyA9IDA7XG4gIGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICBpZiAobWF0Y2ggPT09ICclJScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpbmRleCsrO1xuXG4gICAgaWYgKG1hdGNoID09PSAnJWMnKSB7XG4gICAgICAvLyBXZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcbiAgICAgIC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG4gICAgICBsYXN0QyA9IGluZGV4O1xuICAgIH1cbiAgfSk7XG4gIGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTtcbn1cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5kZWJ1ZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqIElmIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYXZhaWxhYmxlLCBmYWxscyBiYWNrXG4gKiB0byBgY29uc29sZS5sb2dgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuXG5leHBvcnRzLmxvZyA9IGNvbnNvbGUuZGVidWcgfHwgY29uc29sZS5sb2cgfHwgZnVuY3Rpb24gKCkge307XG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuICB0cnkge1xuICAgIGlmIChuYW1lc3BhY2VzKSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2Uuc2V0SXRlbSgnZGVidWcnLCBuYW1lc3BhY2VzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikgey8vIFN3YWxsb3dcbiAgICAvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cbiAgfVxufVxuLyoqXG4gKiBMb2FkIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybnMgdGhlIHByZXZpb3VzbHkgcGVyc2lzdGVkIGRlYnVnIG1vZGVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5cbmZ1bmN0aW9uIGxvYWQoKSB7XG4gIHZhciByO1xuXG4gIHRyeSB7XG4gICAgciA9IGV4cG9ydHMuc3RvcmFnZS5nZXRJdGVtKCdkZWJ1ZycpO1xuICB9IGNhdGNoIChlcnJvcikgey8vIFN3YWxsb3dcbiAgICAvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cbiAgfSAvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG5cblxuICBpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcbiAgICByID0gcHJvY2Vzcy5lbnYuREVCVUc7XG4gIH1cblxuICByZXR1cm4gcjtcbn1cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKSB7XG4gIHRyeSB7XG4gICAgLy8gVFZNTEtpdCAoQXBwbGUgVFYgSlMgUnVudGltZSkgZG9lcyBub3QgaGF2ZSBhIHdpbmRvdyBvYmplY3QsIGp1c3QgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dFxuICAgIC8vIFRoZSBCcm93c2VyIGFsc28gaGFzIGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHQuXG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHsvLyBTd2FsbG93XG4gICAgLy8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbW1vbiAqLyBcIi4vbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9jb21tb24uanNcIikoZXhwb3J0cyk7XG52YXIgZm9ybWF0dGVycyA9IG1vZHVsZS5leHBvcnRzLmZvcm1hdHRlcnM7XG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbiAodikge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyb3IubWVzc2FnZTtcbiAgfVxufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2NvbW1vbi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9jb21tb24uanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqL1xuZnVuY3Rpb24gc2V0dXAoZW52KSB7XG4gIGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWc7XG4gIGNyZWF0ZURlYnVnW1wiZGVmYXVsdFwiXSA9IGNyZWF0ZURlYnVnO1xuICBjcmVhdGVEZWJ1Zy5jb2VyY2UgPSBjb2VyY2U7XG4gIGNyZWF0ZURlYnVnLmRpc2FibGUgPSBkaXNhYmxlO1xuICBjcmVhdGVEZWJ1Zy5lbmFibGUgPSBlbmFibGU7XG4gIGNyZWF0ZURlYnVnLmVuYWJsZWQgPSBlbmFibGVkO1xuICBjcmVhdGVEZWJ1Zy5odW1hbml6ZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIG1zICovIFwiLi9ub2RlX21vZHVsZXMvbXMvaW5kZXguanNcIik7XG4gIGNyZWF0ZURlYnVnLmRlc3Ryb3kgPSBkZXN0cm95O1xuICBPYmplY3Qua2V5cyhlbnYpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGNyZWF0ZURlYnVnW2tleV0gPSBlbnZba2V5XTtcbiAgfSk7XG4gIC8qKlxuICAqIFRoZSBjdXJyZW50bHkgYWN0aXZlIGRlYnVnIG1vZGUgbmFtZXMsIGFuZCBuYW1lcyB0byBza2lwLlxuICAqL1xuXG4gIGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG4gIGNyZWF0ZURlYnVnLnNraXBzID0gW107XG4gIC8qKlxuICAqIE1hcCBvZiBzcGVjaWFsIFwiJW5cIiBoYW5kbGluZyBmdW5jdGlvbnMsIGZvciB0aGUgZGVidWcgXCJmb3JtYXRcIiBhcmd1bWVudC5cbiAgKlxuICAqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cbiAgKi9cblxuICBjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzID0ge307XG4gIC8qKlxuICAqIFNlbGVjdHMgYSBjb2xvciBmb3IgYSBkZWJ1ZyBuYW1lc3BhY2VcbiAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIFRoZSBuYW1lc3BhY2Ugc3RyaW5nIGZvciB0aGUgZm9yIHRoZSBkZWJ1ZyBpbnN0YW5jZSB0byBiZSBjb2xvcmVkXG4gICogQHJldHVybiB7TnVtYmVyfFN0cmluZ30gQW4gQU5TSSBjb2xvciBjb2RlIGZvciB0aGUgZ2l2ZW4gbmFtZXNwYWNlXG4gICogQGFwaSBwcml2YXRlXG4gICovXG5cbiAgZnVuY3Rpb24gc2VsZWN0Q29sb3IobmFtZXNwYWNlKSB7XG4gICAgdmFyIGhhc2ggPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lc3BhY2UubGVuZ3RoOyBpKyspIHtcbiAgICAgIGhhc2ggPSAoaGFzaCA8PCA1KSAtIGhhc2ggKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcbiAgICAgIGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZURlYnVnLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGNyZWF0ZURlYnVnLmNvbG9ycy5sZW5ndGhdO1xuICB9XG5cbiAgY3JlYXRlRGVidWcuc2VsZWN0Q29sb3IgPSBzZWxlY3RDb2xvcjtcbiAgLyoqXG4gICogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG4gICpcbiAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gICogQHJldHVybiB7RnVuY3Rpb259XG4gICogQGFwaSBwdWJsaWNcbiAgKi9cblxuICBmdW5jdGlvbiBjcmVhdGVEZWJ1ZyhuYW1lc3BhY2UpIHtcbiAgICB2YXIgcHJldlRpbWU7XG4gICAgdmFyIGVuYWJsZU92ZXJyaWRlID0gbnVsbDtcbiAgICB2YXIgbmFtZXNwYWNlc0NhY2hlO1xuICAgIHZhciBlbmFibGVkQ2FjaGU7XG5cbiAgICBmdW5jdGlvbiBkZWJ1ZygpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICAvLyBEaXNhYmxlZD9cbiAgICAgIGlmICghZGVidWcuZW5hYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzZWxmID0gZGVidWc7IC8vIFNldCBgZGlmZmAgdGltZXN0YW1wXG5cbiAgICAgIHZhciBjdXJyID0gTnVtYmVyKG5ldyBEYXRlKCkpO1xuICAgICAgdmFyIG1zID0gY3VyciAtIChwcmV2VGltZSB8fCBjdXJyKTtcbiAgICAgIHNlbGYuZGlmZiA9IG1zO1xuICAgICAgc2VsZi5wcmV2ID0gcHJldlRpbWU7XG4gICAgICBzZWxmLmN1cnIgPSBjdXJyO1xuICAgICAgcHJldlRpbWUgPSBjdXJyO1xuICAgICAgYXJnc1swXSA9IGNyZWF0ZURlYnVnLmNvZXJjZShhcmdzWzBdKTtcblxuICAgICAgaWYgKHR5cGVvZiBhcmdzWzBdICE9PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBBbnl0aGluZyBlbHNlIGxldCdzIGluc3BlY3Qgd2l0aCAlT1xuICAgICAgICBhcmdzLnVuc2hpZnQoJyVPJyk7XG4gICAgICB9IC8vIEFwcGx5IGFueSBgZm9ybWF0dGVyc2AgdHJhbnNmb3JtYXRpb25zXG5cblxuICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgIGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCBmdW5jdGlvbiAobWF0Y2gsIGZvcm1hdCkge1xuICAgICAgICAvLyBJZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG4gICAgICAgIGlmIChtYXRjaCA9PT0gJyUlJykge1xuICAgICAgICAgIHJldHVybiAnJSc7XG4gICAgICAgIH1cblxuICAgICAgICBpbmRleCsrO1xuICAgICAgICB2YXIgZm9ybWF0dGVyID0gY3JlYXRlRGVidWcuZm9ybWF0dGVyc1tmb3JtYXRdO1xuXG4gICAgICAgIGlmICh0eXBlb2YgZm9ybWF0dGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdmFyIHZhbCA9IGFyZ3NbaW5kZXhdO1xuICAgICAgICAgIG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTsgLy8gTm93IHdlIG5lZWQgdG8gcmVtb3ZlIGBhcmdzW2luZGV4XWAgc2luY2UgaXQncyBpbmxpbmVkIGluIHRoZSBgZm9ybWF0YFxuXG4gICAgICAgICAgYXJncy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIGluZGV4LS07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9KTsgLy8gQXBwbHkgZW52LXNwZWNpZmljIGZvcm1hdHRpbmcgKGNvbG9ycywgZXRjLilcblxuICAgICAgY3JlYXRlRGVidWcuZm9ybWF0QXJncy5jYWxsKHNlbGYsIGFyZ3MpO1xuICAgICAgdmFyIGxvZ0ZuID0gc2VsZi5sb2cgfHwgY3JlYXRlRGVidWcubG9nO1xuICAgICAgbG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgfVxuXG4gICAgZGVidWcubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuICAgIGRlYnVnLnVzZUNvbG9ycyA9IGNyZWF0ZURlYnVnLnVzZUNvbG9ycygpO1xuICAgIGRlYnVnLmNvbG9yID0gY3JlYXRlRGVidWcuc2VsZWN0Q29sb3IobmFtZXNwYWNlKTtcbiAgICBkZWJ1Zy5leHRlbmQgPSBleHRlbmQ7XG4gICAgZGVidWcuZGVzdHJveSA9IGNyZWF0ZURlYnVnLmRlc3Ryb3k7IC8vIFhYWCBUZW1wb3JhcnkuIFdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRlYnVnLCAnZW5hYmxlZCcsIHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIGlmIChlbmFibGVPdmVycmlkZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBlbmFibGVPdmVycmlkZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuYW1lc3BhY2VzQ2FjaGUgIT09IGNyZWF0ZURlYnVnLm5hbWVzcGFjZXMpIHtcbiAgICAgICAgICBuYW1lc3BhY2VzQ2FjaGUgPSBjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzO1xuICAgICAgICAgIGVuYWJsZWRDYWNoZSA9IGNyZWF0ZURlYnVnLmVuYWJsZWQobmFtZXNwYWNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbmFibGVkQ2FjaGU7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodikge1xuICAgICAgICBlbmFibGVPdmVycmlkZSA9IHY7XG4gICAgICB9XG4gICAgfSk7IC8vIEVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzXG5cbiAgICBpZiAodHlwZW9mIGNyZWF0ZURlYnVnLmluaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNyZWF0ZURlYnVnLmluaXQoZGVidWcpO1xuICAgIH1cblxuICAgIHJldHVybiBkZWJ1ZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4dGVuZChuYW1lc3BhY2UsIGRlbGltaXRlcikge1xuICAgIHZhciBuZXdEZWJ1ZyA9IGNyZWF0ZURlYnVnKHRoaXMubmFtZXNwYWNlICsgKHR5cGVvZiBkZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gJzonIDogZGVsaW1pdGVyKSArIG5hbWVzcGFjZSk7XG4gICAgbmV3RGVidWcubG9nID0gdGhpcy5sb2c7XG4gICAgcmV0dXJuIG5ld0RlYnVnO1xuICB9XG4gIC8qKlxuICAqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcbiAgKiBzZXBhcmF0ZWQgYnkgYSBjb2xvbiBhbmQgd2lsZGNhcmRzLlxuICAqXG4gICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAgKiBAYXBpIHB1YmxpY1xuICAqL1xuXG5cbiAgZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcbiAgICBjcmVhdGVEZWJ1Zy5zYXZlKG5hbWVzcGFjZXMpO1xuICAgIGNyZWF0ZURlYnVnLm5hbWVzcGFjZXMgPSBuYW1lc3BhY2VzO1xuICAgIGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG4gICAgY3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcbiAgICB2YXIgaTtcbiAgICB2YXIgc3BsaXQgPSAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnID8gbmFtZXNwYWNlcyA6ICcnKS5zcGxpdCgvW1xccyxdKy8pO1xuICAgIHZhciBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmICghc3BsaXRbaV0pIHtcbiAgICAgICAgLy8gaWdub3JlIGVtcHR5IHN0cmluZ3NcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuXG4gICAgICBpZiAobmFtZXNwYWNlc1swXSA9PT0gJy0nKSB7XG4gICAgICAgIGNyZWF0ZURlYnVnLnNraXBzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzLnN1YnN0cigxKSArICckJykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3JlYXRlRGVidWcubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG4gICpcbiAgKiBAcmV0dXJuIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAgKiBAYXBpIHB1YmxpY1xuICAqL1xuXG5cbiAgZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICB2YXIgbmFtZXNwYWNlcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoY3JlYXRlRGVidWcubmFtZXMubWFwKHRvTmFtZXNwYWNlKSksIF90b0NvbnN1bWFibGVBcnJheShjcmVhdGVEZWJ1Zy5za2lwcy5tYXAodG9OYW1lc3BhY2UpLm1hcChmdW5jdGlvbiAobmFtZXNwYWNlKSB7XG4gICAgICByZXR1cm4gJy0nICsgbmFtZXNwYWNlO1xuICAgIH0pKSkuam9pbignLCcpO1xuICAgIGNyZWF0ZURlYnVnLmVuYWJsZSgnJyk7XG4gICAgcmV0dXJuIG5hbWVzcGFjZXM7XG4gIH1cbiAgLyoqXG4gICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb2RlIG5hbWUgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAqXG4gICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAqIEBhcGkgcHVibGljXG4gICovXG5cblxuICBmdW5jdGlvbiBlbmFibGVkKG5hbWUpIHtcbiAgICBpZiAobmFtZVtuYW1lLmxlbmd0aCAtIDFdID09PSAnKicpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBpO1xuICAgIHZhciBsZW47XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBjcmVhdGVEZWJ1Zy5za2lwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKGNyZWF0ZURlYnVnLnNraXBzW2ldLnRlc3QobmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IGNyZWF0ZURlYnVnLm5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoY3JlYXRlRGVidWcubmFtZXNbaV0udGVzdChuYW1lKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLyoqXG4gICogQ29udmVydCByZWdleHAgdG8gbmFtZXNwYWNlXG4gICpcbiAgKiBAcGFyYW0ge1JlZ0V4cH0gcmVneGVwXG4gICogQHJldHVybiB7U3RyaW5nfSBuYW1lc3BhY2VcbiAgKiBAYXBpIHByaXZhdGVcbiAgKi9cblxuXG4gIGZ1bmN0aW9uIHRvTmFtZXNwYWNlKHJlZ2V4cCkge1xuICAgIHJldHVybiByZWdleHAudG9TdHJpbmcoKS5zdWJzdHJpbmcoMiwgcmVnZXhwLnRvU3RyaW5nKCkubGVuZ3RoIC0gMikucmVwbGFjZSgvXFwuXFwqXFw/JC8sICcqJyk7XG4gIH1cbiAgLyoqXG4gICogQ29lcmNlIGB2YWxgLlxuICAqXG4gICogQHBhcmFtIHtNaXhlZH0gdmFsXG4gICogQHJldHVybiB7TWl4ZWR9XG4gICogQGFwaSBwcml2YXRlXG4gICovXG5cblxuICBmdW5jdGlvbiBjb2VyY2UodmFsKSB7XG4gICAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICByZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWw7XG4gIH1cbiAgLyoqXG4gICogWFhYIERPIE5PVCBVU0UuIFRoaXMgaXMgYSB0ZW1wb3Jhcnkgc3R1YiBmdW5jdGlvbi5cbiAgKiBYWFggSXQgV0lMTCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXG4gICovXG5cblxuICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuICB9XG5cbiAgY3JlYXRlRGVidWcuZW5hYmxlKGNyZWF0ZURlYnVnLmxvYWQoKSk7XG4gIHJldHVybiBjcmVhdGVEZWJ1Zztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXR1cDtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9saWIvZ2xvYmFsVGhpcy5icm93c2VyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi9nbG9iYWxUaGlzLmJyb3dzZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gc2VsZjtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xuICB9XG59KCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBTb2NrZXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NvY2tldCAqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3NvY2tldC5qc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXJpLCBvcHRzKSB7XG4gIHJldHVybiBuZXcgU29ja2V0KHVyaSwgb3B0cyk7XG59O1xuLyoqXG4gKiBFeHBvc2UgZGVwcyBmb3IgbGVnYWN5IGNvbXBhdGliaWxpdHlcbiAqIGFuZCBzdGFuZGFsb25lIGJyb3dzZXIgYWNjZXNzLlxuICovXG5cblxubW9kdWxlLmV4cG9ydHMuU29ja2V0ID0gU29ja2V0O1xubW9kdWxlLmV4cG9ydHMucHJvdG9jb2wgPSBTb2NrZXQucHJvdG9jb2w7IC8vIHRoaXMgaXMgYW4gaW50XG5cbm1vZHVsZS5leHBvcnRzLlRyYW5zcG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdHJhbnNwb3J0ICovIFwiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9saWIvdHJhbnNwb3J0LmpzXCIpO1xubW9kdWxlLmV4cG9ydHMudHJhbnNwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdHJhbnNwb3J0cy9pbmRleCAqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3RyYW5zcG9ydHMvaW5kZXguanNcIik7XG5tb2R1bGUuZXhwb3J0cy5wYXJzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBlbmdpbmUuaW8tcGFyc2VyICovIFwiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9saWIvaW5kZXguanNcIik7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3NvY2tldC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9saWIvc29ja2V0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG52YXIgdHJhbnNwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdHJhbnNwb3J0cy9pbmRleCAqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3RyYW5zcG9ydHMvaW5kZXguanNcIik7XG5cbnZhciBFbWl0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY29tcG9uZW50LWVtaXR0ZXIgKi8gXCIuL25vZGVfbW9kdWxlcy9jb21wb25lbnQtZW1pdHRlci9pbmRleC5qc1wiKTtcblxudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgZGVidWcgKi8gXCIuL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qc1wiKShcImVuZ2luZS5pby1jbGllbnQ6c29ja2V0XCIpO1xuXG52YXIgcGFyc2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgZW5naW5lLmlvLXBhcnNlciAqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvbGliL2luZGV4LmpzXCIpO1xuXG52YXIgcGFyc2V1cmkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBwYXJzZXVyaSAqLyBcIi4vbm9kZV9tb2R1bGVzL3BhcnNldXJpL2luZGV4LmpzXCIpO1xuXG52YXIgcGFyc2VxcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHBhcnNlcXMgKi8gXCIuL25vZGVfbW9kdWxlcy9wYXJzZXFzL2luZGV4LmpzXCIpO1xuXG52YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3V0aWwgKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi91dGlsLmpzXCIpLFxuICAgIGluc3RhbGxUaW1lckZ1bmN0aW9ucyA9IF9yZXF1aXJlLmluc3RhbGxUaW1lckZ1bmN0aW9ucztcblxudmFyIFNvY2tldCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0VtaXR0ZXIpIHtcbiAgX2luaGVyaXRzKFNvY2tldCwgX0VtaXR0ZXIpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoU29ja2V0KTtcblxuICAvKipcbiAgICogU29ja2V0IGNvbnN0cnVjdG9yLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IHVyaSBvciBvcHRpb25zXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuICBmdW5jdGlvbiBTb2NrZXQodXJpKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgdmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNvY2tldCk7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuXG4gICAgaWYgKHVyaSAmJiBcIm9iamVjdFwiID09PSBfdHlwZW9mKHVyaSkpIHtcbiAgICAgIG9wdHMgPSB1cmk7XG4gICAgICB1cmkgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICh1cmkpIHtcbiAgICAgIHVyaSA9IHBhcnNldXJpKHVyaSk7XG4gICAgICBvcHRzLmhvc3RuYW1lID0gdXJpLmhvc3Q7XG4gICAgICBvcHRzLnNlY3VyZSA9IHVyaS5wcm90b2NvbCA9PT0gXCJodHRwc1wiIHx8IHVyaS5wcm90b2NvbCA9PT0gXCJ3c3NcIjtcbiAgICAgIG9wdHMucG9ydCA9IHVyaS5wb3J0O1xuICAgICAgaWYgKHVyaS5xdWVyeSkgb3B0cy5xdWVyeSA9IHVyaS5xdWVyeTtcbiAgICB9IGVsc2UgaWYgKG9wdHMuaG9zdCkge1xuICAgICAgb3B0cy5ob3N0bmFtZSA9IHBhcnNldXJpKG9wdHMuaG9zdCkuaG9zdDtcbiAgICB9XG5cbiAgICBpbnN0YWxsVGltZXJGdW5jdGlvbnMoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIG9wdHMpO1xuICAgIF90aGlzLnNlY3VyZSA9IG51bGwgIT0gb3B0cy5zZWN1cmUgPyBvcHRzLnNlY3VyZSA6IHR5cGVvZiBsb2NhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBcImh0dHBzOlwiID09PSBsb2NhdGlvbi5wcm90b2NvbDtcblxuICAgIGlmIChvcHRzLmhvc3RuYW1lICYmICFvcHRzLnBvcnQpIHtcbiAgICAgIC8vIGlmIG5vIHBvcnQgaXMgc3BlY2lmaWVkIG1hbnVhbGx5LCB1c2UgdGhlIHByb3RvY29sIGRlZmF1bHRcbiAgICAgIG9wdHMucG9ydCA9IF90aGlzLnNlY3VyZSA/IFwiNDQzXCIgOiBcIjgwXCI7XG4gICAgfVxuXG4gICAgX3RoaXMuaG9zdG5hbWUgPSBvcHRzLmhvc3RuYW1lIHx8ICh0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgPyBsb2NhdGlvbi5ob3N0bmFtZSA6IFwibG9jYWxob3N0XCIpO1xuICAgIF90aGlzLnBvcnQgPSBvcHRzLnBvcnQgfHwgKHR5cGVvZiBsb2NhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBsb2NhdGlvbi5wb3J0ID8gbG9jYXRpb24ucG9ydCA6IF90aGlzLnNlY3VyZSA/IDQ0MyA6IDgwKTtcbiAgICBfdGhpcy50cmFuc3BvcnRzID0gb3B0cy50cmFuc3BvcnRzIHx8IFtcInBvbGxpbmdcIiwgXCJ3ZWJzb2NrZXRcIl07XG4gICAgX3RoaXMucmVhZHlTdGF0ZSA9IFwiXCI7XG4gICAgX3RoaXMud3JpdGVCdWZmZXIgPSBbXTtcbiAgICBfdGhpcy5wcmV2QnVmZmVyTGVuID0gMDtcbiAgICBfdGhpcy5vcHRzID0gX2V4dGVuZHMoe1xuICAgICAgcGF0aDogXCIvZW5naW5lLmlvXCIsXG4gICAgICBhZ2VudDogZmFsc2UsXG4gICAgICB3aXRoQ3JlZGVudGlhbHM6IGZhbHNlLFxuICAgICAgdXBncmFkZTogdHJ1ZSxcbiAgICAgIGpzb25wOiB0cnVlLFxuICAgICAgdGltZXN0YW1wUGFyYW06IFwidFwiLFxuICAgICAgcmVtZW1iZXJVcGdyYWRlOiBmYWxzZSxcbiAgICAgIHJlamVjdFVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIHBlck1lc3NhZ2VEZWZsYXRlOiB7XG4gICAgICAgIHRocmVzaG9sZDogMTAyNFxuICAgICAgfSxcbiAgICAgIHRyYW5zcG9ydE9wdGlvbnM6IHt9LFxuICAgICAgY2xvc2VPbkJlZm9yZXVubG9hZDogdHJ1ZVxuICAgIH0sIG9wdHMpO1xuICAgIF90aGlzLm9wdHMucGF0aCA9IF90aGlzLm9wdHMucGF0aC5yZXBsYWNlKC9cXC8kLywgXCJcIikgKyBcIi9cIjtcblxuICAgIGlmICh0eXBlb2YgX3RoaXMub3B0cy5xdWVyeSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgX3RoaXMub3B0cy5xdWVyeSA9IHBhcnNlcXMuZGVjb2RlKF90aGlzLm9wdHMucXVlcnkpO1xuICAgIH0gLy8gc2V0IG9uIGhhbmRzaGFrZVxuXG5cbiAgICBfdGhpcy5pZCA9IG51bGw7XG4gICAgX3RoaXMudXBncmFkZXMgPSBudWxsO1xuICAgIF90aGlzLnBpbmdJbnRlcnZhbCA9IG51bGw7XG4gICAgX3RoaXMucGluZ1RpbWVvdXQgPSBudWxsOyAvLyBzZXQgb24gaGVhcnRiZWF0XG5cbiAgICBfdGhpcy5waW5nVGltZW91dFRpbWVyID0gbnVsbDtcblxuICAgIGlmICh0eXBlb2YgYWRkRXZlbnRMaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBpZiAoX3RoaXMub3B0cy5jbG9zZU9uQmVmb3JldW5sb2FkKSB7XG4gICAgICAgIC8vIEZpcmVmb3ggY2xvc2VzIHRoZSBjb25uZWN0aW9uIHdoZW4gdGhlIFwiYmVmb3JldW5sb2FkXCIgZXZlbnQgaXMgZW1pdHRlZCBidXQgbm90IENocm9tZS4gVGhpcyBldmVudCBsaXN0ZW5lclxuICAgICAgICAvLyBlbnN1cmVzIGV2ZXJ5IGJyb3dzZXIgYmVoYXZlcyB0aGUgc2FtZSAobm8gXCJkaXNjb25uZWN0XCIgZXZlbnQgYXQgdGhlIFNvY2tldC5JTyBsZXZlbCB3aGVuIHRoZSBwYWdlIGlzXG4gICAgICAgIC8vIGNsb3NlZC9yZWxvYWRlZClcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKF90aGlzLnRyYW5zcG9ydCkge1xuICAgICAgICAgICAgLy8gc2lsZW50bHkgY2xvc2UgdGhlIHRyYW5zcG9ydFxuICAgICAgICAgICAgX3RoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygpO1xuXG4gICAgICAgICAgICBfdGhpcy50cmFuc3BvcnQuY2xvc2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLmhvc3RuYW1lICE9PSBcImxvY2FsaG9zdFwiKSB7XG4gICAgICAgIF90aGlzLm9mZmxpbmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLm9uQ2xvc2UoXCJ0cmFuc3BvcnQgY2xvc2VcIik7XG4gICAgICAgIH07XG5cbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIiwgX3RoaXMub2ZmbGluZUV2ZW50TGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfdGhpcy5vcGVuKCk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgdHJhbnNwb3J0IG9mIHRoZSBnaXZlbiB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHJhbnNwb3J0IG5hbWVcbiAgICogQHJldHVybiB7VHJhbnNwb3J0fVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoU29ja2V0LCBbe1xuICAgIGtleTogXCJjcmVhdGVUcmFuc3BvcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlVHJhbnNwb3J0KG5hbWUpIHtcbiAgICAgIGRlYnVnKCdjcmVhdGluZyB0cmFuc3BvcnQgXCIlc1wiJywgbmFtZSk7XG4gICAgICB2YXIgcXVlcnkgPSBjbG9uZSh0aGlzLm9wdHMucXVlcnkpOyAvLyBhcHBlbmQgZW5naW5lLmlvIHByb3RvY29sIGlkZW50aWZpZXJcblxuICAgICAgcXVlcnkuRUlPID0gcGFyc2VyLnByb3RvY29sOyAvLyB0cmFuc3BvcnQgbmFtZVxuXG4gICAgICBxdWVyeS50cmFuc3BvcnQgPSBuYW1lOyAvLyBzZXNzaW9uIGlkIGlmIHdlIGFscmVhZHkgaGF2ZSBvbmVcblxuICAgICAgaWYgKHRoaXMuaWQpIHF1ZXJ5LnNpZCA9IHRoaXMuaWQ7XG5cbiAgICAgIHZhciBvcHRzID0gX2V4dGVuZHMoe30sIHRoaXMub3B0cy50cmFuc3BvcnRPcHRpb25zW25hbWVdLCB0aGlzLm9wdHMsIHtcbiAgICAgICAgcXVlcnk6IHF1ZXJ5LFxuICAgICAgICBzb2NrZXQ6IHRoaXMsXG4gICAgICAgIGhvc3RuYW1lOiB0aGlzLmhvc3RuYW1lLFxuICAgICAgICBzZWN1cmU6IHRoaXMuc2VjdXJlLFxuICAgICAgICBwb3J0OiB0aGlzLnBvcnRcbiAgICAgIH0pO1xuXG4gICAgICBkZWJ1ZyhcIm9wdGlvbnM6ICVqXCIsIG9wdHMpO1xuICAgICAgcmV0dXJuIG5ldyB0cmFuc3BvcnRzW25hbWVdKG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0cmFuc3BvcnQgdG8gdXNlIGFuZCBzdGFydHMgcHJvYmUuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9wZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgdHJhbnNwb3J0O1xuXG4gICAgICBpZiAodGhpcy5vcHRzLnJlbWVtYmVyVXBncmFkZSAmJiBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzICYmIHRoaXMudHJhbnNwb3J0cy5pbmRleE9mKFwid2Vic29ja2V0XCIpICE9PSAtMSkge1xuICAgICAgICB0cmFuc3BvcnQgPSBcIndlYnNvY2tldFwiO1xuICAgICAgfSBlbHNlIGlmICgwID09PSB0aGlzLnRyYW5zcG9ydHMubGVuZ3RoKSB7XG4gICAgICAgIC8vIEVtaXQgZXJyb3Igb24gbmV4dCB0aWNrIHNvIGl0IGNhbiBiZSBsaXN0ZW5lZCB0b1xuICAgICAgICB0aGlzLnNldFRpbWVvdXRGbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMyLmVtaXQoXCJlcnJvclwiLCBcIk5vIHRyYW5zcG9ydHMgYXZhaWxhYmxlXCIpO1xuICAgICAgICB9LCAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNwb3J0ID0gdGhpcy50cmFuc3BvcnRzWzBdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIm9wZW5pbmdcIjsgLy8gUmV0cnkgd2l0aCB0aGUgbmV4dCB0cmFuc3BvcnQgaWYgdGhlIHRyYW5zcG9ydCBpcyBkaXNhYmxlZCAoanNvbnA6IGZhbHNlKVxuXG4gICAgICB0cnkge1xuICAgICAgICB0cmFuc3BvcnQgPSB0aGlzLmNyZWF0ZVRyYW5zcG9ydCh0cmFuc3BvcnQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBkZWJ1ZyhcImVycm9yIHdoaWxlIGNyZWF0aW5nIHRyYW5zcG9ydDogJXNcIiwgZSk7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0cy5zaGlmdCgpO1xuICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0cmFuc3BvcnQub3BlbigpO1xuICAgICAgdGhpcy5zZXRUcmFuc3BvcnQodHJhbnNwb3J0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCB0cmFuc3BvcnQuIERpc2FibGVzIHRoZSBleGlzdGluZyBvbmUgKGlmIGFueSkuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldFRyYW5zcG9ydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRUcmFuc3BvcnQodHJhbnNwb3J0KSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgZGVidWcoXCJzZXR0aW5nIHRyYW5zcG9ydCAlc1wiLCB0cmFuc3BvcnQubmFtZSk7XG5cbiAgICAgIGlmICh0aGlzLnRyYW5zcG9ydCkge1xuICAgICAgICBkZWJ1ZyhcImNsZWFyaW5nIGV4aXN0aW5nIHRyYW5zcG9ydCAlc1wiLCB0aGlzLnRyYW5zcG9ydC5uYW1lKTtcbiAgICAgICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICB9IC8vIHNldCB1cCB0cmFuc3BvcnRcblxuXG4gICAgICB0aGlzLnRyYW5zcG9ydCA9IHRyYW5zcG9ydDsgLy8gc2V0IHVwIHRyYW5zcG9ydCBsaXN0ZW5lcnNcblxuICAgICAgdHJhbnNwb3J0Lm9uKFwiZHJhaW5cIiwgdGhpcy5vbkRyYWluLmJpbmQodGhpcykpLm9uKFwicGFja2V0XCIsIHRoaXMub25QYWNrZXQuYmluZCh0aGlzKSkub24oXCJlcnJvclwiLCB0aGlzLm9uRXJyb3IuYmluZCh0aGlzKSkub24oXCJjbG9zZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5vbkNsb3NlKFwidHJhbnNwb3J0IGNsb3NlXCIpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2JlcyBhIHRyYW5zcG9ydC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0cmFuc3BvcnQgbmFtZVxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicHJvYmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHJvYmUobmFtZSkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIGRlYnVnKCdwcm9iaW5nIHRyYW5zcG9ydCBcIiVzXCInLCBuYW1lKTtcbiAgICAgIHZhciB0cmFuc3BvcnQgPSB0aGlzLmNyZWF0ZVRyYW5zcG9ydChuYW1lLCB7XG4gICAgICAgIHByb2JlOiAxXG4gICAgICB9KTtcbiAgICAgIHZhciBmYWlsZWQgPSBmYWxzZTtcbiAgICAgIFNvY2tldC5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgPSBmYWxzZTtcblxuICAgICAgdmFyIG9uVHJhbnNwb3J0T3BlbiA9IGZ1bmN0aW9uIG9uVHJhbnNwb3J0T3BlbigpIHtcbiAgICAgICAgaWYgKGZhaWxlZCkgcmV0dXJuO1xuICAgICAgICBkZWJ1ZygncHJvYmUgdHJhbnNwb3J0IFwiJXNcIiBvcGVuZWQnLCBuYW1lKTtcbiAgICAgICAgdHJhbnNwb3J0LnNlbmQoW3tcbiAgICAgICAgICB0eXBlOiBcInBpbmdcIixcbiAgICAgICAgICBkYXRhOiBcInByb2JlXCJcbiAgICAgICAgfV0pO1xuICAgICAgICB0cmFuc3BvcnQub25jZShcInBhY2tldFwiLCBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgICAgaWYgKGZhaWxlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgaWYgKFwicG9uZ1wiID09PSBtc2cudHlwZSAmJiBcInByb2JlXCIgPT09IG1zZy5kYXRhKSB7XG4gICAgICAgICAgICBkZWJ1ZygncHJvYmUgdHJhbnNwb3J0IFwiJXNcIiBwb25nJywgbmFtZSk7XG4gICAgICAgICAgICBfdGhpczQudXBncmFkaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgX3RoaXM0LmVtaXQoXCJ1cGdyYWRpbmdcIiwgdHJhbnNwb3J0KTtcblxuICAgICAgICAgICAgaWYgKCF0cmFuc3BvcnQpIHJldHVybjtcbiAgICAgICAgICAgIFNvY2tldC5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgPSBcIndlYnNvY2tldFwiID09PSB0cmFuc3BvcnQubmFtZTtcbiAgICAgICAgICAgIGRlYnVnKCdwYXVzaW5nIGN1cnJlbnQgdHJhbnNwb3J0IFwiJXNcIicsIF90aGlzNC50cmFuc3BvcnQubmFtZSk7XG5cbiAgICAgICAgICAgIF90aGlzNC50cmFuc3BvcnQucGF1c2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBpZiAoZmFpbGVkKSByZXR1cm47XG4gICAgICAgICAgICAgIGlmIChcImNsb3NlZFwiID09PSBfdGhpczQucmVhZHlTdGF0ZSkgcmV0dXJuO1xuICAgICAgICAgICAgICBkZWJ1ZyhcImNoYW5naW5nIHRyYW5zcG9ydCBhbmQgc2VuZGluZyB1cGdyYWRlIHBhY2tldFwiKTtcbiAgICAgICAgICAgICAgY2xlYW51cCgpO1xuXG4gICAgICAgICAgICAgIF90aGlzNC5zZXRUcmFuc3BvcnQodHJhbnNwb3J0KTtcblxuICAgICAgICAgICAgICB0cmFuc3BvcnQuc2VuZChbe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidXBncmFkZVwiXG4gICAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgICBfdGhpczQuZW1pdChcInVwZ3JhZGVcIiwgdHJhbnNwb3J0KTtcblxuICAgICAgICAgICAgICB0cmFuc3BvcnQgPSBudWxsO1xuICAgICAgICAgICAgICBfdGhpczQudXBncmFkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgX3RoaXM0LmZsdXNoKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVidWcoJ3Byb2JlIHRyYW5zcG9ydCBcIiVzXCIgZmFpbGVkJywgbmFtZSk7XG4gICAgICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKFwicHJvYmUgZXJyb3JcIik7XG4gICAgICAgICAgICBlcnIudHJhbnNwb3J0ID0gdHJhbnNwb3J0Lm5hbWU7XG5cbiAgICAgICAgICAgIF90aGlzNC5lbWl0KFwidXBncmFkZUVycm9yXCIsIGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIGZyZWV6ZVRyYW5zcG9ydCgpIHtcbiAgICAgICAgaWYgKGZhaWxlZCkgcmV0dXJuOyAvLyBBbnkgY2FsbGJhY2sgY2FsbGVkIGJ5IHRyYW5zcG9ydCBzaG91bGQgYmUgaWdub3JlZCBzaW5jZSBub3dcblxuICAgICAgICBmYWlsZWQgPSB0cnVlO1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIHRyYW5zcG9ydC5jbG9zZSgpO1xuICAgICAgICB0cmFuc3BvcnQgPSBudWxsO1xuICAgICAgfSAvLyBIYW5kbGUgYW55IGVycm9yIHRoYXQgaGFwcGVucyB3aGlsZSBwcm9iaW5nXG5cblxuICAgICAgdmFyIG9uZXJyb3IgPSBmdW5jdGlvbiBvbmVycm9yKGVycikge1xuICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoXCJwcm9iZSBlcnJvcjogXCIgKyBlcnIpO1xuICAgICAgICBlcnJvci50cmFuc3BvcnQgPSB0cmFuc3BvcnQubmFtZTtcbiAgICAgICAgZnJlZXplVHJhbnNwb3J0KCk7XG4gICAgICAgIGRlYnVnKCdwcm9iZSB0cmFuc3BvcnQgXCIlc1wiIGZhaWxlZCBiZWNhdXNlIG9mIGVycm9yOiAlcycsIG5hbWUsIGVycik7XG5cbiAgICAgICAgX3RoaXM0LmVtaXQoXCJ1cGdyYWRlRXJyb3JcIiwgZXJyb3IpO1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gb25UcmFuc3BvcnRDbG9zZSgpIHtcbiAgICAgICAgb25lcnJvcihcInRyYW5zcG9ydCBjbG9zZWRcIik7XG4gICAgICB9IC8vIFdoZW4gdGhlIHNvY2tldCBpcyBjbG9zZWQgd2hpbGUgd2UncmUgcHJvYmluZ1xuXG5cbiAgICAgIGZ1bmN0aW9uIG9uY2xvc2UoKSB7XG4gICAgICAgIG9uZXJyb3IoXCJzb2NrZXQgY2xvc2VkXCIpO1xuICAgICAgfSAvLyBXaGVuIHRoZSBzb2NrZXQgaXMgdXBncmFkZWQgd2hpbGUgd2UncmUgcHJvYmluZ1xuXG5cbiAgICAgIGZ1bmN0aW9uIG9udXBncmFkZSh0bykge1xuICAgICAgICBpZiAodHJhbnNwb3J0ICYmIHRvLm5hbWUgIT09IHRyYW5zcG9ydC5uYW1lKSB7XG4gICAgICAgICAgZGVidWcoJ1wiJXNcIiB3b3JrcyAtIGFib3J0aW5nIFwiJXNcIicsIHRvLm5hbWUsIHRyYW5zcG9ydC5uYW1lKTtcbiAgICAgICAgICBmcmVlemVUcmFuc3BvcnQoKTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBSZW1vdmUgYWxsIGxpc3RlbmVycyBvbiB0aGUgdHJhbnNwb3J0IGFuZCBvbiBzZWxmXG5cblxuICAgICAgdmFyIGNsZWFudXAgPSBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgICB0cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoXCJvcGVuXCIsIG9uVHJhbnNwb3J0T3Blbik7XG4gICAgICAgIHRyYW5zcG9ydC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsIG9uZXJyb3IpO1xuICAgICAgICB0cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLCBvblRyYW5zcG9ydENsb3NlKTtcblxuICAgICAgICBfdGhpczQucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLCBvbmNsb3NlKTtcblxuICAgICAgICBfdGhpczQucmVtb3ZlTGlzdGVuZXIoXCJ1cGdyYWRpbmdcIiwgb251cGdyYWRlKTtcbiAgICAgIH07XG5cbiAgICAgIHRyYW5zcG9ydC5vbmNlKFwib3BlblwiLCBvblRyYW5zcG9ydE9wZW4pO1xuICAgICAgdHJhbnNwb3J0Lm9uY2UoXCJlcnJvclwiLCBvbmVycm9yKTtcbiAgICAgIHRyYW5zcG9ydC5vbmNlKFwiY2xvc2VcIiwgb25UcmFuc3BvcnRDbG9zZSk7XG4gICAgICB0aGlzLm9uY2UoXCJjbG9zZVwiLCBvbmNsb3NlKTtcbiAgICAgIHRoaXMub25jZShcInVwZ3JhZGluZ1wiLCBvbnVwZ3JhZGUpO1xuICAgICAgdHJhbnNwb3J0Lm9wZW4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gY29ubmVjdGlvbiBpcyBkZWVtZWQgb3Blbi5cbiAgICAgKlxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvbk9wZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25PcGVuKCkge1xuICAgICAgZGVidWcoXCJzb2NrZXQgb3BlblwiKTtcbiAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwib3BlblwiO1xuICAgICAgU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyA9IFwid2Vic29ja2V0XCIgPT09IHRoaXMudHJhbnNwb3J0Lm5hbWU7XG4gICAgICB0aGlzLmVtaXQoXCJvcGVuXCIpO1xuICAgICAgdGhpcy5mbHVzaCgpOyAvLyB3ZSBjaGVjayBmb3IgYHJlYWR5U3RhdGVgIGluIGNhc2UgYW4gYG9wZW5gXG4gICAgICAvLyBsaXN0ZW5lciBhbHJlYWR5IGNsb3NlZCB0aGUgc29ja2V0XG5cbiAgICAgIGlmIChcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlICYmIHRoaXMub3B0cy51cGdyYWRlICYmIHRoaXMudHJhbnNwb3J0LnBhdXNlKSB7XG4gICAgICAgIGRlYnVnKFwic3RhcnRpbmcgdXBncmFkZSBwcm9iZXNcIik7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGwgPSB0aGlzLnVwZ3JhZGVzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIHRoaXMucHJvYmUodGhpcy51cGdyYWRlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib25QYWNrZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25QYWNrZXQocGFja2V0KSB7XG4gICAgICBpZiAoXCJvcGVuaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCBcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8IFwiY2xvc2luZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgZGVidWcoJ3NvY2tldCByZWNlaXZlOiB0eXBlIFwiJXNcIiwgZGF0YSBcIiVzXCInLCBwYWNrZXQudHlwZSwgcGFja2V0LmRhdGEpO1xuICAgICAgICB0aGlzLmVtaXQoXCJwYWNrZXRcIiwgcGFja2V0KTsgLy8gU29ja2V0IGlzIGxpdmUgLSBhbnkgcGFja2V0IGNvdW50c1xuXG4gICAgICAgIHRoaXMuZW1pdChcImhlYXJ0YmVhdFwiKTtcblxuICAgICAgICBzd2l0Y2ggKHBhY2tldC50eXBlKSB7XG4gICAgICAgICAgY2FzZSBcIm9wZW5cIjpcbiAgICAgICAgICAgIHRoaXMub25IYW5kc2hha2UoSlNPTi5wYXJzZShwYWNrZXQuZGF0YSkpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwicGluZ1wiOlxuICAgICAgICAgICAgdGhpcy5yZXNldFBpbmdUaW1lb3V0KCk7XG4gICAgICAgICAgICB0aGlzLnNlbmRQYWNrZXQoXCJwb25nXCIpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFwicGluZ1wiKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChcInBvbmdcIik7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcihcInNlcnZlciBlcnJvclwiKTtcbiAgICAgICAgICAgIGVyci5jb2RlID0gcGFja2V0LmRhdGE7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgIHRoaXMuZW1pdChcImRhdGFcIiwgcGFja2V0LmRhdGEpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KFwibWVzc2FnZVwiLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVidWcoJ3BhY2tldCByZWNlaXZlZCB3aXRoIHNvY2tldCByZWFkeVN0YXRlIFwiJXNcIicsIHRoaXMucmVhZHlTdGF0ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGhhbmRzaGFrZSBjb21wbGV0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGhhbmRzaGFrZSBvYmpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uSGFuZHNoYWtlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uSGFuZHNoYWtlKGRhdGEpIHtcbiAgICAgIHRoaXMuZW1pdChcImhhbmRzaGFrZVwiLCBkYXRhKTtcbiAgICAgIHRoaXMuaWQgPSBkYXRhLnNpZDtcbiAgICAgIHRoaXMudHJhbnNwb3J0LnF1ZXJ5LnNpZCA9IGRhdGEuc2lkO1xuICAgICAgdGhpcy51cGdyYWRlcyA9IHRoaXMuZmlsdGVyVXBncmFkZXMoZGF0YS51cGdyYWRlcyk7XG4gICAgICB0aGlzLnBpbmdJbnRlcnZhbCA9IGRhdGEucGluZ0ludGVydmFsO1xuICAgICAgdGhpcy5waW5nVGltZW91dCA9IGRhdGEucGluZ1RpbWVvdXQ7XG4gICAgICB0aGlzLm9uT3BlbigpOyAvLyBJbiBjYXNlIG9wZW4gaGFuZGxlciBjbG9zZXMgc29ja2V0XG5cbiAgICAgIGlmIChcImNsb3NlZFwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHJldHVybjtcbiAgICAgIHRoaXMucmVzZXRQaW5nVGltZW91dCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGFuZCByZXNldHMgcGluZyB0aW1lb3V0IHRpbWVyIGJhc2VkIG9uIHNlcnZlciBwaW5ncy5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVzZXRQaW5nVGltZW91dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldFBpbmdUaW1lb3V0KCkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIHRoaXMuY2xlYXJUaW1lb3V0Rm4odGhpcy5waW5nVGltZW91dFRpbWVyKTtcbiAgICAgIHRoaXMucGluZ1RpbWVvdXRUaW1lciA9IHRoaXMuc2V0VGltZW91dEZuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM1Lm9uQ2xvc2UoXCJwaW5nIHRpbWVvdXRcIik7XG4gICAgICB9LCB0aGlzLnBpbmdJbnRlcnZhbCArIHRoaXMucGluZ1RpbWVvdXQpO1xuXG4gICAgICBpZiAodGhpcy5vcHRzLmF1dG9VbnJlZikge1xuICAgICAgICB0aGlzLnBpbmdUaW1lb3V0VGltZXIudW5yZWYoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIG9uIGBkcmFpbmAgZXZlbnRcbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib25EcmFpblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkRyYWluKCkge1xuICAgICAgdGhpcy53cml0ZUJ1ZmZlci5zcGxpY2UoMCwgdGhpcy5wcmV2QnVmZmVyTGVuKTsgLy8gc2V0dGluZyBwcmV2QnVmZmVyTGVuID0gMCBpcyB2ZXJ5IGltcG9ydGFudFxuICAgICAgLy8gZm9yIGV4YW1wbGUsIHdoZW4gdXBncmFkaW5nLCB1cGdyYWRlIHBhY2tldCBpcyBzZW50IG92ZXIsXG4gICAgICAvLyBhbmQgYSBub256ZXJvIHByZXZCdWZmZXJMZW4gY291bGQgY2F1c2UgcHJvYmxlbXMgb24gYGRyYWluYFxuXG4gICAgICB0aGlzLnByZXZCdWZmZXJMZW4gPSAwO1xuXG4gICAgICBpZiAoMCA9PT0gdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5lbWl0KFwiZHJhaW5cIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZsdXNoIHdyaXRlIGJ1ZmZlcnMuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImZsdXNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgaWYgKFwiY2xvc2VkXCIgIT09IHRoaXMucmVhZHlTdGF0ZSAmJiB0aGlzLnRyYW5zcG9ydC53cml0YWJsZSAmJiAhdGhpcy51cGdyYWRpbmcgJiYgdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgZGVidWcoXCJmbHVzaGluZyAlZCBwYWNrZXRzIGluIHNvY2tldFwiLCB0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCk7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0LnNlbmQodGhpcy53cml0ZUJ1ZmZlcik7IC8vIGtlZXAgdHJhY2sgb2YgY3VycmVudCBsZW5ndGggb2Ygd3JpdGVCdWZmZXJcbiAgICAgICAgLy8gc3BsaWNlIHdyaXRlQnVmZmVyIGFuZCBjYWxsYmFja0J1ZmZlciBvbiBgZHJhaW5gXG5cbiAgICAgICAgdGhpcy5wcmV2QnVmZmVyTGVuID0gdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGg7XG4gICAgICAgIHRoaXMuZW1pdChcImZsdXNoXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtTb2NrZXR9IGZvciBjaGFpbmluZy5cbiAgICAgKiBAYXBpIHB1YmxpY1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwid3JpdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gd3JpdGUobXNnLCBvcHRpb25zLCBmbikge1xuICAgICAgdGhpcy5zZW5kUGFja2V0KFwibWVzc2FnZVwiLCBtc2csIG9wdGlvbnMsIGZuKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmQobXNnLCBvcHRpb25zLCBmbikge1xuICAgICAgdGhpcy5zZW5kUGFja2V0KFwibWVzc2FnZVwiLCBtc2csIG9wdGlvbnMsIGZuKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYWNrZXQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNlbmRQYWNrZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZFBhY2tldCh0eXBlLCBkYXRhLCBvcHRpb25zLCBmbikge1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGRhdGEpIHtcbiAgICAgICAgZm4gPSBkYXRhO1xuICAgICAgICBkYXRhID0gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygb3B0aW9ucykge1xuICAgICAgICBmbiA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoXCJjbG9zaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCBcImNsb3NlZFwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIG9wdGlvbnMuY29tcHJlc3MgPSBmYWxzZSAhPT0gb3B0aW9ucy5jb21wcmVzcztcbiAgICAgIHZhciBwYWNrZXQgPSB7XG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgIH07XG4gICAgICB0aGlzLmVtaXQoXCJwYWNrZXRDcmVhdGVcIiwgcGFja2V0KTtcbiAgICAgIHRoaXMud3JpdGVCdWZmZXIucHVzaChwYWNrZXQpO1xuICAgICAgaWYgKGZuKSB0aGlzLm9uY2UoXCJmbHVzaFwiLCBmbik7XG4gICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgY29ubmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY2xvc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgdmFyIGNsb3NlID0gZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIF90aGlzNi5vbkNsb3NlKFwiZm9yY2VkIGNsb3NlXCIpO1xuXG4gICAgICAgIGRlYnVnKFwic29ja2V0IGNsb3NpbmcgLSB0ZWxsaW5nIHRyYW5zcG9ydCB0byBjbG9zZVwiKTtcblxuICAgICAgICBfdGhpczYudHJhbnNwb3J0LmNsb3NlKCk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgY2xlYW51cEFuZENsb3NlID0gZnVuY3Rpb24gY2xlYW51cEFuZENsb3NlKCkge1xuICAgICAgICBfdGhpczYucmVtb3ZlTGlzdGVuZXIoXCJ1cGdyYWRlXCIsIGNsZWFudXBBbmRDbG9zZSk7XG5cbiAgICAgICAgX3RoaXM2LnJlbW92ZUxpc3RlbmVyKFwidXBncmFkZUVycm9yXCIsIGNsZWFudXBBbmRDbG9zZSk7XG5cbiAgICAgICAgY2xvc2UoKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciB3YWl0Rm9yVXBncmFkZSA9IGZ1bmN0aW9uIHdhaXRGb3JVcGdyYWRlKCkge1xuICAgICAgICAvLyB3YWl0IGZvciB1cGdyYWRlIHRvIGZpbmlzaCBzaW5jZSB3ZSBjYW4ndCBzZW5kIHBhY2tldHMgd2hpbGUgcGF1c2luZyBhIHRyYW5zcG9ydFxuICAgICAgICBfdGhpczYub25jZShcInVwZ3JhZGVcIiwgY2xlYW51cEFuZENsb3NlKTtcblxuICAgICAgICBfdGhpczYub25jZShcInVwZ3JhZGVFcnJvclwiLCBjbGVhbnVwQW5kQ2xvc2UpO1xuICAgICAgfTtcblxuICAgICAgaWYgKFwib3BlbmluZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgfHwgXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcImNsb3NpbmdcIjtcblxuICAgICAgICBpZiAodGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLm9uY2UoXCJkcmFpblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXM2LnVwZ3JhZGluZykge1xuICAgICAgICAgICAgICB3YWl0Rm9yVXBncmFkZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnVwZ3JhZGluZykge1xuICAgICAgICAgIHdhaXRGb3JVcGdyYWRlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gdHJhbnNwb3J0IGVycm9yXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uRXJyb3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25FcnJvcihlcnIpIHtcbiAgICAgIGRlYnVnKFwic29ja2V0IGVycm9yICVqXCIsIGVycik7XG4gICAgICBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gZmFsc2U7XG4gICAgICB0aGlzLmVtaXQoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgdGhpcy5vbkNsb3NlKFwidHJhbnNwb3J0IGVycm9yXCIsIGVycik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHRyYW5zcG9ydCBjbG9zZS5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib25DbG9zZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsb3NlKHJlYXNvbiwgZGVzYykge1xuICAgICAgaWYgKFwib3BlbmluZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgfHwgXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCBcImNsb3NpbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgIGRlYnVnKCdzb2NrZXQgY2xvc2Ugd2l0aCByZWFzb246IFwiJXNcIicsIHJlYXNvbik7IC8vIGNsZWFyIHRpbWVyc1xuXG4gICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0Rm4odGhpcy5waW5nSW50ZXJ2YWxUaW1lcik7XG4gICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0Rm4odGhpcy5waW5nVGltZW91dFRpbWVyKTsgLy8gc3RvcCBldmVudCBmcm9tIGZpcmluZyBhZ2FpbiBmb3IgdHJhbnNwb3J0XG5cbiAgICAgICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKFwiY2xvc2VcIik7IC8vIGVuc3VyZSB0cmFuc3BvcnQgd29uJ3Qgc3RheSBvcGVuXG5cbiAgICAgICAgdGhpcy50cmFuc3BvcnQuY2xvc2UoKTsgLy8gaWdub3JlIGZ1cnRoZXIgdHJhbnNwb3J0IGNvbW11bmljYXRpb25cblxuICAgICAgICB0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblxuICAgICAgICBpZiAodHlwZW9mIHJlbW92ZUV2ZW50TGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsIHRoaXMub2ZmbGluZUV2ZW50TGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgfSAvLyBzZXQgcmVhZHkgc3RhdGVcblxuXG4gICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiY2xvc2VkXCI7IC8vIGNsZWFyIHNlc3Npb24gaWRcblxuICAgICAgICB0aGlzLmlkID0gbnVsbDsgLy8gZW1pdCBjbG9zZSBldmVudFxuXG4gICAgICAgIHRoaXMuZW1pdChcImNsb3NlXCIsIHJlYXNvbiwgZGVzYyk7IC8vIGNsZWFuIGJ1ZmZlcnMgYWZ0ZXIsIHNvIHVzZXJzIGNhbiBzdGlsbFxuICAgICAgICAvLyBncmFiIHRoZSBidWZmZXJzIG9uIGBjbG9zZWAgZXZlbnRcblxuICAgICAgICB0aGlzLndyaXRlQnVmZmVyID0gW107XG4gICAgICAgIHRoaXMucHJldkJ1ZmZlckxlbiA9IDA7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbHRlcnMgdXBncmFkZXMsIHJldHVybmluZyBvbmx5IHRob3NlIG1hdGNoaW5nIGNsaWVudCB0cmFuc3BvcnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheX0gc2VydmVyIHVwZ3JhZGVzXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICpcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImZpbHRlclVwZ3JhZGVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbHRlclVwZ3JhZGVzKHVwZ3JhZGVzKSB7XG4gICAgICB2YXIgZmlsdGVyZWRVcGdyYWRlcyA9IFtdO1xuICAgICAgdmFyIGkgPSAwO1xuICAgICAgdmFyIGogPSB1cGdyYWRlcy5sZW5ndGg7XG5cbiAgICAgIGZvciAoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIGlmICh+dGhpcy50cmFuc3BvcnRzLmluZGV4T2YodXBncmFkZXNbaV0pKSBmaWx0ZXJlZFVwZ3JhZGVzLnB1c2godXBncmFkZXNbaV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmlsdGVyZWRVcGdyYWRlcztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU29ja2V0O1xufShFbWl0dGVyKTtcblxuU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyA9IGZhbHNlO1xuLyoqXG4gKiBQcm90b2NvbCB2ZXJzaW9uLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuU29ja2V0LnByb3RvY29sID0gcGFyc2VyLnByb3RvY29sOyAvLyB0aGlzIGlzIGFuIGludFxuXG5mdW5jdGlvbiBjbG9uZShvYmopIHtcbiAgdmFyIG8gPSB7fTtcblxuICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgIG9baV0gPSBvYmpbaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG87XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU29ja2V0O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi90cmFuc3BvcnQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3RyYW5zcG9ydC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxudmFyIHBhcnNlciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGVuZ2luZS5pby1wYXJzZXIgKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2xpYi9pbmRleC5qc1wiKTtcblxudmFyIEVtaXR0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBjb21wb25lbnQtZW1pdHRlciAqLyBcIi4vbm9kZV9tb2R1bGVzL2NvbXBvbmVudC1lbWl0dGVyL2luZGV4LmpzXCIpO1xuXG52YXIgX3JlcXVpcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3V0aWwgKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi91dGlsLmpzXCIpLFxuICAgIGluc3RhbGxUaW1lckZ1bmN0aW9ucyA9IF9yZXF1aXJlLmluc3RhbGxUaW1lckZ1bmN0aW9ucztcblxudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgZGVidWcgKi8gXCIuL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qc1wiKShcImVuZ2luZS5pby1jbGllbnQ6dHJhbnNwb3J0XCIpO1xuXG52YXIgVHJhbnNwb3J0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRW1pdHRlcikge1xuICBfaW5oZXJpdHMoVHJhbnNwb3J0LCBfRW1pdHRlcik7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihUcmFuc3BvcnQpO1xuXG4gIC8qKlxuICAgKiBUcmFuc3BvcnQgYWJzdHJhY3QgY29uc3RydWN0b3IuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIFRyYW5zcG9ydChvcHRzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zcG9ydCk7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuICAgIGluc3RhbGxUaW1lckZ1bmN0aW9ucyhfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgb3B0cyk7XG4gICAgX3RoaXMub3B0cyA9IG9wdHM7XG4gICAgX3RoaXMucXVlcnkgPSBvcHRzLnF1ZXJ5O1xuICAgIF90aGlzLnJlYWR5U3RhdGUgPSBcIlwiO1xuICAgIF90aGlzLnNvY2tldCA9IG9wdHMuc29ja2V0O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogRW1pdHMgYW4gZXJyb3IuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAgICogQHJldHVybiB7VHJhbnNwb3J0fSBmb3IgY2hhaW5pbmdcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoVHJhbnNwb3J0LCBbe1xuICAgIGtleTogXCJvbkVycm9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRXJyb3IobXNnLCBkZXNjKSB7XG4gICAgICB2YXIgZXJyID0gbmV3IEVycm9yKG1zZyk7XG4gICAgICBlcnIudHlwZSA9IFwiVHJhbnNwb3J0RXJyb3JcIjtcbiAgICAgIGVyci5kZXNjcmlwdGlvbiA9IGRlc2M7XG4gICAgICB0aGlzLmVtaXQoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9wZW5zIHRoZSB0cmFuc3BvcnQuXG4gICAgICpcbiAgICAgKiBAYXBpIHB1YmxpY1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib3BlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgaWYgKFwiY2xvc2VkXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCBcIlwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJvcGVuaW5nXCI7XG4gICAgICAgIHRoaXMuZG9PcGVuKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIHRyYW5zcG9ydC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY2xvc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICBpZiAoXCJvcGVuaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCBcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgIHRoaXMuZG9DbG9zZSgpO1xuICAgICAgICB0aGlzLm9uQ2xvc2UoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIG11bHRpcGxlIHBhY2tldHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWNrZXRzXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmQocGFja2V0cykge1xuICAgICAgaWYgKFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgdGhpcy53cml0ZShwYWNrZXRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHRoaXMgbWlnaHQgaGFwcGVuIGlmIHRoZSB0cmFuc3BvcnQgd2FzIHNpbGVudGx5IGNsb3NlZCBpbiB0aGUgYmVmb3JldW5sb2FkIGV2ZW50IGhhbmRsZXJcbiAgICAgICAgZGVidWcoXCJ0cmFuc3BvcnQgaXMgbm90IG9wZW4sIGRpc2NhcmRpbmcgcGFja2V0c1wiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gb3BlblxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvbk9wZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25PcGVuKCkge1xuICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJvcGVuXCI7XG4gICAgICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIHRoaXMuZW1pdChcIm9wZW5cIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aXRoIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YVxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib25EYXRhXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRGF0YShkYXRhKSB7XG4gICAgICB2YXIgcGFja2V0ID0gcGFyc2VyLmRlY29kZVBhY2tldChkYXRhLCB0aGlzLnNvY2tldC5iaW5hcnlUeXBlKTtcbiAgICAgIHRoaXMub25QYWNrZXQocGFja2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdpdGggYSBkZWNvZGVkIHBhY2tldC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uUGFja2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uUGFja2V0KHBhY2tldCkge1xuICAgICAgdGhpcy5lbWl0KFwicGFja2V0XCIsIHBhY2tldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGNsb3NlLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvbkNsb3NlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7XG4gICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcImNsb3NlZFwiO1xuICAgICAgdGhpcy5lbWl0KFwiY2xvc2VcIik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRyYW5zcG9ydDtcbn0oRW1pdHRlcik7XG5cbm1vZHVsZS5leHBvcnRzID0gVHJhbnNwb3J0O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi90cmFuc3BvcnRzL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9saWIvdHJhbnNwb3J0cy9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBYTUxIdHRwUmVxdWVzdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHhtbGh0dHByZXF1ZXN0LXNzbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3htbGh0dHByZXF1ZXN0LmpzXCIpO1xuXG52YXIgWEhSID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9wb2xsaW5nLXhociAqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3RyYW5zcG9ydHMvcG9sbGluZy14aHIuanNcIik7XG5cbnZhciBKU09OUCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcG9sbGluZy1qc29ucCAqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3RyYW5zcG9ydHMvcG9sbGluZy1qc29ucC5qc1wiKTtcblxudmFyIHdlYnNvY2tldCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vd2Vic29ja2V0ICovIFwiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9saWIvdHJhbnNwb3J0cy93ZWJzb2NrZXQuanNcIik7XG5cbmV4cG9ydHMucG9sbGluZyA9IHBvbGxpbmc7XG5leHBvcnRzLndlYnNvY2tldCA9IHdlYnNvY2tldDtcbi8qKlxuICogUG9sbGluZyB0cmFuc3BvcnQgcG9seW1vcnBoaWMgY29uc3RydWN0b3IuXG4gKiBEZWNpZGVzIG9uIHhociB2cyBqc29ucCBiYXNlZCBvbiBmZWF0dXJlIGRldGVjdGlvbi5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwb2xsaW5nKG9wdHMpIHtcbiAgdmFyIHhocjtcbiAgdmFyIHhkID0gZmFsc2U7XG4gIHZhciB4cyA9IGZhbHNlO1xuICB2YXIganNvbnAgPSBmYWxzZSAhPT0gb3B0cy5qc29ucDtcblxuICBpZiAodHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIGlzU1NMID0gXCJodHRwczpcIiA9PT0gbG9jYXRpb24ucHJvdG9jb2w7XG4gICAgdmFyIHBvcnQgPSBsb2NhdGlvbi5wb3J0OyAvLyBzb21lIHVzZXIgYWdlbnRzIGhhdmUgZW1wdHkgYGxvY2F0aW9uLnBvcnRgXG5cbiAgICBpZiAoIXBvcnQpIHtcbiAgICAgIHBvcnQgPSBpc1NTTCA/IDQ0MyA6IDgwO1xuICAgIH1cblxuICAgIHhkID0gb3B0cy5ob3N0bmFtZSAhPT0gbG9jYXRpb24uaG9zdG5hbWUgfHwgcG9ydCAhPT0gb3B0cy5wb3J0O1xuICAgIHhzID0gb3B0cy5zZWN1cmUgIT09IGlzU1NMO1xuICB9XG5cbiAgb3B0cy54ZG9tYWluID0geGQ7XG4gIG9wdHMueHNjaGVtZSA9IHhzO1xuICB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3Qob3B0cyk7XG5cbiAgaWYgKFwib3BlblwiIGluIHhociAmJiAhb3B0cy5mb3JjZUpTT05QKSB7XG4gICAgcmV0dXJuIG5ldyBYSFIob3B0cyk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFqc29ucCkgdGhyb3cgbmV3IEVycm9yKFwiSlNPTlAgZGlzYWJsZWRcIik7XG4gICAgcmV0dXJuIG5ldyBKU09OUChvcHRzKTtcbiAgfVxufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi90cmFuc3BvcnRzL3BvbGxpbmctanNvbnAuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3RyYW5zcG9ydHMvcG9sbGluZy1qc29ucC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ICE9PSBcInVuZGVmaW5lZFwiICYmIFJlZmxlY3QuZ2V0KSB7IF9nZXQgPSBSZWZsZWN0LmdldDsgfSBlbHNlIHsgX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgdmFyIGJhc2UgPSBfc3VwZXJQcm9wQmFzZSh0YXJnZXQsIHByb3BlcnR5KTsgaWYgKCFiYXNlKSByZXR1cm47IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7IGlmIChkZXNjLmdldCkgeyByZXR1cm4gZGVzYy5nZXQuY2FsbChyZWNlaXZlcik7IH0gcmV0dXJuIGRlc2MudmFsdWU7IH07IH0gcmV0dXJuIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIgfHwgdGFyZ2V0KTsgfVxuXG5mdW5jdGlvbiBfc3VwZXJQcm9wQmFzZShvYmplY3QsIHByb3BlcnR5KSB7IHdoaWxlICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpKSB7IG9iamVjdCA9IF9nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAob2JqZWN0ID09PSBudWxsKSBicmVhazsgfSByZXR1cm4gb2JqZWN0OyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxudmFyIFBvbGxpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3BvbGxpbmcgKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi90cmFuc3BvcnRzL3BvbGxpbmcuanNcIik7XG5cbnZhciBnbG9iYWxUaGlzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZ2xvYmFsVGhpcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL2dsb2JhbFRoaXMuYnJvd3Nlci5qc1wiKTtcblxudmFyIHJOZXdsaW5lID0gL1xcbi9nO1xudmFyIHJFc2NhcGVkTmV3bGluZSA9IC9cXFxcbi9nO1xuLyoqXG4gKiBHbG9iYWwgSlNPTlAgY2FsbGJhY2tzLlxuICovXG5cbnZhciBjYWxsYmFja3M7XG5cbnZhciBKU09OUFBvbGxpbmcgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Qb2xsaW5nKSB7XG4gIF9pbmhlcml0cyhKU09OUFBvbGxpbmcsIF9Qb2xsaW5nKTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEpTT05QUG9sbGluZyk7XG5cbiAgLyoqXG4gICAqIEpTT05QIFBvbGxpbmcgY29uc3RydWN0b3IuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzLlxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cbiAgZnVuY3Rpb24gSlNPTlBQb2xsaW5nKG9wdHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSlNPTlBQb2xsaW5nKTtcblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0cyk7XG4gICAgX3RoaXMucXVlcnkgPSBfdGhpcy5xdWVyeSB8fCB7fTsgLy8gZGVmaW5lIGdsb2JhbCBjYWxsYmFja3MgYXJyYXkgaWYgbm90IHByZXNlbnRcbiAgICAvLyB3ZSBkbyB0aGlzIGhlcmUgKGxhemlseSkgdG8gYXZvaWQgdW5uZWVkZWQgZ2xvYmFsIHBvbGx1dGlvblxuXG4gICAgaWYgKCFjYWxsYmFja3MpIHtcbiAgICAgIC8vIHdlIG5lZWQgdG8gY29uc2lkZXIgbXVsdGlwbGUgZW5naW5lcyBpbiB0aGUgc2FtZSBwYWdlXG4gICAgICBjYWxsYmFja3MgPSBnbG9iYWxUaGlzLl9fX2VpbyA9IGdsb2JhbFRoaXMuX19fZWlvIHx8IFtdO1xuICAgIH0gLy8gY2FsbGJhY2sgaWRlbnRpZmllclxuXG5cbiAgICBfdGhpcy5pbmRleCA9IGNhbGxiYWNrcy5sZW5ndGg7IC8vIGFkZCBjYWxsYmFjayB0byBqc29ucCBnbG9iYWxcblxuICAgIGNhbGxiYWNrcy5wdXNoKF90aGlzLm9uRGF0YS5iaW5kKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSk7IC8vIGFwcGVuZCB0byBxdWVyeSBzdHJpbmdcblxuICAgIF90aGlzLnF1ZXJ5LmogPSBfdGhpcy5pbmRleDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEpTT05QIG9ubHkgc3VwcG9ydHMgYmluYXJ5IGFzIGJhc2U2NCBlbmNvZGVkIHN0cmluZ3NcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoSlNPTlBQb2xsaW5nLCBbe1xuICAgIGtleTogXCJzdXBwb3J0c0JpbmFyeVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIHNvY2tldC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZG9DbG9zZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkb0Nsb3NlKCkge1xuICAgICAgaWYgKHRoaXMuc2NyaXB0KSB7XG4gICAgICAgIC8vIHByZXZlbnQgc3B1cmlvdXMgZXJyb3JzIGZyb20gYmVpbmcgZW1pdHRlZCB3aGVuIHRoZSB3aW5kb3cgaXMgdW5sb2FkZWRcbiAgICAgICAgdGhpcy5zY3JpcHQub25lcnJvciA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gICAgICAgIHRoaXMuc2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zY3JpcHQpO1xuICAgICAgICB0aGlzLnNjcmlwdCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmZvcm0pIHtcbiAgICAgICAgdGhpcy5mb3JtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5mb3JtKTtcbiAgICAgICAgdGhpcy5mb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy5pZnJhbWUgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihKU09OUFBvbGxpbmcucHJvdG90eXBlKSwgXCJkb0Nsb3NlXCIsIHRoaXMpLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBhIHBvbGwgY3ljbGUuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRvUG9sbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkb1BvbGwoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG5cbiAgICAgIGlmICh0aGlzLnNjcmlwdCkge1xuICAgICAgICB0aGlzLnNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuc2NyaXB0KTtcbiAgICAgICAgdGhpcy5zY3JpcHQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuICAgICAgc2NyaXB0LnNyYyA9IHRoaXMudXJpKCk7XG5cbiAgICAgIHNjcmlwdC5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgX3RoaXMyLm9uRXJyb3IoXCJqc29ucCBwb2xsIGVycm9yXCIsIGUpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGluc2VydEF0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIilbMF07XG5cbiAgICAgIGlmIChpbnNlcnRBdCkge1xuICAgICAgICBpbnNlcnRBdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzY3JpcHQsIGluc2VydEF0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIChkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHkpLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2NyaXB0ID0gc2NyaXB0O1xuICAgICAgdmFyIGlzVUFnZWNrbyA9IFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBuYXZpZ2F0b3IgJiYgL2dlY2tvL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxuICAgICAgaWYgKGlzVUFnZWNrbykge1xuICAgICAgICB0aGlzLnNldFRpbWVvdXRGbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGVzIHdpdGggYSBoaWRkZW4gaWZyYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgdG8gc2VuZFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxlZCB1cG9uIGZsdXNoLlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZG9Xcml0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkb1dyaXRlKGRhdGEsIGZuKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIGlmcmFtZTtcblxuICAgICAgaWYgKCF0aGlzLmZvcm0pIHtcbiAgICAgICAgdmFyIGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgICAgICAgdmFyIGFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuaWZyYW1lSWQgPSBcImVpb19pZnJhbWVfXCIgKyB0aGlzLmluZGV4O1xuICAgICAgICBmb3JtLmNsYXNzTmFtZSA9IFwic29ja2V0aW9cIjtcbiAgICAgICAgZm9ybS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgZm9ybS5zdHlsZS50b3AgPSBcIi0xMDAwcHhcIjtcbiAgICAgICAgZm9ybS5zdHlsZS5sZWZ0ID0gXCItMTAwMHB4XCI7XG4gICAgICAgIGZvcm0udGFyZ2V0ID0gaWQ7XG4gICAgICAgIGZvcm0ubWV0aG9kID0gXCJQT1NUXCI7XG4gICAgICAgIGZvcm0uc2V0QXR0cmlidXRlKFwiYWNjZXB0LWNoYXJzZXRcIiwgXCJ1dGYtOFwiKTtcbiAgICAgICAgYXJlYS5uYW1lID0gXCJkXCI7XG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoYXJlYSk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZm9ybSk7XG4gICAgICAgIHRoaXMuZm9ybSA9IGZvcm07XG4gICAgICAgIHRoaXMuYXJlYSA9IGFyZWE7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZm9ybS5hY3Rpb24gPSB0aGlzLnVyaSgpO1xuXG4gICAgICBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgICAgaW5pdElmcmFtZSgpO1xuICAgICAgICBmbigpO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5pdElmcmFtZSA9IGZ1bmN0aW9uIGluaXRJZnJhbWUoKSB7XG4gICAgICAgIGlmIChfdGhpczMuaWZyYW1lKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIF90aGlzMy5mb3JtLnJlbW92ZUNoaWxkKF90aGlzMy5pZnJhbWUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIF90aGlzMy5vbkVycm9yKFwianNvbnAgcG9sbGluZyBpZnJhbWUgcmVtb3ZhbCBlcnJvclwiLCBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIGllNiBkeW5hbWljIGlmcmFtZXMgd2l0aCB0YXJnZXQ9XCJcIiBzdXBwb3J0ICh0aGFua3MgQ2hyaXMgTGFtYmFjaGVyKVxuICAgICAgICAgIHZhciBodG1sID0gJzxpZnJhbWUgc3JjPVwiamF2YXNjcmlwdDowXCIgbmFtZT1cIicgKyBfdGhpczMuaWZyYW1lSWQgKyAnXCI+JztcbiAgICAgICAgICBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGh0bWwpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcbiAgICAgICAgICBpZnJhbWUubmFtZSA9IF90aGlzMy5pZnJhbWVJZDtcbiAgICAgICAgICBpZnJhbWUuc3JjID0gXCJqYXZhc2NyaXB0OjBcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmcmFtZS5pZCA9IF90aGlzMy5pZnJhbWVJZDtcblxuICAgICAgICBfdGhpczMuZm9ybS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuXG4gICAgICAgIF90aGlzMy5pZnJhbWUgPSBpZnJhbWU7XG4gICAgICB9O1xuXG4gICAgICBpbml0SWZyYW1lKCk7IC8vIGVzY2FwZSBcXG4gdG8gcHJldmVudCBpdCBmcm9tIGJlaW5nIGNvbnZlcnRlZCBpbnRvIFxcclxcbiBieSBzb21lIFVBc1xuICAgICAgLy8gZG91YmxlIGVzY2FwaW5nIGlzIHJlcXVpcmVkIGZvciBlc2NhcGVkIG5ldyBsaW5lcyBiZWNhdXNlIHVuZXNjYXBpbmcgb2YgbmV3IGxpbmVzIGNhbiBiZSBkb25lIHNhZmVseSBvbiBzZXJ2ZXItc2lkZVxuXG4gICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKHJFc2NhcGVkTmV3bGluZSwgXCJcXFxcXFxuXCIpO1xuICAgICAgdGhpcy5hcmVhLnZhbHVlID0gZGF0YS5yZXBsYWNlKHJOZXdsaW5lLCBcIlxcXFxuXCIpO1xuXG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmZvcm0uc3VibWl0KCk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICBpZiAodGhpcy5pZnJhbWUuYXR0YWNoRXZlbnQpIHtcbiAgICAgICAgdGhpcy5pZnJhbWUub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChfdGhpczMuaWZyYW1lLnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIikge1xuICAgICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmlmcmFtZS5vbmxvYWQgPSBjb21wbGV0ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSlNPTlBQb2xsaW5nO1xufShQb2xsaW5nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBKU09OUFBvbGxpbmc7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3RyYW5zcG9ydHMvcG9sbGluZy14aHIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi90cmFuc3BvcnRzL3BvbGxpbmcteGhyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuLyogZ2xvYmFsIGF0dGFjaEV2ZW50ICovXG52YXIgWE1MSHR0cFJlcXVlc3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISB4bWxodHRwcmVxdWVzdC1zc2wgKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi94bWxodHRwcmVxdWVzdC5qc1wiKTtcblxudmFyIFBvbGxpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3BvbGxpbmcgKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi90cmFuc3BvcnRzL3BvbGxpbmcuanNcIik7XG5cbnZhciBFbWl0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY29tcG9uZW50LWVtaXR0ZXIgKi8gXCIuL25vZGVfbW9kdWxlcy9jb21wb25lbnQtZW1pdHRlci9pbmRleC5qc1wiKTtcblxudmFyIF9yZXF1aXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbCAqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3V0aWwuanNcIiksXG4gICAgcGljayA9IF9yZXF1aXJlLnBpY2ssXG4gICAgaW5zdGFsbFRpbWVyRnVuY3Rpb25zID0gX3JlcXVpcmUuaW5zdGFsbFRpbWVyRnVuY3Rpb25zO1xuXG52YXIgZ2xvYmFsVGhpcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2dsb2JhbFRoaXMgKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi9nbG9iYWxUaGlzLmJyb3dzZXIuanNcIik7XG5cbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGRlYnVnICovIFwiLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanNcIikoXCJlbmdpbmUuaW8tY2xpZW50OnBvbGxpbmcteGhyXCIpO1xuLyoqXG4gKiBFbXB0eSBmdW5jdGlvblxuICovXG5cblxuZnVuY3Rpb24gZW1wdHkoKSB7fVxuXG52YXIgaGFzWEhSMiA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCh7XG4gICAgeGRvbWFpbjogZmFsc2VcbiAgfSk7XG4gIHJldHVybiBudWxsICE9IHhoci5yZXNwb25zZVR5cGU7XG59KCk7XG5cbnZhciBYSFIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9Qb2xsaW5nKSB7XG4gIF9pbmhlcml0cyhYSFIsIF9Qb2xsaW5nKTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFhIUik7XG5cbiAgLyoqXG4gICAqIFhIUiBQb2xsaW5nIGNvbnN0cnVjdG9yLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0c1xuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cbiAgZnVuY3Rpb24gWEhSKG9wdHMpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgWEhSKTtcblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0cyk7XG5cbiAgICBpZiAodHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB2YXIgaXNTU0wgPSBcImh0dHBzOlwiID09PSBsb2NhdGlvbi5wcm90b2NvbDtcbiAgICAgIHZhciBwb3J0ID0gbG9jYXRpb24ucG9ydDsgLy8gc29tZSB1c2VyIGFnZW50cyBoYXZlIGVtcHR5IGBsb2NhdGlvbi5wb3J0YFxuXG4gICAgICBpZiAoIXBvcnQpIHtcbiAgICAgICAgcG9ydCA9IGlzU1NMID8gNDQzIDogODA7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnhkID0gdHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiICYmIG9wdHMuaG9zdG5hbWUgIT09IGxvY2F0aW9uLmhvc3RuYW1lIHx8IHBvcnQgIT09IG9wdHMucG9ydDtcbiAgICAgIF90aGlzLnhzID0gb3B0cy5zZWN1cmUgIT09IGlzU1NMO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBYSFIgc3VwcG9ydHMgYmluYXJ5XG4gICAgICovXG5cblxuICAgIHZhciBmb3JjZUJhc2U2NCA9IG9wdHMgJiYgb3B0cy5mb3JjZUJhc2U2NDtcbiAgICBfdGhpcy5zdXBwb3J0c0JpbmFyeSA9IGhhc1hIUjIgJiYgIWZvcmNlQmFzZTY0O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2RcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFhIUiwgW3tcbiAgICBrZXk6IFwicmVxdWVzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXF1ZXN0KCkge1xuICAgICAgdmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgICBfZXh0ZW5kcyhvcHRzLCB7XG4gICAgICAgIHhkOiB0aGlzLnhkLFxuICAgICAgICB4czogdGhpcy54c1xuICAgICAgfSwgdGhpcy5vcHRzKTtcblxuICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMudXJpKCksIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgdG8gc2VuZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsZWQgdXBvbiBmbHVzaC5cbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRvV3JpdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZG9Xcml0ZShkYXRhLCBmbikge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciByZXEgPSB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBkYXRhOiBkYXRhXG4gICAgICB9KTtcbiAgICAgIHJlcS5vbihcInN1Y2Nlc3NcIiwgZm4pO1xuICAgICAgcmVxLm9uKFwiZXJyb3JcIiwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICBfdGhpczIub25FcnJvcihcInhociBwb3N0IGVycm9yXCIsIGVycik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRzIGEgcG9sbCBjeWNsZS5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZG9Qb2xsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRvUG9sbCgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBkZWJ1ZyhcInhociBwb2xsXCIpO1xuICAgICAgdmFyIHJlcSA9IHRoaXMucmVxdWVzdCgpO1xuICAgICAgcmVxLm9uKFwiZGF0YVwiLCB0aGlzLm9uRGF0YS5iaW5kKHRoaXMpKTtcbiAgICAgIHJlcS5vbihcImVycm9yXCIsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgX3RoaXMzLm9uRXJyb3IoXCJ4aHIgcG9sbCBlcnJvclwiLCBlcnIpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnBvbGxYaHIgPSByZXE7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFhIUjtcbn0oUG9sbGluZyk7XG5cbnZhciBSZXF1ZXN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRW1pdHRlcikge1xuICBfaW5oZXJpdHMoUmVxdWVzdCwgX0VtaXR0ZXIpO1xuXG4gIHZhciBfc3VwZXIyID0gX2NyZWF0ZVN1cGVyKFJlcXVlc3QpO1xuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IGNvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuICBmdW5jdGlvbiBSZXF1ZXN0KHVyaSwgb3B0cykge1xuICAgIHZhciBfdGhpczQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVxdWVzdCk7XG5cbiAgICBfdGhpczQgPSBfc3VwZXIyLmNhbGwodGhpcyk7XG4gICAgaW5zdGFsbFRpbWVyRnVuY3Rpb25zKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXM0KSwgb3B0cyk7XG4gICAgX3RoaXM0Lm9wdHMgPSBvcHRzO1xuICAgIF90aGlzNC5tZXRob2QgPSBvcHRzLm1ldGhvZCB8fCBcIkdFVFwiO1xuICAgIF90aGlzNC51cmkgPSB1cmk7XG4gICAgX3RoaXM0LmFzeW5jID0gZmFsc2UgIT09IG9wdHMuYXN5bmM7XG4gICAgX3RoaXM0LmRhdGEgPSB1bmRlZmluZWQgIT09IG9wdHMuZGF0YSA/IG9wdHMuZGF0YSA6IG51bGw7XG5cbiAgICBfdGhpczQuY3JlYXRlKCk7XG5cbiAgICByZXR1cm4gX3RoaXM0O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIHRoZSBYSFIgb2JqZWN0IGFuZCBzZW5kcyB0aGUgcmVxdWVzdC5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFJlcXVlc3QsIFt7XG4gICAga2V5OiBcImNyZWF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgdmFyIG9wdHMgPSBwaWNrKHRoaXMub3B0cywgXCJhZ2VudFwiLCBcImVuYWJsZXNYRFJcIiwgXCJwZnhcIiwgXCJrZXlcIiwgXCJwYXNzcGhyYXNlXCIsIFwiY2VydFwiLCBcImNhXCIsIFwiY2lwaGVyc1wiLCBcInJlamVjdFVuYXV0aG9yaXplZFwiLCBcImF1dG9VbnJlZlwiKTtcbiAgICAgIG9wdHMueGRvbWFpbiA9ICEhdGhpcy5vcHRzLnhkO1xuICAgICAgb3B0cy54c2NoZW1lID0gISF0aGlzLm9wdHMueHM7XG4gICAgICB2YXIgeGhyID0gdGhpcy54aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3Qob3B0cyk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGRlYnVnKFwieGhyIG9wZW4gJXM6ICVzXCIsIHRoaXMubWV0aG9kLCB0aGlzLnVyaSk7XG4gICAgICAgIHhoci5vcGVuKHRoaXMubWV0aG9kLCB0aGlzLnVyaSwgdGhpcy5hc3luYyk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAodGhpcy5vcHRzLmV4dHJhSGVhZGVycykge1xuICAgICAgICAgICAgeGhyLnNldERpc2FibGVIZWFkZXJDaGVjayAmJiB4aHIuc2V0RGlzYWJsZUhlYWRlckNoZWNrKHRydWUpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMub3B0cy5leHRyYUhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5leHRyYUhlYWRlcnMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihpLCB0aGlzLm9wdHMuZXh0cmFIZWFkZXJzW2ldKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgICBpZiAoXCJQT1NUXCIgPT09IHRoaXMubWV0aG9kKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsIFwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04XCIpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsIFwiKi8qXCIpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fSAvLyBpZTYgY2hlY2tcblxuXG4gICAgICAgIGlmIChcIndpdGhDcmVkZW50aWFsc1wiIGluIHhocikge1xuICAgICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0aGlzLm9wdHMud2l0aENyZWRlbnRpYWxzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0cy5yZXF1ZXN0VGltZW91dCkge1xuICAgICAgICAgIHhoci50aW1lb3V0ID0gdGhpcy5vcHRzLnJlcXVlc3RUaW1lb3V0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaGFzWERSKCkpIHtcbiAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXM1Lm9uTG9hZCgpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzNS5vbkVycm9yKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICg0ICE9PSB4aHIucmVhZHlTdGF0ZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAoMjAwID09PSB4aHIuc3RhdHVzIHx8IDEyMjMgPT09IHhoci5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgX3RoaXM1Lm9uTG9hZCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBgZXJyb3JgIGV2ZW50IGhhbmRsZXIgdGhhdCdzIHVzZXItc2V0XG4gICAgICAgICAgICAgIC8vIGRvZXMgbm90IHRocm93IGluIHRoZSBzYW1lIHRpY2sgYW5kIGdldHMgY2F1Z2h0IGhlcmVcbiAgICAgICAgICAgICAgX3RoaXM1LnNldFRpbWVvdXRGbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXM1Lm9uRXJyb3IodHlwZW9mIHhoci5zdGF0dXMgPT09IFwibnVtYmVyXCIgPyB4aHIuc3RhdHVzIDogMCk7XG4gICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBkZWJ1ZyhcInhociBkYXRhICVzXCIsIHRoaXMuZGF0YSk7XG4gICAgICAgIHhoci5zZW5kKHRoaXMuZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIE5lZWQgdG8gZGVmZXIgc2luY2UgLmNyZWF0ZSgpIGlzIGNhbGxlZCBkaXJlY3RseSBmcm9tIHRoZSBjb25zdHJ1Y3RvclxuICAgICAgICAvLyBhbmQgdGh1cyB0aGUgJ2Vycm9yJyBldmVudCBjYW4gb25seSBiZSBvbmx5IGJvdW5kICphZnRlciogdGhpcyBleGNlcHRpb25cbiAgICAgICAgLy8gb2NjdXJzLiAgVGhlcmVmb3JlLCBhbHNvLCB3ZSBjYW5ub3QgdGhyb3cgaGVyZSBhdCBhbGwuXG4gICAgICAgIHRoaXMuc2V0VGltZW91dEZuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczUub25FcnJvcihlKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICB0aGlzLmluZGV4ID0gUmVxdWVzdC5yZXF1ZXN0c0NvdW50Kys7XG4gICAgICAgIFJlcXVlc3QucmVxdWVzdHNbdGhpcy5pbmRleF0gPSB0aGlzO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBzdWNjZXNzZnVsIHJlc3BvbnNlLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvblN1Y2Nlc3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25TdWNjZXNzKCkge1xuICAgICAgdGhpcy5lbWl0KFwic3VjY2Vzc1wiKTtcbiAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgd2UgaGF2ZSBkYXRhLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvbkRhdGFcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25EYXRhKGRhdGEpIHtcbiAgICAgIHRoaXMuZW1pdChcImRhdGFcIiwgZGF0YSk7XG4gICAgICB0aGlzLm9uU3VjY2VzcygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBlcnJvci5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib25FcnJvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkVycm9yKGVycikge1xuICAgICAgdGhpcy5lbWl0KFwiZXJyb3JcIiwgZXJyKTtcbiAgICAgIHRoaXMuY2xlYW51cCh0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW5zIHVwIGhvdXNlLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjbGVhbnVwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFudXAoZnJvbUVycm9yKSB7XG4gICAgICBpZiAoXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIHRoaXMueGhyIHx8IG51bGwgPT09IHRoaXMueGhyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8geG1saHR0cHJlcXVlc3RcblxuXG4gICAgICBpZiAodGhpcy5oYXNYRFIoKSkge1xuICAgICAgICB0aGlzLnhoci5vbmxvYWQgPSB0aGlzLnhoci5vbmVycm9yID0gZW1wdHk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBlbXB0eTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZyb21FcnJvcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMueGhyLmFib3J0KCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgZGVsZXRlIFJlcXVlc3QucmVxdWVzdHNbdGhpcy5pbmRleF07XG4gICAgICB9XG5cbiAgICAgIHRoaXMueGhyID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gbG9hZC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib25Mb2FkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTG9hZCgpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy54aHIucmVzcG9uc2VUZXh0O1xuXG4gICAgICBpZiAoZGF0YSAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLm9uRGF0YShkYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgaXQgaGFzIFhEb21haW5SZXF1ZXN0LlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJoYXNYRFJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzWERSKCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBYRG9tYWluUmVxdWVzdCAhPT0gXCJ1bmRlZmluZWRcIiAmJiAhdGhpcy54cyAmJiB0aGlzLmVuYWJsZXNYRFI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFib3J0cyB0aGUgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhYm9ydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhYm9ydCgpIHtcbiAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSZXF1ZXN0O1xufShFbWl0dGVyKTtcbi8qKlxuICogQWJvcnRzIHBlbmRpbmcgcmVxdWVzdHMgd2hlbiB1bmxvYWRpbmcgdGhlIHdpbmRvdy4gVGhpcyBpcyBuZWVkZWQgdG8gcHJldmVudFxuICogbWVtb3J5IGxlYWtzIChlLmcuIHdoZW4gdXNpbmcgSUUpIGFuZCB0byBlbnN1cmUgdGhhdCBubyBzcHVyaW91cyBlcnJvciBpc1xuICogZW1pdHRlZC5cbiAqL1xuXG5cblJlcXVlc3QucmVxdWVzdHNDb3VudCA9IDA7XG5SZXF1ZXN0LnJlcXVlc3RzID0ge307XG5cbmlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgaWYgKHR5cGVvZiBhdHRhY2hFdmVudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLCB1bmxvYWRIYW5kbGVyKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYWRkRXZlbnRMaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIHRlcm1pbmF0aW9uRXZlbnQgPSBcIm9ucGFnZWhpZGVcIiBpbiBnbG9iYWxUaGlzID8gXCJwYWdlaGlkZVwiIDogXCJ1bmxvYWRcIjtcbiAgICBhZGRFdmVudExpc3RlbmVyKHRlcm1pbmF0aW9uRXZlbnQsIHVubG9hZEhhbmRsZXIsIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1bmxvYWRIYW5kbGVyKCkge1xuICBmb3IgKHZhciBpIGluIFJlcXVlc3QucmVxdWVzdHMpIHtcbiAgICBpZiAoUmVxdWVzdC5yZXF1ZXN0cy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgUmVxdWVzdC5yZXF1ZXN0c1tpXS5hYm9ydCgpO1xuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFhIUjtcbm1vZHVsZS5leHBvcnRzLlJlcXVlc3QgPSBSZXF1ZXN0O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi90cmFuc3BvcnRzL3BvbGxpbmcuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3RyYW5zcG9ydHMvcG9sbGluZy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxudmFyIFRyYW5zcG9ydCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3RyYW5zcG9ydCAqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3RyYW5zcG9ydC5qc1wiKTtcblxudmFyIHBhcnNlcXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBwYXJzZXFzICovIFwiLi9ub2RlX21vZHVsZXMvcGFyc2Vxcy9pbmRleC5qc1wiKTtcblxudmFyIHBhcnNlciA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGVuZ2luZS5pby1wYXJzZXIgKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2xpYi9pbmRleC5qc1wiKTtcblxudmFyIHllYXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgeWVhc3QgKi8gXCIuL25vZGVfbW9kdWxlcy95ZWFzdC9pbmRleC5qc1wiKTtcblxudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgZGVidWcgKi8gXCIuL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qc1wiKShcImVuZ2luZS5pby1jbGllbnQ6cG9sbGluZ1wiKTtcblxudmFyIFBvbGxpbmcgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9UcmFuc3BvcnQpIHtcbiAgX2luaGVyaXRzKFBvbGxpbmcsIF9UcmFuc3BvcnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoUG9sbGluZyk7XG5cbiAgZnVuY3Rpb24gUG9sbGluZygpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9sbGluZyk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUG9sbGluZywgW3tcbiAgICBrZXk6IFwibmFtZVwiLFxuICAgIGdldDpcbiAgICAvKipcbiAgICAgKiBUcmFuc3BvcnQgbmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gXCJwb2xsaW5nXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9wZW5zIHRoZSBzb2NrZXQgKHRyaWdnZXJzIHBvbGxpbmcpLiBXZSB3cml0ZSBhIFBJTkcgbWVzc2FnZSB0byBkZXRlcm1pbmVcbiAgICAgKiB3aGVuIHRoZSB0cmFuc3BvcnQgaXMgb3Blbi5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZG9PcGVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRvT3BlbigpIHtcbiAgICAgIHRoaXMucG9sbCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXVzZXMgcG9sbGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIHVwb24gYnVmZmVycyBhcmUgZmx1c2hlZCBhbmQgdHJhbnNwb3J0IGlzIHBhdXNlZFxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicGF1c2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGF1c2Uob25QYXVzZSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJwYXVzaW5nXCI7XG5cbiAgICAgIHZhciBwYXVzZSA9IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgICBkZWJ1ZyhcInBhdXNlZFwiKTtcbiAgICAgICAgX3RoaXMucmVhZHlTdGF0ZSA9IFwicGF1c2VkXCI7XG4gICAgICAgIG9uUGF1c2UoKTtcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLnBvbGxpbmcgfHwgIXRoaXMud3JpdGFibGUpIHtcbiAgICAgICAgdmFyIHRvdGFsID0gMDtcblxuICAgICAgICBpZiAodGhpcy5wb2xsaW5nKSB7XG4gICAgICAgICAgZGVidWcoXCJ3ZSBhcmUgY3VycmVudGx5IHBvbGxpbmcgLSB3YWl0aW5nIHRvIHBhdXNlXCIpO1xuICAgICAgICAgIHRvdGFsKys7XG4gICAgICAgICAgdGhpcy5vbmNlKFwicG9sbENvbXBsZXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRlYnVnKFwicHJlLXBhdXNlIHBvbGxpbmcgY29tcGxldGVcIik7XG4gICAgICAgICAgICAtLXRvdGFsIHx8IHBhdXNlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMud3JpdGFibGUpIHtcbiAgICAgICAgICBkZWJ1ZyhcIndlIGFyZSBjdXJyZW50bHkgd3JpdGluZyAtIHdhaXRpbmcgdG8gcGF1c2VcIik7XG4gICAgICAgICAgdG90YWwrKztcbiAgICAgICAgICB0aGlzLm9uY2UoXCJkcmFpblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZWJ1ZyhcInByZS1wYXVzZSB3cml0aW5nIGNvbXBsZXRlXCIpO1xuICAgICAgICAgICAgLS10b3RhbCB8fCBwYXVzZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXVzZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydHMgcG9sbGluZyBjeWNsZS5cbiAgICAgKlxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJwb2xsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBvbGwoKSB7XG4gICAgICBkZWJ1ZyhcInBvbGxpbmdcIik7XG4gICAgICB0aGlzLnBvbGxpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5kb1BvbGwoKTtcbiAgICAgIHRoaXMuZW1pdChcInBvbGxcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJsb2FkcyBvbkRhdGEgdG8gZGV0ZWN0IHBheWxvYWRzLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvbkRhdGFcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25EYXRhKGRhdGEpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBkZWJ1ZyhcInBvbGxpbmcgZ290IGRhdGEgJXNcIiwgZGF0YSk7XG5cbiAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uIGNhbGxiYWNrKHBhY2tldCkge1xuICAgICAgICAvLyBpZiBpdHMgdGhlIGZpcnN0IG1lc3NhZ2Ugd2UgY29uc2lkZXIgdGhlIHRyYW5zcG9ydCBvcGVuXG4gICAgICAgIGlmIChcIm9wZW5pbmdcIiA9PT0gX3RoaXMyLnJlYWR5U3RhdGUgJiYgcGFja2V0LnR5cGUgPT09IFwib3BlblwiKSB7XG4gICAgICAgICAgX3RoaXMyLm9uT3BlbigpO1xuICAgICAgICB9IC8vIGlmIGl0cyBhIGNsb3NlIHBhY2tldCwgd2UgY2xvc2UgdGhlIG9uZ29pbmcgcmVxdWVzdHNcblxuXG4gICAgICAgIGlmIChcImNsb3NlXCIgPT09IHBhY2tldC50eXBlKSB7XG4gICAgICAgICAgX3RoaXMyLm9uQ2xvc2UoKTtcblxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSAvLyBvdGhlcndpc2UgYnlwYXNzIG9uRGF0YSBhbmQgaGFuZGxlIHRoZSBtZXNzYWdlXG5cblxuICAgICAgICBfdGhpczIub25QYWNrZXQocGFja2V0KTtcbiAgICAgIH07IC8vIGRlY29kZSBwYXlsb2FkXG5cblxuICAgICAgcGFyc2VyLmRlY29kZVBheWxvYWQoZGF0YSwgdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSkuZm9yRWFjaChjYWxsYmFjayk7IC8vIGlmIGFuIGV2ZW50IGRpZCBub3QgdHJpZ2dlciBjbG9zaW5nXG5cbiAgICAgIGlmIChcImNsb3NlZFwiICE9PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgLy8gaWYgd2UgZ290IGRhdGEgd2UncmUgbm90IHBvbGxpbmdcbiAgICAgICAgdGhpcy5wb2xsaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZW1pdChcInBvbGxDb21wbGV0ZVwiKTtcblxuICAgICAgICBpZiAoXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgIHRoaXMucG9sbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlYnVnKCdpZ25vcmluZyBwb2xsIC0gdHJhbnNwb3J0IHN0YXRlIFwiJXNcIicsIHRoaXMucmVhZHlTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9yIHBvbGxpbmcsIHNlbmQgYSBjbG9zZSBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRvQ2xvc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZG9DbG9zZSgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgY2xvc2UgPSBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgZGVidWcoXCJ3cml0aW5nIGNsb3NlIHBhY2tldFwiKTtcblxuICAgICAgICBfdGhpczMud3JpdGUoW3tcbiAgICAgICAgICB0eXBlOiBcImNsb3NlXCJcbiAgICAgICAgfV0pO1xuICAgICAgfTtcblxuICAgICAgaWYgKFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgZGVidWcoXCJ0cmFuc3BvcnQgb3BlbiAtIGNsb3NpbmdcIik7XG4gICAgICAgIGNsb3NlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpbiBjYXNlIHdlJ3JlIHRyeWluZyB0byBjbG9zZSB3aGlsZVxuICAgICAgICAvLyBoYW5kc2hha2luZyBpcyBpbiBwcm9ncmVzcyAoR0gtMTY0KVxuICAgICAgICBkZWJ1ZyhcInRyYW5zcG9ydCBub3Qgb3BlbiAtIGRlZmVycmluZyBjbG9zZVwiKTtcbiAgICAgICAgdGhpcy5vbmNlKFwib3BlblwiLCBjbG9zZSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlcyBhIHBhY2tldHMgcGF5bG9hZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgcGFja2V0c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGRyYWluIGNhbGxiYWNrXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ3cml0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB3cml0ZShwYWNrZXRzKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdGhpcy53cml0YWJsZSA9IGZhbHNlO1xuICAgICAgcGFyc2VyLmVuY29kZVBheWxvYWQocGFja2V0cywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgX3RoaXM0LmRvV3JpdGUoZGF0YSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzNC53cml0YWJsZSA9IHRydWU7XG5cbiAgICAgICAgICBfdGhpczQuZW1pdChcImRyYWluXCIpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdXJpIGZvciBjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1cmlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXJpKCkge1xuICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5xdWVyeSB8fCB7fTtcbiAgICAgIHZhciBzY2hlbWEgPSB0aGlzLm9wdHMuc2VjdXJlID8gXCJodHRwc1wiIDogXCJodHRwXCI7XG4gICAgICB2YXIgcG9ydCA9IFwiXCI7IC8vIGNhY2hlIGJ1c3RpbmcgaXMgZm9yY2VkXG5cbiAgICAgIGlmIChmYWxzZSAhPT0gdGhpcy5vcHRzLnRpbWVzdGFtcFJlcXVlc3RzKSB7XG4gICAgICAgIHF1ZXJ5W3RoaXMub3B0cy50aW1lc3RhbXBQYXJhbV0gPSB5ZWFzdCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuc3VwcG9ydHNCaW5hcnkgJiYgIXF1ZXJ5LnNpZCkge1xuICAgICAgICBxdWVyeS5iNjQgPSAxO1xuICAgICAgfVxuXG4gICAgICBxdWVyeSA9IHBhcnNlcXMuZW5jb2RlKHF1ZXJ5KTsgLy8gYXZvaWQgcG9ydCBpZiBkZWZhdWx0IGZvciBzY2hlbWFcblxuICAgICAgaWYgKHRoaXMub3B0cy5wb3J0ICYmIChcImh0dHBzXCIgPT09IHNjaGVtYSAmJiBOdW1iZXIodGhpcy5vcHRzLnBvcnQpICE9PSA0NDMgfHwgXCJodHRwXCIgPT09IHNjaGVtYSAmJiBOdW1iZXIodGhpcy5vcHRzLnBvcnQpICE9PSA4MCkpIHtcbiAgICAgICAgcG9ydCA9IFwiOlwiICsgdGhpcy5vcHRzLnBvcnQ7XG4gICAgICB9IC8vIHByZXBlbmQgPyB0byBxdWVyeVxuXG5cbiAgICAgIGlmIChxdWVyeS5sZW5ndGgpIHtcbiAgICAgICAgcXVlcnkgPSBcIj9cIiArIHF1ZXJ5O1xuICAgICAgfVxuXG4gICAgICB2YXIgaXB2NiA9IHRoaXMub3B0cy5ob3N0bmFtZS5pbmRleE9mKFwiOlwiKSAhPT0gLTE7XG4gICAgICByZXR1cm4gc2NoZW1hICsgXCI6Ly9cIiArIChpcHY2ID8gXCJbXCIgKyB0aGlzLm9wdHMuaG9zdG5hbWUgKyBcIl1cIiA6IHRoaXMub3B0cy5ob3N0bmFtZSkgKyBwb3J0ICsgdGhpcy5vcHRzLnBhdGggKyBxdWVyeTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUG9sbGluZztcbn0oVHJhbnNwb3J0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBQb2xsaW5nO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi90cmFuc3BvcnRzL3dlYnNvY2tldC1jb25zdHJ1Y3Rvci5icm93c2VyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9saWIvdHJhbnNwb3J0cy93ZWJzb2NrZXQtY29uc3RydWN0b3IuYnJvd3Nlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBnbG9iYWxUaGlzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZ2xvYmFsVGhpcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL2dsb2JhbFRoaXMuYnJvd3Nlci5qc1wiKTtcblxudmFyIG5leHRUaWNrID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaXNQcm9taXNlQXZhaWxhYmxlID0gdHlwZW9mIFByb21pc2UgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgUHJvbWlzZS5yZXNvbHZlID09PSBcImZ1bmN0aW9uXCI7XG5cbiAgaWYgKGlzUHJvbWlzZUF2YWlsYWJsZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoY2IpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGNiKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmdW5jdGlvbiAoY2IsIHNldFRpbWVvdXRGbikge1xuICAgICAgcmV0dXJuIHNldFRpbWVvdXRGbihjYiwgMCk7XG4gICAgfTtcbiAgfVxufSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgV2ViU29ja2V0OiBnbG9iYWxUaGlzLldlYlNvY2tldCB8fCBnbG9iYWxUaGlzLk1veldlYlNvY2tldCxcbiAgdXNpbmdCcm93c2VyV2ViU29ja2V0OiB0cnVlLFxuICBkZWZhdWx0QmluYXJ5VHlwZTogXCJhcnJheWJ1ZmZlclwiLFxuICBuZXh0VGljazogbmV4dFRpY2tcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3RyYW5zcG9ydHMvd2Vic29ja2V0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3RyYW5zcG9ydHMvd2Vic29ja2V0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbnZhciBUcmFuc3BvcnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi90cmFuc3BvcnQgKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi90cmFuc3BvcnQuanNcIik7XG5cbnZhciBwYXJzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBlbmdpbmUuaW8tcGFyc2VyICovIFwiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9saWIvaW5kZXguanNcIik7XG5cbnZhciBwYXJzZXFzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcGFyc2VxcyAqLyBcIi4vbm9kZV9tb2R1bGVzL3BhcnNlcXMvaW5kZXguanNcIik7XG5cbnZhciB5ZWFzdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHllYXN0ICovIFwiLi9ub2RlX21vZHVsZXMveWVhc3QvaW5kZXguanNcIik7XG5cbnZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWwgKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi91dGlsLmpzXCIpLFxuICAgIHBpY2sgPSBfcmVxdWlyZS5waWNrO1xuXG52YXIgX3JlcXVpcmUyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi93ZWJzb2NrZXQtY29uc3RydWN0b3IgKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi90cmFuc3BvcnRzL3dlYnNvY2tldC1jb25zdHJ1Y3Rvci5icm93c2VyLmpzXCIpLFxuICAgIFdlYlNvY2tldCA9IF9yZXF1aXJlMi5XZWJTb2NrZXQsXG4gICAgdXNpbmdCcm93c2VyV2ViU29ja2V0ID0gX3JlcXVpcmUyLnVzaW5nQnJvd3NlcldlYlNvY2tldCxcbiAgICBkZWZhdWx0QmluYXJ5VHlwZSA9IF9yZXF1aXJlMi5kZWZhdWx0QmluYXJ5VHlwZSxcbiAgICBuZXh0VGljayA9IF9yZXF1aXJlMi5uZXh0VGljaztcblxudmFyIGRlYnVnID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgZGVidWcgKi8gXCIuL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qc1wiKShcImVuZ2luZS5pby1jbGllbnQ6d2Vic29ja2V0XCIpOyAvLyBkZXRlY3QgUmVhY3ROYXRpdmUgZW52aXJvbm1lbnRcblxuXG52YXIgaXNSZWFjdE5hdGl2ZSA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIG5hdmlnYXRvci5wcm9kdWN0ID09PSBcInN0cmluZ1wiICYmIG5hdmlnYXRvci5wcm9kdWN0LnRvTG93ZXJDYXNlKCkgPT09IFwicmVhY3RuYXRpdmVcIjtcblxudmFyIFdTID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVHJhbnNwb3J0KSB7XG4gIF9pbmhlcml0cyhXUywgX1RyYW5zcG9ydCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihXUyk7XG5cbiAgLyoqXG4gICAqIFdlYlNvY2tldCB0cmFuc3BvcnQgY29uc3RydWN0b3IuXG4gICAqXG4gICAqIEBhcGkge09iamVjdH0gY29ubmVjdGlvbiBvcHRpb25zXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuICBmdW5jdGlvbiBXUyhvcHRzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdTKTtcblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0cyk7XG4gICAgX3RoaXMuc3VwcG9ydHNCaW5hcnkgPSAhb3B0cy5mb3JjZUJhc2U2NDtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFRyYW5zcG9ydCBuYW1lLlxuICAgKlxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhXUywgW3tcbiAgICBrZXk6IFwibmFtZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFwid2Vic29ja2V0XCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9wZW5zIHNvY2tldC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZG9PcGVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRvT3BlbigpIHtcbiAgICAgIGlmICghdGhpcy5jaGVjaygpKSB7XG4gICAgICAgIC8vIGxldCBwcm9iZSB0aW1lb3V0XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHVyaSA9IHRoaXMudXJpKCk7XG4gICAgICB2YXIgcHJvdG9jb2xzID0gdGhpcy5vcHRzLnByb3RvY29sczsgLy8gUmVhY3QgTmF0aXZlIG9ubHkgc3VwcG9ydHMgdGhlICdoZWFkZXJzJyBvcHRpb24sIGFuZCB3aWxsIHByaW50IGEgd2FybmluZyBpZiBhbnl0aGluZyBlbHNlIGlzIHBhc3NlZFxuXG4gICAgICB2YXIgb3B0cyA9IGlzUmVhY3ROYXRpdmUgPyB7fSA6IHBpY2sodGhpcy5vcHRzLCBcImFnZW50XCIsIFwicGVyTWVzc2FnZURlZmxhdGVcIiwgXCJwZnhcIiwgXCJrZXlcIiwgXCJwYXNzcGhyYXNlXCIsIFwiY2VydFwiLCBcImNhXCIsIFwiY2lwaGVyc1wiLCBcInJlamVjdFVuYXV0aG9yaXplZFwiLCBcImxvY2FsQWRkcmVzc1wiLCBcInByb3RvY29sVmVyc2lvblwiLCBcIm9yaWdpblwiLCBcIm1heFBheWxvYWRcIiwgXCJmYW1pbHlcIiwgXCJjaGVja1NlcnZlcklkZW50aXR5XCIpO1xuXG4gICAgICBpZiAodGhpcy5vcHRzLmV4dHJhSGVhZGVycykge1xuICAgICAgICBvcHRzLmhlYWRlcnMgPSB0aGlzLm9wdHMuZXh0cmFIZWFkZXJzO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLndzID0gdXNpbmdCcm93c2VyV2ViU29ja2V0ICYmICFpc1JlYWN0TmF0aXZlID8gcHJvdG9jb2xzID8gbmV3IFdlYlNvY2tldCh1cmksIHByb3RvY29scykgOiBuZXcgV2ViU29ja2V0KHVyaSkgOiBuZXcgV2ViU29ja2V0KHVyaSwgcHJvdG9jb2xzLCBvcHRzKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gdGhpcy5lbWl0KFwiZXJyb3JcIiwgZXJyKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy53cy5iaW5hcnlUeXBlID0gdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSB8fCBkZWZhdWx0QmluYXJ5VHlwZTtcbiAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBldmVudCBsaXN0ZW5lcnMgdG8gdGhlIHNvY2tldFxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhZGRFdmVudExpc3RlbmVyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB0aGlzLndzLm9ub3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzMi5vcHRzLmF1dG9VbnJlZikge1xuICAgICAgICAgIF90aGlzMi53cy5fc29ja2V0LnVucmVmKCk7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczIub25PcGVuKCk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLndzLm9uY2xvc2UgPSB0aGlzLm9uQ2xvc2UuYmluZCh0aGlzKTtcblxuICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMi5vbkRhdGEoZXYuZGF0YSk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLndzLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gX3RoaXMyLm9uRXJyb3IoXCJ3ZWJzb2NrZXQgZXJyb3JcIiwgZSk7XG4gICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgZGF0YSB0byBzb2NrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBvZiBwYWNrZXRzLlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwid3JpdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gd3JpdGUocGFja2V0cykge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHRoaXMud3JpdGFibGUgPSBmYWxzZTsgLy8gZW5jb2RlUGFja2V0IGVmZmljaWVudCBhcyBpdCB1c2VzIFdTIGZyYW1pbmdcbiAgICAgIC8vIG5vIG5lZWQgZm9yIGVuY29kZVBheWxvYWRcblxuICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkge1xuICAgICAgICB2YXIgcGFja2V0ID0gcGFja2V0c1tpXTtcbiAgICAgICAgdmFyIGxhc3RQYWNrZXQgPSBpID09PSBwYWNrZXRzLmxlbmd0aCAtIDE7XG4gICAgICAgIHBhcnNlci5lbmNvZGVQYWNrZXQocGFja2V0LCBfdGhpczMuc3VwcG9ydHNCaW5hcnksIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgLy8gYWx3YXlzIGNyZWF0ZSBhIG5ldyBvYmplY3QgKEdILTQzNylcbiAgICAgICAgICB2YXIgb3B0cyA9IHt9O1xuXG4gICAgICAgICAgaWYgKCF1c2luZ0Jyb3dzZXJXZWJTb2NrZXQpIHtcbiAgICAgICAgICAgIGlmIChwYWNrZXQub3B0aW9ucykge1xuICAgICAgICAgICAgICBvcHRzLmNvbXByZXNzID0gcGFja2V0Lm9wdGlvbnMuY29tcHJlc3M7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfdGhpczMub3B0cy5wZXJNZXNzYWdlRGVmbGF0ZSkge1xuICAgICAgICAgICAgICB2YXIgbGVuID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGRhdGEgPyBCdWZmZXIuYnl0ZUxlbmd0aChkYXRhKSA6IGRhdGEubGVuZ3RoO1xuXG4gICAgICAgICAgICAgIGlmIChsZW4gPCBfdGhpczMub3B0cy5wZXJNZXNzYWdlRGVmbGF0ZS50aHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICBvcHRzLmNvbXByZXNzID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIFNvbWV0aW1lcyB0aGUgd2Vic29ja2V0IGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkIGJ1dCB0aGUgYnJvd3NlciBkaWRuJ3RcbiAgICAgICAgICAvLyBoYXZlIGEgY2hhbmNlIG9mIGluZm9ybWluZyB1cyBhYm91dCBpdCB5ZXQsIGluIHRoYXQgY2FzZSBzZW5kIHdpbGxcbiAgICAgICAgICAvLyB0aHJvdyBhbiBlcnJvclxuXG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHVzaW5nQnJvd3NlcldlYlNvY2tldCkge1xuICAgICAgICAgICAgICAvLyBUeXBlRXJyb3IgaXMgdGhyb3duIHdoZW4gcGFzc2luZyB0aGUgc2Vjb25kIGFyZ3VtZW50IG9uIFNhZmFyaVxuICAgICAgICAgICAgICBfdGhpczMud3Muc2VuZChkYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIF90aGlzMy53cy5zZW5kKGRhdGEsIG9wdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGRlYnVnKFwid2Vic29ja2V0IGNsb3NlZCBiZWZvcmUgb25jbG9zZSBldmVudFwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobGFzdFBhY2tldCkge1xuICAgICAgICAgICAgLy8gZmFrZSBkcmFpblxuICAgICAgICAgICAgLy8gZGVmZXIgdG8gbmV4dCB0aWNrIHRvIGFsbG93IFNvY2tldCB0byBjbGVhciB3cml0ZUJ1ZmZlclxuICAgICAgICAgICAgbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBfdGhpczMud3JpdGFibGUgPSB0cnVlO1xuXG4gICAgICAgICAgICAgIF90aGlzMy5lbWl0KFwiZHJhaW5cIik7XG4gICAgICAgICAgICB9LCBfdGhpczMuc2V0VGltZW91dEZuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWNrZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIF9sb29wKGkpO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBjbG9zZVxuICAgICAqXG4gICAgICogQGFwaSBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvbkNsb3NlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7XG4gICAgICBUcmFuc3BvcnQucHJvdG90eXBlLm9uQ2xvc2UuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHNvY2tldC5cbiAgICAgKlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZG9DbG9zZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkb0Nsb3NlKCkge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLndzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHRoaXMud3MuY2xvc2UoKTtcbiAgICAgICAgdGhpcy53cyA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB1cmkgZm9yIGNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBAYXBpIHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVyaVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cmkoKSB7XG4gICAgICB2YXIgcXVlcnkgPSB0aGlzLnF1ZXJ5IHx8IHt9O1xuICAgICAgdmFyIHNjaGVtYSA9IHRoaXMub3B0cy5zZWN1cmUgPyBcIndzc1wiIDogXCJ3c1wiO1xuICAgICAgdmFyIHBvcnQgPSBcIlwiOyAvLyBhdm9pZCBwb3J0IGlmIGRlZmF1bHQgZm9yIHNjaGVtYVxuXG4gICAgICBpZiAodGhpcy5vcHRzLnBvcnQgJiYgKFwid3NzXCIgPT09IHNjaGVtYSAmJiBOdW1iZXIodGhpcy5vcHRzLnBvcnQpICE9PSA0NDMgfHwgXCJ3c1wiID09PSBzY2hlbWEgJiYgTnVtYmVyKHRoaXMub3B0cy5wb3J0KSAhPT0gODApKSB7XG4gICAgICAgIHBvcnQgPSBcIjpcIiArIHRoaXMub3B0cy5wb3J0O1xuICAgICAgfSAvLyBhcHBlbmQgdGltZXN0YW1wIHRvIFVSSVxuXG5cbiAgICAgIGlmICh0aGlzLm9wdHMudGltZXN0YW1wUmVxdWVzdHMpIHtcbiAgICAgICAgcXVlcnlbdGhpcy5vcHRzLnRpbWVzdGFtcFBhcmFtXSA9IHllYXN0KCk7XG4gICAgICB9IC8vIGNvbW11bmljYXRlIGJpbmFyeSBzdXBwb3J0IGNhcGFiaWxpdGllc1xuXG5cbiAgICAgIGlmICghdGhpcy5zdXBwb3J0c0JpbmFyeSkge1xuICAgICAgICBxdWVyeS5iNjQgPSAxO1xuICAgICAgfVxuXG4gICAgICBxdWVyeSA9IHBhcnNlcXMuZW5jb2RlKHF1ZXJ5KTsgLy8gcHJlcGVuZCA/IHRvIHF1ZXJ5XG5cbiAgICAgIGlmIChxdWVyeS5sZW5ndGgpIHtcbiAgICAgICAgcXVlcnkgPSBcIj9cIiArIHF1ZXJ5O1xuICAgICAgfVxuXG4gICAgICB2YXIgaXB2NiA9IHRoaXMub3B0cy5ob3N0bmFtZS5pbmRleE9mKFwiOlwiKSAhPT0gLTE7XG4gICAgICByZXR1cm4gc2NoZW1hICsgXCI6Ly9cIiArIChpcHY2ID8gXCJbXCIgKyB0aGlzLm9wdHMuaG9zdG5hbWUgKyBcIl1cIiA6IHRoaXMub3B0cy5ob3N0bmFtZSkgKyBwb3J0ICsgdGhpcy5vcHRzLnBhdGggKyBxdWVyeTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmVhdHVyZSBkZXRlY3Rpb24gZm9yIFdlYlNvY2tldC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHdoZXRoZXIgdGhpcyB0cmFuc3BvcnQgaXMgYXZhaWxhYmxlLlxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjaGVja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVjaygpIHtcbiAgICAgIHJldHVybiAhIVdlYlNvY2tldCAmJiAhKFwiX19pbml0aWFsaXplXCIgaW4gV2ViU29ja2V0ICYmIHRoaXMubmFtZSA9PT0gV1MucHJvdG90eXBlLm5hbWUpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBXUztcbn0oVHJhbnNwb3J0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBXUztcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9saWIvdXRpbC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3V0aWwuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZ2xvYmFsVGhpcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZ2xvYmFsVGhpcyAqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL2dsb2JhbFRoaXMuYnJvd3Nlci5qc1wiKTtcblxubW9kdWxlLmV4cG9ydHMucGljayA9IGZ1bmN0aW9uIChvYmopIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGF0dHIgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGF0dHJbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGF0dHIucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGspIHtcbiAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICBhY2Nba10gPSBvYmpba107XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xufTsgLy8gS2VlcCBhIHJlZmVyZW5jZSB0byB0aGUgcmVhbCB0aW1lb3V0IGZ1bmN0aW9ucyBzbyB0aGV5IGNhbiBiZSB1c2VkIHdoZW4gb3ZlcnJpZGRlblxuXG5cbnZhciBOQVRJVkVfU0VUX1RJTUVPVVQgPSBzZXRUaW1lb3V0O1xudmFyIE5BVElWRV9DTEVBUl9USU1FT1VUID0gY2xlYXJUaW1lb3V0O1xuXG5tb2R1bGUuZXhwb3J0cy5pbnN0YWxsVGltZXJGdW5jdGlvbnMgPSBmdW5jdGlvbiAob2JqLCBvcHRzKSB7XG4gIGlmIChvcHRzLnVzZU5hdGl2ZVRpbWVycykge1xuICAgIG9iai5zZXRUaW1lb3V0Rm4gPSBOQVRJVkVfU0VUX1RJTUVPVVQuYmluZChnbG9iYWxUaGlzKTtcbiAgICBvYmouY2xlYXJUaW1lb3V0Rm4gPSBOQVRJVkVfQ0xFQVJfVElNRU9VVC5iaW5kKGdsb2JhbFRoaXMpO1xuICB9IGVsc2Uge1xuICAgIG9iai5zZXRUaW1lb3V0Rm4gPSBzZXRUaW1lb3V0LmJpbmQoZ2xvYmFsVGhpcyk7XG4gICAgb2JqLmNsZWFyVGltZW91dEZuID0gY2xlYXJUaW1lb3V0LmJpbmQoZ2xvYmFsVGhpcyk7XG4gIH1cbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3htbGh0dHByZXF1ZXN0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3htbGh0dHByZXF1ZXN0LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIGJyb3dzZXIgc2hpbSBmb3IgeG1saHR0cHJlcXVlc3QgbW9kdWxlXG52YXIgaGFzQ09SUyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGhhcy1jb3JzICovIFwiLi9ub2RlX21vZHVsZXMvaGFzLWNvcnMvaW5kZXguanNcIik7XG5cbnZhciBnbG9iYWxUaGlzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9nbG9iYWxUaGlzICovIFwiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9saWIvZ2xvYmFsVGhpcy5icm93c2VyLmpzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gIHZhciB4ZG9tYWluID0gb3B0cy54ZG9tYWluOyAvLyBzY2hlbWUgbXVzdCBiZSBzYW1lIHdoZW4gdXNpZ24gWERvbWFpblJlcXVlc3RcbiAgLy8gaHR0cDovL2Jsb2dzLm1zZG4uY29tL2IvaWVpbnRlcm5hbHMvYXJjaGl2ZS8yMDEwLzA1LzEzL3hkb21haW5yZXF1ZXN0LXJlc3RyaWN0aW9ucy1saW1pdGF0aW9ucy1hbmQtd29ya2Fyb3VuZHMuYXNweFxuXG4gIHZhciB4c2NoZW1lID0gb3B0cy54c2NoZW1lOyAvLyBYRG9tYWluUmVxdWVzdCBoYXMgYSBmbG93IG9mIG5vdCBzZW5kaW5nIGNvb2tpZSwgdGhlcmVmb3JlIGl0IHNob3VsZCBiZSBkaXNhYmxlZCBhcyBhIGRlZmF1bHQuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9BdXRvbWF0dGljL2VuZ2luZS5pby1jbGllbnQvcHVsbC8yMTdcblxuICB2YXIgZW5hYmxlc1hEUiA9IG9wdHMuZW5hYmxlc1hEUjsgLy8gWE1MSHR0cFJlcXVlc3QgY2FuIGJlIGRpc2FibGVkIG9uIElFXG5cbiAgdHJ5IHtcbiAgICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICYmICgheGRvbWFpbiB8fCBoYXNDT1JTKSkge1xuICAgICAgcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge30gLy8gVXNlIFhEb21haW5SZXF1ZXN0IGZvciBJRTggaWYgZW5hYmxlc1hEUiBpcyB0cnVlXG4gIC8vIGJlY2F1c2UgbG9hZGluZyBiYXIga2VlcHMgZmxhc2hpbmcgd2hlbiB1c2luZyBqc29ucC1wb2xsaW5nXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS95dWppb3Nha2Evc29ja2UuaW8taWU4LWxvYWRpbmctZXhhbXBsZVxuXG5cbiAgdHJ5IHtcbiAgICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIFhEb21haW5SZXF1ZXN0ICYmICF4c2NoZW1lICYmIGVuYWJsZXNYRFIpIHtcbiAgICAgIHJldHVybiBuZXcgWERvbWFpblJlcXVlc3QoKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgaWYgKCF4ZG9tYWluKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBuZXcgZ2xvYmFsVGhpc1tbXCJBY3RpdmVcIl0uY29uY2F0KFwiT2JqZWN0XCIpLmpvaW4oXCJYXCIpXShcIk1pY3Jvc29mdC5YTUxIVFRQXCIpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvbGliL2NvbW1vbnMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2xpYi9jb21tb25zLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxudmFyIFBBQ0tFVF9UWVBFUyA9IE9iamVjdC5jcmVhdGUobnVsbCk7IC8vIG5vIE1hcCA9IG5vIHBvbHlmaWxsXG5cblBBQ0tFVF9UWVBFU1tcIm9wZW5cIl0gPSBcIjBcIjtcblBBQ0tFVF9UWVBFU1tcImNsb3NlXCJdID0gXCIxXCI7XG5QQUNLRVRfVFlQRVNbXCJwaW5nXCJdID0gXCIyXCI7XG5QQUNLRVRfVFlQRVNbXCJwb25nXCJdID0gXCIzXCI7XG5QQUNLRVRfVFlQRVNbXCJtZXNzYWdlXCJdID0gXCI0XCI7XG5QQUNLRVRfVFlQRVNbXCJ1cGdyYWRlXCJdID0gXCI1XCI7XG5QQUNLRVRfVFlQRVNbXCJub29wXCJdID0gXCI2XCI7XG52YXIgUEFDS0VUX1RZUEVTX1JFVkVSU0UgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuT2JqZWN0LmtleXMoUEFDS0VUX1RZUEVTKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgUEFDS0VUX1RZUEVTX1JFVkVSU0VbUEFDS0VUX1RZUEVTW2tleV1dID0ga2V5O1xufSk7XG52YXIgRVJST1JfUEFDS0VUID0ge1xuICB0eXBlOiBcImVycm9yXCIsXG4gIGRhdGE6IFwicGFyc2VyIGVycm9yXCJcbn07XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgUEFDS0VUX1RZUEVTOiBQQUNLRVRfVFlQRVMsXG4gIFBBQ0tFVF9UWVBFU19SRVZFUlNFOiBQQUNLRVRfVFlQRVNfUkVWRVJTRSxcbiAgRVJST1JfUEFDS0VUOiBFUlJPUl9QQUNLRVRcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvbGliL2RlY29kZVBhY2tldC5icm93c2VyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvbGliL2RlY29kZVBhY2tldC5icm93c2VyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29tbW9ucyAqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvbGliL2NvbW1vbnMuanNcIiksXG4gICAgUEFDS0VUX1RZUEVTX1JFVkVSU0UgPSBfcmVxdWlyZS5QQUNLRVRfVFlQRVNfUkVWRVJTRSxcbiAgICBFUlJPUl9QQUNLRVQgPSBfcmVxdWlyZS5FUlJPUl9QQUNLRVQ7XG5cbnZhciB3aXRoTmF0aXZlQXJyYXlCdWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgPT09IFwiZnVuY3Rpb25cIjtcbnZhciBiYXNlNjRkZWNvZGVyO1xuXG5pZiAod2l0aE5hdGl2ZUFycmF5QnVmZmVyKSB7XG4gIGJhc2U2NGRlY29kZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBiYXNlNjQtYXJyYXlidWZmZXIgKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL25vZGVfbW9kdWxlcy9iYXNlNjQtYXJyYXlidWZmZXIvbGliL2Jhc2U2NC1hcnJheWJ1ZmZlci5qc1wiKTtcbn1cblxudmFyIGRlY29kZVBhY2tldCA9IGZ1bmN0aW9uIGRlY29kZVBhY2tldChlbmNvZGVkUGFja2V0LCBiaW5hcnlUeXBlKSB7XG4gIGlmICh0eXBlb2YgZW5jb2RlZFBhY2tldCAhPT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcIm1lc3NhZ2VcIixcbiAgICAgIGRhdGE6IG1hcEJpbmFyeShlbmNvZGVkUGFja2V0LCBiaW5hcnlUeXBlKVxuICAgIH07XG4gIH1cblxuICB2YXIgdHlwZSA9IGVuY29kZWRQYWNrZXQuY2hhckF0KDApO1xuXG4gIGlmICh0eXBlID09PSBcImJcIikge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcIm1lc3NhZ2VcIixcbiAgICAgIGRhdGE6IGRlY29kZUJhc2U2NFBhY2tldChlbmNvZGVkUGFja2V0LnN1YnN0cmluZygxKSwgYmluYXJ5VHlwZSlcbiAgICB9O1xuICB9XG5cbiAgdmFyIHBhY2tldFR5cGUgPSBQQUNLRVRfVFlQRVNfUkVWRVJTRVt0eXBlXTtcblxuICBpZiAoIXBhY2tldFR5cGUpIHtcbiAgICByZXR1cm4gRVJST1JfUEFDS0VUO1xuICB9XG5cbiAgcmV0dXJuIGVuY29kZWRQYWNrZXQubGVuZ3RoID4gMSA/IHtcbiAgICB0eXBlOiBQQUNLRVRfVFlQRVNfUkVWRVJTRVt0eXBlXSxcbiAgICBkYXRhOiBlbmNvZGVkUGFja2V0LnN1YnN0cmluZygxKVxuICB9IDoge1xuICAgIHR5cGU6IFBBQ0tFVF9UWVBFU19SRVZFUlNFW3R5cGVdXG4gIH07XG59O1xuXG52YXIgZGVjb2RlQmFzZTY0UGFja2V0ID0gZnVuY3Rpb24gZGVjb2RlQmFzZTY0UGFja2V0KGRhdGEsIGJpbmFyeVR5cGUpIHtcbiAgaWYgKGJhc2U2NGRlY29kZXIpIHtcbiAgICB2YXIgZGVjb2RlZCA9IGJhc2U2NGRlY29kZXIuZGVjb2RlKGRhdGEpO1xuICAgIHJldHVybiBtYXBCaW5hcnkoZGVjb2RlZCwgYmluYXJ5VHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJhc2U2NDogdHJ1ZSxcbiAgICAgIGRhdGE6IGRhdGFcbiAgICB9OyAvLyBmYWxsYmFjayBmb3Igb2xkIGJyb3dzZXJzXG4gIH1cbn07XG5cbnZhciBtYXBCaW5hcnkgPSBmdW5jdGlvbiBtYXBCaW5hcnkoZGF0YSwgYmluYXJ5VHlwZSkge1xuICBzd2l0Y2ggKGJpbmFyeVR5cGUpIHtcbiAgICBjYXNlIFwiYmxvYlwiOlxuICAgICAgcmV0dXJuIGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciA/IG5ldyBCbG9iKFtkYXRhXSkgOiBkYXRhO1xuXG4gICAgY2FzZSBcImFycmF5YnVmZmVyXCI6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIC8vIGFzc3VtaW5nIHRoZSBkYXRhIGlzIGFscmVhZHkgYW4gQXJyYXlCdWZmZXJcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWNvZGVQYWNrZXQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvbGliL2VuY29kZVBhY2tldC5icm93c2VyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvbGliL2VuY29kZVBhY2tldC5icm93c2VyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBfcmVxdWlyZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29tbW9ucyAqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvbGliL2NvbW1vbnMuanNcIiksXG4gICAgUEFDS0VUX1RZUEVTID0gX3JlcXVpcmUuUEFDS0VUX1RZUEVTO1xuXG52YXIgd2l0aE5hdGl2ZUJsb2IgPSB0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiIHx8IHR5cGVvZiBCbG9iICE9PSBcInVuZGVmaW5lZFwiICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChCbG9iKSA9PT0gXCJbb2JqZWN0IEJsb2JDb25zdHJ1Y3Rvcl1cIjtcbnZhciB3aXRoTmF0aXZlQXJyYXlCdWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgPT09IFwiZnVuY3Rpb25cIjsgLy8gQXJyYXlCdWZmZXIuaXNWaWV3IG1ldGhvZCBpcyBub3QgZGVmaW5lZCBpbiBJRTEwXG5cbnZhciBpc1ZpZXcgPSBmdW5jdGlvbiBpc1ZpZXcob2JqKSB7XG4gIHJldHVybiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSBcImZ1bmN0aW9uXCIgPyBBcnJheUJ1ZmZlci5pc1ZpZXcob2JqKSA6IG9iaiAmJiBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI7XG59O1xuXG52YXIgZW5jb2RlUGFja2V0ID0gZnVuY3Rpb24gZW5jb2RlUGFja2V0KF9yZWYsIHN1cHBvcnRzQmluYXJ5LCBjYWxsYmFjaykge1xuICB2YXIgdHlwZSA9IF9yZWYudHlwZSxcbiAgICAgIGRhdGEgPSBfcmVmLmRhdGE7XG5cbiAgaWYgKHdpdGhOYXRpdmVCbG9iICYmIGRhdGEgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgaWYgKHN1cHBvcnRzQmluYXJ5KSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBlbmNvZGVCbG9iQXNCYXNlNjQoZGF0YSwgY2FsbGJhY2spO1xuICAgIH1cbiAgfSBlbHNlIGlmICh3aXRoTmF0aXZlQXJyYXlCdWZmZXIgJiYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fCBpc1ZpZXcoZGF0YSkpKSB7XG4gICAgaWYgKHN1cHBvcnRzQmluYXJ5KSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyID8gZGF0YSA6IGRhdGEuYnVmZmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVuY29kZUJsb2JBc0Jhc2U2NChuZXcgQmxvYihbZGF0YV0pLCBjYWxsYmFjayk7XG4gICAgfVxuICB9IC8vIHBsYWluIHN0cmluZ1xuXG5cbiAgcmV0dXJuIGNhbGxiYWNrKFBBQ0tFVF9UWVBFU1t0eXBlXSArIChkYXRhIHx8IFwiXCIpKTtcbn07XG5cbnZhciBlbmNvZGVCbG9iQXNCYXNlNjQgPSBmdW5jdGlvbiBlbmNvZGVCbG9iQXNCYXNlNjQoZGF0YSwgY2FsbGJhY2spIHtcbiAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXG4gIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjb250ZW50ID0gZmlsZVJlYWRlci5yZXN1bHQuc3BsaXQoXCIsXCIpWzFdO1xuICAgIGNhbGxiYWNrKFwiYlwiICsgY29udGVudCk7XG4gIH07XG5cbiAgcmV0dXJuIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChkYXRhKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZW5jb2RlUGFja2V0O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2xpYi9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2xpYi9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG52YXIgZW5jb2RlUGFja2V0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9lbmNvZGVQYWNrZXQgKi8gXCIuL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2xpYi9lbmNvZGVQYWNrZXQuYnJvd3Nlci5qc1wiKTtcblxudmFyIGRlY29kZVBhY2tldCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZGVjb2RlUGFja2V0ICovIFwiLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9saWIvZGVjb2RlUGFja2V0LmJyb3dzZXIuanNcIik7XG5cbnZhciBTRVBBUkFUT1IgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDMwKTsgLy8gc2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RlbGltaXRlciNBU0NJSV9kZWxpbWl0ZWRfdGV4dFxuXG52YXIgZW5jb2RlUGF5bG9hZCA9IGZ1bmN0aW9uIGVuY29kZVBheWxvYWQocGFja2V0cywgY2FsbGJhY2spIHtcbiAgLy8gc29tZSBwYWNrZXRzIG1heSBiZSBhZGRlZCB0byB0aGUgYXJyYXkgd2hpbGUgZW5jb2RpbmcsIHNvIHRoZSBpbml0aWFsIGxlbmd0aCBtdXN0IGJlIHNhdmVkXG4gIHZhciBsZW5ndGggPSBwYWNrZXRzLmxlbmd0aDtcbiAgdmFyIGVuY29kZWRQYWNrZXRzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gIHZhciBjb3VudCA9IDA7XG4gIHBhY2tldHMuZm9yRWFjaChmdW5jdGlvbiAocGFja2V0LCBpKSB7XG4gICAgLy8gZm9yY2UgYmFzZTY0IGVuY29kaW5nIGZvciBiaW5hcnkgcGFja2V0c1xuICAgIGVuY29kZVBhY2tldChwYWNrZXQsIGZhbHNlLCBmdW5jdGlvbiAoZW5jb2RlZFBhY2tldCkge1xuICAgICAgZW5jb2RlZFBhY2tldHNbaV0gPSBlbmNvZGVkUGFja2V0O1xuXG4gICAgICBpZiAoKytjb3VudCA9PT0gbGVuZ3RoKSB7XG4gICAgICAgIGNhbGxiYWNrKGVuY29kZWRQYWNrZXRzLmpvaW4oU0VQQVJBVE9SKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufTtcblxudmFyIGRlY29kZVBheWxvYWQgPSBmdW5jdGlvbiBkZWNvZGVQYXlsb2FkKGVuY29kZWRQYXlsb2FkLCBiaW5hcnlUeXBlKSB7XG4gIHZhciBlbmNvZGVkUGFja2V0cyA9IGVuY29kZWRQYXlsb2FkLnNwbGl0KFNFUEFSQVRPUik7XG4gIHZhciBwYWNrZXRzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbmNvZGVkUGFja2V0cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZWNvZGVkUGFja2V0ID0gZGVjb2RlUGFja2V0KGVuY29kZWRQYWNrZXRzW2ldLCBiaW5hcnlUeXBlKTtcbiAgICBwYWNrZXRzLnB1c2goZGVjb2RlZFBhY2tldCk7XG5cbiAgICBpZiAoZGVjb2RlZFBhY2tldC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYWNrZXRzO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHByb3RvY29sOiA0LFxuICBlbmNvZGVQYWNrZXQ6IGVuY29kZVBhY2tldCxcbiAgZW5jb2RlUGF5bG9hZDogZW5jb2RlUGF5bG9hZCxcbiAgZGVjb2RlUGFja2V0OiBkZWNvZGVQYWNrZXQsXG4gIGRlY29kZVBheWxvYWQ6IGRlY29kZVBheWxvYWRcbn07XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvbm9kZV9tb2R1bGVzL2Jhc2U2NC1hcnJheWJ1ZmZlci9saWIvYmFzZTY0LWFycmF5YnVmZmVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvbm9kZV9tb2R1bGVzL2Jhc2U2NC1hcnJheWJ1ZmZlci9saWIvYmFzZTY0LWFycmF5YnVmZmVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cbi8qXG4gKiBiYXNlNjQtYXJyYXlidWZmZXJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9uaWtsYXN2aC9iYXNlNjQtYXJyYXlidWZmZXJcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIgTmlrbGFzIHZvbiBIZXJ0emVuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKi9cbihmdW5jdGlvbiAoY2hhcnMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgZXhwb3J0cy5lbmNvZGUgPSBmdW5jdGlvbiAoYXJyYXlidWZmZXIpIHtcbiAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShhcnJheWJ1ZmZlciksXG4gICAgICAgIGksXG4gICAgICAgIGxlbiA9IGJ5dGVzLmxlbmd0aCxcbiAgICAgICAgYmFzZTY0ID0gXCJcIjtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gMykge1xuICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2ldID4+IDJdO1xuICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpXSAmIDMpIDw8IDQgfCBieXRlc1tpICsgMV0gPj4gNF07XG4gICAgICBiYXNlNjQgKz0gY2hhcnNbKGJ5dGVzW2kgKyAxXSAmIDE1KSA8PCAyIHwgYnl0ZXNbaSArIDJdID4+IDZdO1xuICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kgKyAyXSAmIDYzXTtcbiAgICB9XG5cbiAgICBpZiAobGVuICUgMyA9PT0gMikge1xuICAgICAgYmFzZTY0ID0gYmFzZTY0LnN1YnN0cmluZygwLCBiYXNlNjQubGVuZ3RoIC0gMSkgKyBcIj1cIjtcbiAgICB9IGVsc2UgaWYgKGxlbiAlIDMgPT09IDEpIHtcbiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgXCI9PVwiO1xuICAgIH1cblxuICAgIHJldHVybiBiYXNlNjQ7XG4gIH07XG5cbiAgZXhwb3J0cy5kZWNvZGUgPSBmdW5jdGlvbiAoYmFzZTY0KSB7XG4gICAgdmFyIGJ1ZmZlckxlbmd0aCA9IGJhc2U2NC5sZW5ndGggKiAwLjc1LFxuICAgICAgICBsZW4gPSBiYXNlNjQubGVuZ3RoLFxuICAgICAgICBpLFxuICAgICAgICBwID0gMCxcbiAgICAgICAgZW5jb2RlZDEsXG4gICAgICAgIGVuY29kZWQyLFxuICAgICAgICBlbmNvZGVkMyxcbiAgICAgICAgZW5jb2RlZDQ7XG5cbiAgICBpZiAoYmFzZTY0W2Jhc2U2NC5sZW5ndGggLSAxXSA9PT0gXCI9XCIpIHtcbiAgICAgIGJ1ZmZlckxlbmd0aC0tO1xuXG4gICAgICBpZiAoYmFzZTY0W2Jhc2U2NC5sZW5ndGggLSAyXSA9PT0gXCI9XCIpIHtcbiAgICAgICAgYnVmZmVyTGVuZ3RoLS07XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFycmF5YnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGJ1ZmZlckxlbmd0aCksXG4gICAgICAgIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgICBlbmNvZGVkMSA9IGNoYXJzLmluZGV4T2YoYmFzZTY0W2ldKTtcbiAgICAgIGVuY29kZWQyID0gY2hhcnMuaW5kZXhPZihiYXNlNjRbaSArIDFdKTtcbiAgICAgIGVuY29kZWQzID0gY2hhcnMuaW5kZXhPZihiYXNlNjRbaSArIDJdKTtcbiAgICAgIGVuY29kZWQ0ID0gY2hhcnMuaW5kZXhPZihiYXNlNjRbaSArIDNdKTtcbiAgICAgIGJ5dGVzW3ArK10gPSBlbmNvZGVkMSA8PCAyIHwgZW5jb2RlZDIgPj4gNDtcbiAgICAgIGJ5dGVzW3ArK10gPSAoZW5jb2RlZDIgJiAxNSkgPDwgNCB8IGVuY29kZWQzID4+IDI7XG4gICAgICBieXRlc1twKytdID0gKGVuY29kZWQzICYgMykgPDwgNiB8IGVuY29kZWQ0ICYgNjM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5YnVmZmVyO1xuICB9O1xufSkoXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9oYXMtY29ycy9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9oYXMtY29ycy9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICpcbiAqIExvZ2ljIGJvcnJvd2VkIGZyb20gTW9kZXJuaXpyOlxuICpcbiAqICAgLSBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9mZWF0dXJlLWRldGVjdHMvY29ycy5qc1xuICovXG50cnkge1xuICBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcgJiYgJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG59IGNhdGNoIChlcnIpIHtcbiAgLy8gaWYgWE1MSHR0cCBzdXBwb3J0IGlzIGRpc2FibGVkIGluIElFIHRoZW4gaXQgd2lsbCB0aHJvd1xuICAvLyB3aGVuIHRyeWluZyB0byBjcmVhdGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmYWxzZTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvbXMvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvbXMvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG4vKipcbiAqIEhlbHBlcnMuXG4gKi9cbnZhciBzID0gMTAwMDtcbnZhciBtID0gcyAqIDYwO1xudmFyIGggPSBtICogNjA7XG52YXIgZCA9IGggKiAyNDtcbnZhciB3ID0gZCAqIDc7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWwsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIHR5cGUgPSBfdHlwZW9mKHZhbCk7XG5cbiAgaWYgKHR5cGUgPT09ICdzdHJpbmcnICYmIHZhbC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHBhcnNlKHZhbCk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsKSkge1xuICAgIHJldHVybiBvcHRpb25zW1wibG9uZ1wiXSA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoJ3ZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgdmFsaWQgbnVtYmVyLiB2YWw9JyArIEpTT04uc3RyaW5naWZ5KHZhbCkpO1xufTtcbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIGBzdHJgIGFuZCByZXR1cm4gbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuXG4gIGlmIChzdHIubGVuZ3RoID4gMTAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG1hdGNoID0gL14oLT8oPzpcXGQrKT9cXC4/XFxkKykgKihtaWxsaXNlY29uZHM/fG1zZWNzP3xtc3xzZWNvbmRzP3xzZWNzP3xzfG1pbnV0ZXM/fG1pbnM/fG18aG91cnM/fGhycz98aHxkYXlzP3xkfHdlZWtzP3x3fHllYXJzP3x5cnM/fHkpPyQvaS5leGVjKHN0cik7XG5cbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBuID0gcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gIHZhciB0eXBlID0gKG1hdGNoWzJdIHx8ICdtcycpLnRvTG93ZXJDYXNlKCk7XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5O1xuXG4gICAgY2FzZSAnd2Vla3MnOlxuICAgIGNhc2UgJ3dlZWsnOlxuICAgIGNhc2UgJ3cnOlxuICAgICAgcmV0dXJuIG4gKiB3O1xuXG4gICAgY2FzZSAnZGF5cyc6XG4gICAgY2FzZSAnZGF5JzpcbiAgICBjYXNlICdkJzpcbiAgICAgIHJldHVybiBuICogZDtcblxuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcblxuICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgIGNhc2UgJ21pbnV0ZSc6XG4gICAgY2FzZSAnbWlucyc6XG4gICAgY2FzZSAnbWluJzpcbiAgICBjYXNlICdtJzpcbiAgICAgIHJldHVybiBuICogbTtcblxuICAgIGNhc2UgJ3NlY29uZHMnOlxuICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgY2FzZSAnc2Vjcyc6XG4gICAgY2FzZSAnc2VjJzpcbiAgICBjYXNlICdzJzpcbiAgICAgIHJldHVybiBuICogcztcblxuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgdmFyIG1zQWJzID0gTWF0aC5hYnMobXMpO1xuXG4gIGlmIChtc0FicyA+PSBkKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBkKSArICdkJztcbiAgfVxuXG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgfVxuXG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJztcbiAgfVxuXG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBzKSArICdzJztcbiAgfVxuXG4gIHJldHVybiBtcyArICdtcyc7XG59XG4vKipcbiAqIExvbmcgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcblxuICBpZiAobXNBYnMgPj0gZCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBkLCAnZGF5Jyk7XG4gIH1cblxuICBpZiAobXNBYnMgPj0gaCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBoLCAnaG91cicpO1xuICB9XG5cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgbSwgJ21pbnV0ZScpO1xuICB9XG5cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgcywgJ3NlY29uZCcpO1xuICB9XG5cbiAgcmV0dXJuIG1zICsgJyBtcyc7XG59XG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cblxuZnVuY3Rpb24gcGx1cmFsKG1zLCBtc0FicywgbiwgbmFtZSkge1xuICB2YXIgaXNQbHVyYWwgPSBtc0FicyA+PSBuICogMS41O1xuICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG4pICsgJyAnICsgbmFtZSArIChpc1BsdXJhbCA/ICdzJyA6ICcnKTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcGFyc2Vxcy9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3BhcnNlcXMvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vKipcbiAqIENvbXBpbGVzIGEgcXVlcnlzdHJpbmdcbiAqIFJldHVybnMgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5leHBvcnRzLmVuY29kZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIHN0ciA9ICcnO1xuXG4gIGZvciAodmFyIGkgaW4gb2JqKSB7XG4gICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgaWYgKHN0ci5sZW5ndGgpIHN0ciArPSAnJic7XG4gICAgICBzdHIgKz0gZW5jb2RlVVJJQ29tcG9uZW50KGkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KG9ialtpXSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0cjtcbn07XG4vKipcbiAqIFBhcnNlcyBhIHNpbXBsZSBxdWVyeXN0cmluZyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBxc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuXG5leHBvcnRzLmRlY29kZSA9IGZ1bmN0aW9uIChxcykge1xuICB2YXIgcXJ5ID0ge307XG4gIHZhciBwYWlycyA9IHFzLnNwbGl0KCcmJyk7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBwYWlycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIgcGFpciA9IHBhaXJzW2ldLnNwbGl0KCc9Jyk7XG4gICAgcXJ5W2RlY29kZVVSSUNvbXBvbmVudChwYWlyWzBdKV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gIH1cblxuICByZXR1cm4gcXJ5O1xufTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvcGFyc2V1cmkvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvcGFyc2V1cmkvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLyoqXG4gKiBQYXJzZXMgYW4gVVJJXG4gKlxuICogQGF1dGhvciBTdGV2ZW4gTGV2aXRoYW4gPHN0ZXZlbmxldml0aGFuLmNvbT4gKE1JVCBsaWNlbnNlKVxuICogQGFwaSBwcml2YXRlXG4gKi9cbnZhciByZSA9IC9eKD86KD8hW146QF0rOlteOkBcXC9dKkApKGh0dHB8aHR0cHN8d3N8d3NzKTpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KCg/OlthLWYwLTldezAsNH06KXsyLDd9W2EtZjAtOV17MCw0fXxbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvO1xudmFyIHBhcnRzID0gWydzb3VyY2UnLCAncHJvdG9jb2wnLCAnYXV0aG9yaXR5JywgJ3VzZXJJbmZvJywgJ3VzZXInLCAncGFzc3dvcmQnLCAnaG9zdCcsICdwb3J0JywgJ3JlbGF0aXZlJywgJ3BhdGgnLCAnZGlyZWN0b3J5JywgJ2ZpbGUnLCAncXVlcnknLCAnYW5jaG9yJ107XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2V1cmkoc3RyKSB7XG4gIHZhciBzcmMgPSBzdHIsXG4gICAgICBiID0gc3RyLmluZGV4T2YoJ1snKSxcbiAgICAgIGUgPSBzdHIuaW5kZXhPZignXScpO1xuXG4gIGlmIChiICE9IC0xICYmIGUgIT0gLTEpIHtcbiAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIGIpICsgc3RyLnN1YnN0cmluZyhiLCBlKS5yZXBsYWNlKC86L2csICc7JykgKyBzdHIuc3Vic3RyaW5nKGUsIHN0ci5sZW5ndGgpO1xuICB9XG5cbiAgdmFyIG0gPSByZS5leGVjKHN0ciB8fCAnJyksXG4gICAgICB1cmkgPSB7fSxcbiAgICAgIGkgPSAxNDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgdXJpW3BhcnRzW2ldXSA9IG1baV0gfHwgJyc7XG4gIH1cblxuICBpZiAoYiAhPSAtMSAmJiBlICE9IC0xKSB7XG4gICAgdXJpLnNvdXJjZSA9IHNyYztcbiAgICB1cmkuaG9zdCA9IHVyaS5ob3N0LnN1YnN0cmluZygxLCB1cmkuaG9zdC5sZW5ndGggLSAxKS5yZXBsYWNlKC87L2csICc6Jyk7XG4gICAgdXJpLmF1dGhvcml0eSA9IHVyaS5hdXRob3JpdHkucmVwbGFjZSgnWycsICcnKS5yZXBsYWNlKCddJywgJycpLnJlcGxhY2UoLzsvZywgJzonKTtcbiAgICB1cmkuaXB2NnVyaSA9IHRydWU7XG4gIH1cblxuICB1cmkucGF0aE5hbWVzID0gcGF0aE5hbWVzKHVyaSwgdXJpWydwYXRoJ10pO1xuICB1cmkucXVlcnlLZXkgPSBxdWVyeUtleSh1cmksIHVyaVsncXVlcnknXSk7XG4gIHJldHVybiB1cmk7XG59O1xuXG5mdW5jdGlvbiBwYXRoTmFtZXMob2JqLCBwYXRoKSB7XG4gIHZhciByZWd4ID0gL1xcL3syLDl9L2csXG4gICAgICBuYW1lcyA9IHBhdGgucmVwbGFjZShyZWd4LCBcIi9cIikuc3BsaXQoXCIvXCIpO1xuXG4gIGlmIChwYXRoLnN1YnN0cigwLCAxKSA9PSAnLycgfHwgcGF0aC5sZW5ndGggPT09IDApIHtcbiAgICBuYW1lcy5zcGxpY2UoMCwgMSk7XG4gIH1cblxuICBpZiAocGF0aC5zdWJzdHIocGF0aC5sZW5ndGggLSAxLCAxKSA9PSAnLycpIHtcbiAgICBuYW1lcy5zcGxpY2UobmFtZXMubGVuZ3RoIC0gMSwgMSk7XG4gIH1cblxuICByZXR1cm4gbmFtZXM7XG59XG5cbmZ1bmN0aW9uIHF1ZXJ5S2V5KHVyaSwgcXVlcnkpIHtcbiAgdmFyIGRhdGEgPSB7fTtcbiAgcXVlcnkucmVwbGFjZSgvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2csIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7XG4gICAgaWYgKCQxKSB7XG4gICAgICBkYXRhWyQxXSA9ICQyO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBkYXRhO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tcGFyc2VyL2Rpc3QvYmluYXJ5LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLXBhcnNlci9kaXN0L2JpbmFyeS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMucmVjb25zdHJ1Y3RQYWNrZXQgPSBleHBvcnRzLmRlY29uc3RydWN0UGFja2V0ID0gdm9pZCAwO1xuXG52YXIgaXNfYmluYXJ5XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2lzLWJpbmFyeSAqLyBcIi4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvZGlzdC9pcy1iaW5hcnkuanNcIik7XG4vKipcbiAqIFJlcGxhY2VzIGV2ZXJ5IEJ1ZmZlciB8IEFycmF5QnVmZmVyIHwgQmxvYiB8IEZpbGUgaW4gcGFja2V0IHdpdGggYSBudW1iZXJlZCBwbGFjZWhvbGRlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0IC0gc29ja2V0LmlvIGV2ZW50IHBhY2tldFxuICogQHJldHVybiB7T2JqZWN0fSB3aXRoIGRlY29uc3RydWN0ZWQgcGFja2V0IGFuZCBsaXN0IG9mIGJ1ZmZlcnNcbiAqIEBwdWJsaWNcbiAqL1xuXG5cbmZ1bmN0aW9uIGRlY29uc3RydWN0UGFja2V0KHBhY2tldCkge1xuICB2YXIgYnVmZmVycyA9IFtdO1xuICB2YXIgcGFja2V0RGF0YSA9IHBhY2tldC5kYXRhO1xuICB2YXIgcGFjayA9IHBhY2tldDtcbiAgcGFjay5kYXRhID0gX2RlY29uc3RydWN0UGFja2V0KHBhY2tldERhdGEsIGJ1ZmZlcnMpO1xuICBwYWNrLmF0dGFjaG1lbnRzID0gYnVmZmVycy5sZW5ndGg7IC8vIG51bWJlciBvZiBiaW5hcnkgJ2F0dGFjaG1lbnRzJ1xuXG4gIHJldHVybiB7XG4gICAgcGFja2V0OiBwYWNrLFxuICAgIGJ1ZmZlcnM6IGJ1ZmZlcnNcbiAgfTtcbn1cblxuZXhwb3J0cy5kZWNvbnN0cnVjdFBhY2tldCA9IGRlY29uc3RydWN0UGFja2V0O1xuXG5mdW5jdGlvbiBfZGVjb25zdHJ1Y3RQYWNrZXQoZGF0YSwgYnVmZmVycykge1xuICBpZiAoIWRhdGEpIHJldHVybiBkYXRhO1xuXG4gIGlmIChpc19iaW5hcnlfMS5pc0JpbmFyeShkYXRhKSkge1xuICAgIHZhciBwbGFjZWhvbGRlciA9IHtcbiAgICAgIF9wbGFjZWhvbGRlcjogdHJ1ZSxcbiAgICAgIG51bTogYnVmZmVycy5sZW5ndGhcbiAgICB9O1xuICAgIGJ1ZmZlcnMucHVzaChkYXRhKTtcbiAgICByZXR1cm4gcGxhY2Vob2xkZXI7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgIHZhciBuZXdEYXRhID0gbmV3IEFycmF5KGRhdGEubGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgbmV3RGF0YVtpXSA9IF9kZWNvbnN0cnVjdFBhY2tldChkYXRhW2ldLCBidWZmZXJzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3RGF0YTtcbiAgfSBlbHNlIGlmIChfdHlwZW9mKGRhdGEpID09PSBcIm9iamVjdFwiICYmICEoZGF0YSBpbnN0YW5jZW9mIERhdGUpKSB7XG4gICAgdmFyIF9uZXdEYXRhID0ge307XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBfbmV3RGF0YVtrZXldID0gX2RlY29uc3RydWN0UGFja2V0KGRhdGFba2V5XSwgYnVmZmVycyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIF9uZXdEYXRhO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG4vKipcbiAqIFJlY29uc3RydWN0cyBhIGJpbmFyeSBwYWNrZXQgZnJvbSBpdHMgcGxhY2Vob2xkZXIgcGFja2V0IGFuZCBidWZmZXJzXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhY2tldCAtIGV2ZW50IHBhY2tldCB3aXRoIHBsYWNlaG9sZGVyc1xuICogQHBhcmFtIHtBcnJheX0gYnVmZmVycyAtIGJpbmFyeSBidWZmZXJzIHRvIHB1dCBpbiBwbGFjZWhvbGRlciBwb3NpdGlvbnNcbiAqIEByZXR1cm4ge09iamVjdH0gcmVjb25zdHJ1Y3RlZCBwYWNrZXRcbiAqIEBwdWJsaWNcbiAqL1xuXG5cbmZ1bmN0aW9uIHJlY29uc3RydWN0UGFja2V0KHBhY2tldCwgYnVmZmVycykge1xuICBwYWNrZXQuZGF0YSA9IF9yZWNvbnN0cnVjdFBhY2tldChwYWNrZXQuZGF0YSwgYnVmZmVycyk7XG4gIHBhY2tldC5hdHRhY2htZW50cyA9IHVuZGVmaW5lZDsgLy8gbm8gbG9uZ2VyIHVzZWZ1bFxuXG4gIHJldHVybiBwYWNrZXQ7XG59XG5cbmV4cG9ydHMucmVjb25zdHJ1Y3RQYWNrZXQgPSByZWNvbnN0cnVjdFBhY2tldDtcblxuZnVuY3Rpb24gX3JlY29uc3RydWN0UGFja2V0KGRhdGEsIGJ1ZmZlcnMpIHtcbiAgaWYgKCFkYXRhKSByZXR1cm4gZGF0YTtcblxuICBpZiAoZGF0YSAmJiBkYXRhLl9wbGFjZWhvbGRlcikge1xuICAgIHJldHVybiBidWZmZXJzW2RhdGEubnVtXTsgLy8gYXBwcm9wcmlhdGUgYnVmZmVyIChzaG91bGQgYmUgbmF0dXJhbCBvcmRlciBhbnl3YXkpXG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgZGF0YVtpXSA9IF9yZWNvbnN0cnVjdFBhY2tldChkYXRhW2ldLCBidWZmZXJzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoX3R5cGVvZihkYXRhKSA9PT0gXCJvYmplY3RcIikge1xuICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGRhdGFba2V5XSA9IF9yZWNvbnN0cnVjdFBhY2tldChkYXRhW2tleV0sIGJ1ZmZlcnMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tcGFyc2VyL2Rpc3QvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvZGlzdC9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBSZWZsZWN0LmdldCkgeyBfZ2V0ID0gUmVmbGVjdC5nZXQ7IH0gZWxzZSB7IF9nZXQgPSBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IHZhciBiYXNlID0gX3N1cGVyUHJvcEJhc2UodGFyZ2V0LCBwcm9wZXJ0eSk7IGlmICghYmFzZSkgcmV0dXJuOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZSwgcHJvcGVydHkpOyBpZiAoZGVzYy5nZXQpIHsgcmV0dXJuIGRlc2MuZ2V0LmNhbGwocmVjZWl2ZXIpOyB9IHJldHVybiBkZXNjLnZhbHVlOyB9OyB9IHJldHVybiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyIHx8IHRhcmdldCk7IH1cblxuZnVuY3Rpb24gX3N1cGVyUHJvcEJhc2Uob2JqZWN0LCBwcm9wZXJ0eSkgeyB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkgeyBvYmplY3QgPSBfZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgYnJlYWs7IH0gcmV0dXJuIG9iamVjdDsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuRGVjb2RlciA9IGV4cG9ydHMuRW5jb2RlciA9IGV4cG9ydHMuUGFja2V0VHlwZSA9IGV4cG9ydHMucHJvdG9jb2wgPSB2b2lkIDA7XG5cbnZhciBFbWl0dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY29tcG9uZW50LWVtaXR0ZXIgKi8gXCIuL25vZGVfbW9kdWxlcy9jb21wb25lbnQtZW1pdHRlci9pbmRleC5qc1wiKTtcblxudmFyIGJpbmFyeV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9iaW5hcnkgKi8gXCIuL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tcGFyc2VyL2Rpc3QvYmluYXJ5LmpzXCIpO1xuXG52YXIgaXNfYmluYXJ5XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2lzLWJpbmFyeSAqLyBcIi4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvZGlzdC9pcy1iaW5hcnkuanNcIik7XG5cbnZhciBkZWJ1ZyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGRlYnVnICovIFwiLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanNcIikoXCJzb2NrZXQuaW8tcGFyc2VyXCIpO1xuLyoqXG4gKiBQcm90b2NvbCB2ZXJzaW9uLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuXG5cbmV4cG9ydHMucHJvdG9jb2wgPSA1O1xudmFyIFBhY2tldFR5cGU7XG5cbihmdW5jdGlvbiAoUGFja2V0VHlwZSkge1xuICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJDT05ORUNUXCJdID0gMF0gPSBcIkNPTk5FQ1RcIjtcbiAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiRElTQ09OTkVDVFwiXSA9IDFdID0gXCJESVNDT05ORUNUXCI7XG4gIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkVWRU5UXCJdID0gMl0gPSBcIkVWRU5UXCI7XG4gIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkFDS1wiXSA9IDNdID0gXCJBQ0tcIjtcbiAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiQ09OTkVDVF9FUlJPUlwiXSA9IDRdID0gXCJDT05ORUNUX0VSUk9SXCI7XG4gIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkJJTkFSWV9FVkVOVFwiXSA9IDVdID0gXCJCSU5BUllfRVZFTlRcIjtcbiAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiQklOQVJZX0FDS1wiXSA9IDZdID0gXCJCSU5BUllfQUNLXCI7XG59KShQYWNrZXRUeXBlID0gZXhwb3J0cy5QYWNrZXRUeXBlIHx8IChleHBvcnRzLlBhY2tldFR5cGUgPSB7fSkpO1xuLyoqXG4gKiBBIHNvY2tldC5pbyBFbmNvZGVyIGluc3RhbmNlXG4gKi9cblxuXG52YXIgRW5jb2RlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEVuY29kZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVuY29kZXIpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEVuY29kZXIsIFt7XG4gICAga2V5OiBcImVuY29kZVwiLFxuICAgIHZhbHVlOlxuICAgIC8qKlxuICAgICAqIEVuY29kZSBhIHBhY2tldCBhcyBhIHNpbmdsZSBzdHJpbmcgaWYgbm9uLWJpbmFyeSwgb3IgYXMgYVxuICAgICAqIGJ1ZmZlciBzZXF1ZW5jZSwgZGVwZW5kaW5nIG9uIHBhY2tldCB0eXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIHBhY2tldCBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlbmNvZGUob2JqKSB7XG4gICAgICBkZWJ1ZyhcImVuY29kaW5nIHBhY2tldCAlalwiLCBvYmopO1xuXG4gICAgICBpZiAob2JqLnR5cGUgPT09IFBhY2tldFR5cGUuRVZFTlQgfHwgb2JqLnR5cGUgPT09IFBhY2tldFR5cGUuQUNLKSB7XG4gICAgICAgIGlmIChpc19iaW5hcnlfMS5oYXNCaW5hcnkob2JqKSkge1xuICAgICAgICAgIG9iai50eXBlID0gb2JqLnR5cGUgPT09IFBhY2tldFR5cGUuRVZFTlQgPyBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVCA6IFBhY2tldFR5cGUuQklOQVJZX0FDSztcbiAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVBc0JpbmFyeShvYmopO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbdGhpcy5lbmNvZGVBc1N0cmluZyhvYmopXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5jb2RlIHBhY2tldCBhcyBzdHJpbmcuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJlbmNvZGVBc1N0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmNvZGVBc1N0cmluZyhvYmopIHtcbiAgICAgIC8vIGZpcnN0IGlzIHR5cGVcbiAgICAgIHZhciBzdHIgPSBcIlwiICsgb2JqLnR5cGU7IC8vIGF0dGFjaG1lbnRzIGlmIHdlIGhhdmUgdGhlbVxuXG4gICAgICBpZiAob2JqLnR5cGUgPT09IFBhY2tldFR5cGUuQklOQVJZX0VWRU5UIHx8IG9iai50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9BQ0spIHtcbiAgICAgICAgc3RyICs9IG9iai5hdHRhY2htZW50cyArIFwiLVwiO1xuICAgICAgfSAvLyBpZiB3ZSBoYXZlIGEgbmFtZXNwYWNlIG90aGVyIHRoYW4gYC9gXG4gICAgICAvLyB3ZSBhcHBlbmQgaXQgZm9sbG93ZWQgYnkgYSBjb21tYSBgLGBcblxuXG4gICAgICBpZiAob2JqLm5zcCAmJiBcIi9cIiAhPT0gb2JqLm5zcCkge1xuICAgICAgICBzdHIgKz0gb2JqLm5zcCArIFwiLFwiO1xuICAgICAgfSAvLyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSB0aGUgaWRcblxuXG4gICAgICBpZiAobnVsbCAhPSBvYmouaWQpIHtcbiAgICAgICAgc3RyICs9IG9iai5pZDtcbiAgICAgIH0gLy8ganNvbiBkYXRhXG5cblxuICAgICAgaWYgKG51bGwgIT0gb2JqLmRhdGEpIHtcbiAgICAgICAgc3RyICs9IEpTT04uc3RyaW5naWZ5KG9iai5kYXRhKTtcbiAgICAgIH1cblxuICAgICAgZGVidWcoXCJlbmNvZGVkICVqIGFzICVzXCIsIG9iaiwgc3RyKTtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuY29kZSBwYWNrZXQgYXMgJ2J1ZmZlciBzZXF1ZW5jZScgYnkgcmVtb3ZpbmcgYmxvYnMsIGFuZFxuICAgICAqIGRlY29uc3RydWN0aW5nIHBhY2tldCBpbnRvIG9iamVjdCB3aXRoIHBsYWNlaG9sZGVycyBhbmRcbiAgICAgKiBhIGxpc3Qgb2YgYnVmZmVycy5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImVuY29kZUFzQmluYXJ5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVuY29kZUFzQmluYXJ5KG9iaikge1xuICAgICAgdmFyIGRlY29uc3RydWN0aW9uID0gYmluYXJ5XzEuZGVjb25zdHJ1Y3RQYWNrZXQob2JqKTtcbiAgICAgIHZhciBwYWNrID0gdGhpcy5lbmNvZGVBc1N0cmluZyhkZWNvbnN0cnVjdGlvbi5wYWNrZXQpO1xuICAgICAgdmFyIGJ1ZmZlcnMgPSBkZWNvbnN0cnVjdGlvbi5idWZmZXJzO1xuICAgICAgYnVmZmVycy51bnNoaWZ0KHBhY2spOyAvLyBhZGQgcGFja2V0IGluZm8gdG8gYmVnaW5uaW5nIG9mIGRhdGEgbGlzdFxuXG4gICAgICByZXR1cm4gYnVmZmVyczsgLy8gd3JpdGUgYWxsIHRoZSBidWZmZXJzXG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEVuY29kZXI7XG59KCk7XG5cbmV4cG9ydHMuRW5jb2RlciA9IEVuY29kZXI7XG4vKipcbiAqIEEgc29ja2V0LmlvIERlY29kZXIgaW5zdGFuY2VcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IGRlY29kZXJcbiAqL1xuXG52YXIgRGVjb2RlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0VtaXR0ZXIpIHtcbiAgX2luaGVyaXRzKERlY29kZXIsIF9FbWl0dGVyKTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKERlY29kZXIpO1xuXG4gIGZ1bmN0aW9uIERlY29kZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERlY29kZXIpO1xuXG4gICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBEZWNvZGVzIGFuIGVuY29kZWQgcGFja2V0IHN0cmluZyBpbnRvIHBhY2tldCBKU09OLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gb2JqIC0gZW5jb2RlZCBwYWNrZXRcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoRGVjb2RlciwgW3tcbiAgICBrZXk6IFwiYWRkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChvYmopIHtcbiAgICAgIHZhciBwYWNrZXQ7XG5cbiAgICAgIGlmICh0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHBhY2tldCA9IHRoaXMuZGVjb2RlU3RyaW5nKG9iaik7XG5cbiAgICAgICAgaWYgKHBhY2tldC50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVCB8fCBwYWNrZXQudHlwZSA9PT0gUGFja2V0VHlwZS5CSU5BUllfQUNLKSB7XG4gICAgICAgICAgLy8gYmluYXJ5IHBhY2tldCdzIGpzb25cbiAgICAgICAgICB0aGlzLnJlY29uc3RydWN0b3IgPSBuZXcgQmluYXJ5UmVjb25zdHJ1Y3RvcihwYWNrZXQpOyAvLyBubyBhdHRhY2htZW50cywgbGFiZWxlZCBiaW5hcnkgYnV0IG5vIGJpbmFyeSBkYXRhIHRvIGZvbGxvd1xuXG4gICAgICAgICAgaWYgKHBhY2tldC5hdHRhY2htZW50cyA9PT0gMCkge1xuICAgICAgICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoRGVjb2Rlci5wcm90b3R5cGUpLCBcImVtaXRcIiwgdGhpcykuY2FsbCh0aGlzLCBcImRlY29kZWRcIiwgcGFja2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbm9uLWJpbmFyeSBmdWxsIHBhY2tldFxuICAgICAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKERlY29kZXIucHJvdG90eXBlKSwgXCJlbWl0XCIsIHRoaXMpLmNhbGwodGhpcywgXCJkZWNvZGVkXCIsIHBhY2tldCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNfYmluYXJ5XzEuaXNCaW5hcnkob2JqKSB8fCBvYmouYmFzZTY0KSB7XG4gICAgICAgIC8vIHJhdyBiaW5hcnkgZGF0YVxuICAgICAgICBpZiAoIXRoaXMucmVjb25zdHJ1Y3Rvcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImdvdCBiaW5hcnkgZGF0YSB3aGVuIG5vdCByZWNvbnN0cnVjdGluZyBhIHBhY2tldFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYWNrZXQgPSB0aGlzLnJlY29uc3RydWN0b3IudGFrZUJpbmFyeURhdGEob2JqKTtcblxuICAgICAgICAgIGlmIChwYWNrZXQpIHtcbiAgICAgICAgICAgIC8vIHJlY2VpdmVkIGZpbmFsIGJ1ZmZlclxuICAgICAgICAgICAgdGhpcy5yZWNvbnN0cnVjdG9yID0gbnVsbDtcblxuICAgICAgICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoRGVjb2Rlci5wcm90b3R5cGUpLCBcImVtaXRcIiwgdGhpcykuY2FsbCh0aGlzLCBcImRlY29kZWRcIiwgcGFja2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gdHlwZTogXCIgKyBvYmopO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWNvZGUgYSBwYWNrZXQgU3RyaW5nIChKU09OIGRhdGEpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBwYWNrZXRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlY29kZVN0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWNvZGVTdHJpbmcoc3RyKSB7XG4gICAgICB2YXIgaSA9IDA7IC8vIGxvb2sgdXAgdHlwZVxuXG4gICAgICB2YXIgcCA9IHtcbiAgICAgICAgdHlwZTogTnVtYmVyKHN0ci5jaGFyQXQoMCkpXG4gICAgICB9O1xuXG4gICAgICBpZiAoUGFja2V0VHlwZVtwLnR5cGVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBwYWNrZXQgdHlwZSBcIiArIHAudHlwZSk7XG4gICAgICB9IC8vIGxvb2sgdXAgYXR0YWNobWVudHMgaWYgdHlwZSBiaW5hcnlcblxuXG4gICAgICBpZiAocC50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVCB8fCBwLnR5cGUgPT09IFBhY2tldFR5cGUuQklOQVJZX0FDSykge1xuICAgICAgICB2YXIgc3RhcnQgPSBpICsgMTtcblxuICAgICAgICB3aGlsZSAoc3RyLmNoYXJBdCgrK2kpICE9PSBcIi1cIiAmJiBpICE9IHN0ci5sZW5ndGgpIHt9XG5cbiAgICAgICAgdmFyIGJ1ZiA9IHN0ci5zdWJzdHJpbmcoc3RhcnQsIGkpO1xuXG4gICAgICAgIGlmIChidWYgIT0gTnVtYmVyKGJ1ZikgfHwgc3RyLmNoYXJBdChpKSAhPT0gXCItXCIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIGF0dGFjaG1lbnRzXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcC5hdHRhY2htZW50cyA9IE51bWJlcihidWYpO1xuICAgICAgfSAvLyBsb29rIHVwIG5hbWVzcGFjZSAoaWYgYW55KVxuXG5cbiAgICAgIGlmIChcIi9cIiA9PT0gc3RyLmNoYXJBdChpICsgMSkpIHtcbiAgICAgICAgdmFyIF9zdGFydCA9IGkgKyAxO1xuXG4gICAgICAgIHdoaWxlICgrK2kpIHtcbiAgICAgICAgICB2YXIgYyA9IHN0ci5jaGFyQXQoaSk7XG4gICAgICAgICAgaWYgKFwiLFwiID09PSBjKSBicmVhaztcbiAgICAgICAgICBpZiAoaSA9PT0gc3RyLmxlbmd0aCkgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBwLm5zcCA9IHN0ci5zdWJzdHJpbmcoX3N0YXJ0LCBpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHAubnNwID0gXCIvXCI7XG4gICAgICB9IC8vIGxvb2sgdXAgaWRcblxuXG4gICAgICB2YXIgbmV4dCA9IHN0ci5jaGFyQXQoaSArIDEpO1xuXG4gICAgICBpZiAoXCJcIiAhPT0gbmV4dCAmJiBOdW1iZXIobmV4dCkgPT0gbmV4dCkge1xuICAgICAgICB2YXIgX3N0YXJ0MiA9IGkgKyAxO1xuXG4gICAgICAgIHdoaWxlICgrK2kpIHtcbiAgICAgICAgICB2YXIgX2MgPSBzdHIuY2hhckF0KGkpO1xuXG4gICAgICAgICAgaWYgKG51bGwgPT0gX2MgfHwgTnVtYmVyKF9jKSAhPSBfYykge1xuICAgICAgICAgICAgLS1pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGkgPT09IHN0ci5sZW5ndGgpIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcC5pZCA9IE51bWJlcihzdHIuc3Vic3RyaW5nKF9zdGFydDIsIGkgKyAxKSk7XG4gICAgICB9IC8vIGxvb2sgdXAganNvbiBkYXRhXG5cblxuICAgICAgaWYgKHN0ci5jaGFyQXQoKytpKSkge1xuICAgICAgICB2YXIgcGF5bG9hZCA9IHRyeVBhcnNlKHN0ci5zdWJzdHIoaSkpO1xuXG4gICAgICAgIGlmIChEZWNvZGVyLmlzUGF5bG9hZFZhbGlkKHAudHlwZSwgcGF5bG9hZCkpIHtcbiAgICAgICAgICBwLmRhdGEgPSBwYXlsb2FkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgcGF5bG9hZFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBkZWJ1ZyhcImRlY29kZWQgJXMgYXMgJWpcIiwgc3RyLCBwKTtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZXN0cm95XCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICogRGVhbGxvY2F0ZXMgYSBwYXJzZXIncyByZXNvdXJjZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgaWYgKHRoaXMucmVjb25zdHJ1Y3Rvcikge1xuICAgICAgICB0aGlzLnJlY29uc3RydWN0b3IuZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpO1xuICAgICAgfVxuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcImlzUGF5bG9hZFZhbGlkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzUGF5bG9hZFZhbGlkKHR5cGUsIHBheWxvYWQpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFBhY2tldFR5cGUuQ09OTkVDVDpcbiAgICAgICAgICByZXR1cm4gX3R5cGVvZihwYXlsb2FkKSA9PT0gXCJvYmplY3RcIjtcblxuICAgICAgICBjYXNlIFBhY2tldFR5cGUuRElTQ09OTkVDVDpcbiAgICAgICAgICByZXR1cm4gcGF5bG9hZCA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGNhc2UgUGFja2V0VHlwZS5DT05ORUNUX0VSUk9SOlxuICAgICAgICAgIHJldHVybiB0eXBlb2YgcGF5bG9hZCA9PT0gXCJzdHJpbmdcIiB8fCBfdHlwZW9mKHBheWxvYWQpID09PSBcIm9iamVjdFwiO1xuXG4gICAgICAgIGNhc2UgUGFja2V0VHlwZS5FVkVOVDpcbiAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVDpcbiAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXlsb2FkKSAmJiBwYXlsb2FkLmxlbmd0aCA+IDA7XG5cbiAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkFDSzpcbiAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkJJTkFSWV9BQ0s6XG4gICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocGF5bG9hZCk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIERlY29kZXI7XG59KEVtaXR0ZXIpO1xuXG5leHBvcnRzLkRlY29kZXIgPSBEZWNvZGVyO1xuXG5mdW5jdGlvbiB0cnlQYXJzZShzdHIpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4vKipcbiAqIEEgbWFuYWdlciBvZiBhIGJpbmFyeSBldmVudCdzICdidWZmZXIgc2VxdWVuY2UnLiBTaG91bGRcbiAqIGJlIGNvbnN0cnVjdGVkIHdoZW5ldmVyIGEgcGFja2V0IG9mIHR5cGUgQklOQVJZX0VWRU5UIGlzXG4gKiBkZWNvZGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXRcbiAqIEByZXR1cm4ge0JpbmFyeVJlY29uc3RydWN0b3J9IGluaXRpYWxpemVkIHJlY29uc3RydWN0b3JcbiAqL1xuXG5cbnZhciBCaW5hcnlSZWNvbnN0cnVjdG9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQmluYXJ5UmVjb25zdHJ1Y3RvcihwYWNrZXQpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmluYXJ5UmVjb25zdHJ1Y3Rvcik7XG5cbiAgICB0aGlzLnBhY2tldCA9IHBhY2tldDtcbiAgICB0aGlzLmJ1ZmZlcnMgPSBbXTtcbiAgICB0aGlzLnJlY29uUGFjayA9IHBhY2tldDtcbiAgfVxuICAvKipcbiAgICogTWV0aG9kIHRvIGJlIGNhbGxlZCB3aGVuIGJpbmFyeSBkYXRhIHJlY2VpdmVkIGZyb20gY29ubmVjdGlvblxuICAgKiBhZnRlciBhIEJJTkFSWV9FVkVOVCBwYWNrZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7QnVmZmVyIHwgQXJyYXlCdWZmZXJ9IGJpbkRhdGEgLSB0aGUgcmF3IGJpbmFyeSBkYXRhIHJlY2VpdmVkXG4gICAqIEByZXR1cm4ge251bGwgfCBPYmplY3R9IHJldHVybnMgbnVsbCBpZiBtb3JlIGJpbmFyeSBkYXRhIGlzIGV4cGVjdGVkIG9yXG4gICAqICAgYSByZWNvbnN0cnVjdGVkIHBhY2tldCBvYmplY3QgaWYgYWxsIGJ1ZmZlcnMgaGF2ZSBiZWVuIHJlY2VpdmVkLlxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhCaW5hcnlSZWNvbnN0cnVjdG9yLCBbe1xuICAgIGtleTogXCJ0YWtlQmluYXJ5RGF0YVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0YWtlQmluYXJ5RGF0YShiaW5EYXRhKSB7XG4gICAgICB0aGlzLmJ1ZmZlcnMucHVzaChiaW5EYXRhKTtcblxuICAgICAgaWYgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IHRoaXMucmVjb25QYWNrLmF0dGFjaG1lbnRzKSB7XG4gICAgICAgIC8vIGRvbmUgd2l0aCBidWZmZXIgbGlzdFxuICAgICAgICB2YXIgcGFja2V0ID0gYmluYXJ5XzEucmVjb25zdHJ1Y3RQYWNrZXQodGhpcy5yZWNvblBhY2ssIHRoaXMuYnVmZmVycyk7XG4gICAgICAgIHRoaXMuZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpO1xuICAgICAgICByZXR1cm4gcGFja2V0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW5zIHVwIGJpbmFyeSBwYWNrZXQgcmVjb25zdHJ1Y3Rpb24gdmFyaWFibGVzLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZmluaXNoZWRSZWNvbnN0cnVjdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5pc2hlZFJlY29uc3RydWN0aW9uKCkge1xuICAgICAgdGhpcy5yZWNvblBhY2sgPSBudWxsO1xuICAgICAgdGhpcy5idWZmZXJzID0gW107XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEJpbmFyeVJlY29uc3RydWN0b3I7XG59KCk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvZGlzdC9pcy1iaW5hcnkuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tcGFyc2VyL2Rpc3QvaXMtYmluYXJ5LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5oYXNCaW5hcnkgPSBleHBvcnRzLmlzQmluYXJ5ID0gdm9pZCAwO1xudmFyIHdpdGhOYXRpdmVBcnJheUJ1ZmZlciA9IHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiO1xuXG52YXIgaXNWaWV3ID0gZnVuY3Rpb24gaXNWaWV3KG9iaikge1xuICByZXR1cm4gdHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gXCJmdW5jdGlvblwiID8gQXJyYXlCdWZmZXIuaXNWaWV3KG9iaikgOiBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI7XG59O1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIHdpdGhOYXRpdmVCbG9iID0gdHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2YgQmxvYiAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0b1N0cmluZy5jYWxsKEJsb2IpID09PSBcIltvYmplY3QgQmxvYkNvbnN0cnVjdG9yXVwiO1xudmFyIHdpdGhOYXRpdmVGaWxlID0gdHlwZW9mIEZpbGUgPT09IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2YgRmlsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0b1N0cmluZy5jYWxsKEZpbGUpID09PSBcIltvYmplY3QgRmlsZUNvbnN0cnVjdG9yXVwiO1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgb2JqIGlzIGEgQnVmZmVyLCBhbiBBcnJheUJ1ZmZlciwgYSBCbG9iIG9yIGEgRmlsZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGlzQmluYXJ5KG9iaikge1xuICByZXR1cm4gd2l0aE5hdGl2ZUFycmF5QnVmZmVyICYmIChvYmogaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fCBpc1ZpZXcob2JqKSkgfHwgd2l0aE5hdGl2ZUJsb2IgJiYgb2JqIGluc3RhbmNlb2YgQmxvYiB8fCB3aXRoTmF0aXZlRmlsZSAmJiBvYmogaW5zdGFuY2VvZiBGaWxlO1xufVxuXG5leHBvcnRzLmlzQmluYXJ5ID0gaXNCaW5hcnk7XG5cbmZ1bmN0aW9uIGhhc0JpbmFyeShvYmosIHRvSlNPTikge1xuICBpZiAoIW9iaiB8fCBfdHlwZW9mKG9iaikgIT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAoaGFzQmluYXJ5KG9ialtpXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGlzQmluYXJ5KG9iaikpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChvYmoudG9KU09OICYmIHR5cGVvZiBvYmoudG9KU09OID09PSBcImZ1bmN0aW9uXCIgJiYgYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBoYXNCaW5hcnkob2JqLnRvSlNPTigpLCB0cnVlKTtcbiAgfVxuXG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSAmJiBoYXNCaW5hcnkob2JqW2tleV0pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydHMuaGFzQmluYXJ5ID0gaGFzQmluYXJ5O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy95ZWFzdC9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy95ZWFzdC9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgYWxwaGFiZXQgPSAnMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXotXycuc3BsaXQoJycpLFxuICAgIGxlbmd0aCA9IDY0LFxuICAgIG1hcCA9IHt9LFxuICAgIHNlZWQgPSAwLFxuICAgIGkgPSAwLFxuICAgIHByZXY7XG4vKipcbiAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHNwZWNpZmllZCBudW1iZXIuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG51bSBUaGUgbnVtYmVyIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBudW1iZXIuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGVuY29kZShudW0pIHtcbiAgdmFyIGVuY29kZWQgPSAnJztcblxuICBkbyB7XG4gICAgZW5jb2RlZCA9IGFscGhhYmV0W251bSAlIGxlbmd0aF0gKyBlbmNvZGVkO1xuICAgIG51bSA9IE1hdGguZmxvb3IobnVtIC8gbGVuZ3RoKTtcbiAgfSB3aGlsZSAobnVtID4gMCk7XG5cbiAgcmV0dXJuIGVuY29kZWQ7XG59XG4vKipcbiAqIFJldHVybiB0aGUgaW50ZWdlciB2YWx1ZSBzcGVjaWZpZWQgYnkgdGhlIGdpdmVuIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBpbnRlZ2VyIHZhbHVlIHJlcHJlc2VudGVkIGJ5IHRoZSBzdHJpbmcuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuZnVuY3Rpb24gZGVjb2RlKHN0cikge1xuICB2YXIgZGVjb2RlZCA9IDA7XG5cbiAgZm9yIChpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIGRlY29kZWQgPSBkZWNvZGVkICogbGVuZ3RoICsgbWFwW3N0ci5jaGFyQXQoaSldO1xuICB9XG5cbiAgcmV0dXJuIGRlY29kZWQ7XG59XG4vKipcbiAqIFllYXN0OiBBIHRpbnkgZ3Jvd2luZyBpZCBnZW5lcmF0b3IuXG4gKlxuICogQHJldHVybnMge1N0cmluZ30gQSB1bmlxdWUgaWQuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblxuZnVuY3Rpb24geWVhc3QoKSB7XG4gIHZhciBub3cgPSBlbmNvZGUoK25ldyBEYXRlKCkpO1xuICBpZiAobm93ICE9PSBwcmV2KSByZXR1cm4gc2VlZCA9IDAsIHByZXYgPSBub3c7XG4gIHJldHVybiBub3cgKyAnLicgKyBlbmNvZGUoc2VlZCsrKTtcbn0gLy9cbi8vIE1hcCBlYWNoIGNoYXJhY3RlciB0byBpdHMgaW5kZXguXG4vL1xuXG5cbmZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgbWFwW2FscGhhYmV0W2ldXSA9IGk7XG59IC8vXG4vLyBFeHBvc2UgdGhlIGB5ZWFzdGAsIGBlbmNvZGVgIGFuZCBgZGVjb2RlYCBmdW5jdGlvbnMuXG4vL1xuXG5cbnllYXN0LmVuY29kZSA9IGVuY29kZTtcbnllYXN0LmRlY29kZSA9IGRlY29kZTtcbm1vZHVsZS5leHBvcnRzID0geWVhc3Q7XG5cbi8qKiovIH0pXG5cbi8qKioqKiovIH0pO1xufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zb2NrZXQuaW8uanMubWFwIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiZmVhdGhlcnNcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiZmVhdGhlcnNcIl0gPSBmYWN0b3J5KCk7XG59KSh0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24oKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0dmFyIF9fd2VicGFja19tb2R1bGVzX18gPSAoe1xuXG4vKioqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9AZmVhdGhlcnNqcy9ob29rcy9saWIvYmFzZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi4vLi4vbm9kZV9tb2R1bGVzL0BmZWF0aGVyc2pzL2hvb2tzL2xpYi9iYXNlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLnNldE1pZGRsZXdhcmUgPSBleHBvcnRzLmdldE1pZGRsZXdhcmUgPSBleHBvcnRzLnNldE1hbmFnZXIgPSBleHBvcnRzLmdldE1hbmFnZXIgPSBleHBvcnRzLmNvbnZlcnRPcHRpb25zID0gZXhwb3J0cy5Ib29rTWFuYWdlciA9IGV4cG9ydHMuQmFzZUhvb2tDb250ZXh0ID0gZXhwb3J0cy5IT09LUyA9IHZvaWQgMDtcblxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3V0aWxzICovIFwiLi4vLi4vbm9kZV9tb2R1bGVzL0BmZWF0aGVyc2pzL2hvb2tzL2xpYi91dGlscy5qc1wiKTtcblxuZXhwb3J0cy5IT09LUyA9IFN5bWJvbCgnQGZlYXRoZXJzanMvaG9va3MnKTtcbi8qKlxuICogVGhlIGJhc2UgaG9vayBjb250ZXh0LlxuICovXG5cbnZhciBCYXNlSG9va0NvbnRleHQgPSBmdW5jdGlvbiBCYXNlSG9va0NvbnRleHQoKSB7XG4gIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmFzZUhvb2tDb250ZXh0KTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZWxmXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogdm9pZCAwXG4gIH0pO1xuICBPYmplY3QuYXNzaWduKHRoaXMsIGRhdGEpO1xufTtcblxuZXhwb3J0cy5CYXNlSG9va0NvbnRleHQgPSBCYXNlSG9va0NvbnRleHQ7XG5cbnZhciBIb29rTWFuYWdlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEhvb2tNYW5hZ2VyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIb29rTWFuYWdlcik7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcGFyZW50XCIsIHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBudWxsXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3BhcmFtc1wiLCB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogbnVsbFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9taWRkbGV3YXJlXCIsIHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBudWxsXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX3Byb3BzXCIsIHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBudWxsXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiX2RlZmF1bHRzXCIsIHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICB9KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhIb29rTWFuYWdlciwgW3tcbiAgICBrZXk6IFwicGFyZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhcmVudChfcGFyZW50KSB7XG4gICAgICB0aGlzLl9wYXJlbnQgPSBfcGFyZW50O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm1pZGRsZXdhcmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWlkZGxld2FyZShfbWlkZGxld2FyZSkge1xuICAgICAgdGhpcy5fbWlkZGxld2FyZSA9IChfbWlkZGxld2FyZSA9PT0gbnVsbCB8fCBfbWlkZGxld2FyZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX21pZGRsZXdhcmUubGVuZ3RoKSA/IF9taWRkbGV3YXJlIDogbnVsbDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRNaWRkbGV3YXJlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1pZGRsZXdhcmUoKSB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIHZhciBwcmV2aW91cyA9IChfYSA9IHRoaXMuX3BhcmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldE1pZGRsZXdhcmUoKTtcblxuICAgICAgaWYgKHByZXZpb3VzICYmIHRoaXMuX21pZGRsZXdhcmUpIHtcbiAgICAgICAgcmV0dXJuIHByZXZpb3VzLmNvbmNhdCh0aGlzLl9taWRkbGV3YXJlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByZXZpb3VzIHx8IHRoaXMuX21pZGRsZXdhcmU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbGxlY3RNaWRkbGV3YXJlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbGxlY3RNaWRkbGV3YXJlKHNlbGYsIF9hcmdzKSB7XG4gICAgICB2YXIgb3RoZXJNaWRkbGV3YXJlID0gZ2V0TWlkZGxld2FyZShzZWxmKTtcbiAgICAgIHZhciBtaWRkbGV3YXJlID0gdGhpcy5nZXRNaWRkbGV3YXJlKCk7XG5cbiAgICAgIGlmIChvdGhlck1pZGRsZXdhcmUgJiYgbWlkZGxld2FyZSkge1xuICAgICAgICByZXR1cm4gb3RoZXJNaWRkbGV3YXJlLmNvbmNhdChtaWRkbGV3YXJlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG90aGVyTWlkZGxld2FyZSB8fCBtaWRkbGV3YXJlIHx8IFtdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9wcyhfcHJvcHMpIHtcbiAgICAgIGlmICghdGhpcy5fcHJvcHMpIHtcbiAgICAgICAgdGhpcy5fcHJvcHMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgdXRpbHNfMS5jb3B5UHJvcGVydGllcyh0aGlzLl9wcm9wcywgX3Byb3BzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQcm9wcygpIHtcbiAgICAgIHZhciBfYTtcblxuICAgICAgdmFyIHByZXZpb3VzID0gKF9hID0gdGhpcy5fcGFyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0UHJvcHMoKTtcblxuICAgICAgaWYgKHByZXZpb3VzICYmIHRoaXMuX3Byb3BzKSB7XG4gICAgICAgIHJldHVybiB1dGlsc18xLmNvcHlQcm9wZXJ0aWVzKHt9LCBwcmV2aW91cywgdGhpcy5fcHJvcHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXMgfHwgdGhpcy5fcHJvcHMgfHwgbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicGFyYW1zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhcmFtcygpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBfcGFyYW1zID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBfcGFyYW1zW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9wYXJhbXMgPSBfcGFyYW1zO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFBhcmFtc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQYXJhbXMoKSB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIHZhciBwcmV2aW91cyA9IChfYSA9IHRoaXMuX3BhcmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFBhcmFtcygpO1xuXG4gICAgICBpZiAocHJldmlvdXMgJiYgdGhpcy5fcGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBwcmV2aW91cy5jb25jYXQodGhpcy5fcGFyYW1zKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByZXZpb3VzIHx8IHRoaXMuX3BhcmFtcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVmYXVsdHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVmYXVsdHMoX2RlZmF1bHRzKSB7XG4gICAgICB0aGlzLl9kZWZhdWx0cyA9IF9kZWZhdWx0cztcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXREZWZhdWx0c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZWZhdWx0cyhzZWxmLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICB2YXIgX2E7XG5cbiAgICAgIHZhciBkZWZhdWx0cyA9IHR5cGVvZiB0aGlzLl9kZWZhdWx0cyA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuX2RlZmF1bHRzKHNlbGYsIGFyZ3MsIGNvbnRleHQpIDogbnVsbDtcbiAgICAgIHZhciBwcmV2aW91cyA9IChfYSA9IHRoaXMuX3BhcmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldERlZmF1bHRzKHNlbGYsIGFyZ3MsIGNvbnRleHQpO1xuXG4gICAgICBpZiAocHJldmlvdXMgJiYgZGVmYXVsdHMpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHByZXZpb3VzLCBkZWZhdWx0cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91cyB8fCBkZWZhdWx0cztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q29udGV4dENsYXNzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbnRleHRDbGFzcygpIHtcbiAgICAgIHZhciBCYXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBCYXNlSG9va0NvbnRleHQ7XG5cbiAgICAgIHZhciBDb250ZXh0Q2xhc3MgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNlKSB7XG4gICAgICAgIF9pbmhlcml0cyhDb250ZXh0Q2xhc3MsIF9CYXNlKTtcblxuICAgICAgICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKENvbnRleHRDbGFzcyk7XG5cbiAgICAgICAgZnVuY3Rpb24gQ29udGV4dENsYXNzKGRhdGEpIHtcbiAgICAgICAgICB2YXIgX3RoaXM7XG5cbiAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29udGV4dENsYXNzKTtcblxuICAgICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGF0YSk7XG4gICAgICAgICAgdXRpbHNfMS5jb3B5VG9TZWxmKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQ29udGV4dENsYXNzO1xuICAgICAgfShCYXNlKTtcblxuICAgICAgdmFyIHBhcmFtcyA9IHRoaXMuZ2V0UGFyYW1zKCk7XG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLmdldFByb3BzKCk7XG5cbiAgICAgIGlmIChwYXJhbXMpIHtcbiAgICAgICAgcGFyYW1zLmZvckVhY2goZnVuY3Rpb24gKG5hbWUsIGluZGV4KSB7XG4gICAgICAgICAgaWYgKChwcm9wcyA9PT0gbnVsbCB8fCBwcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvcHNbbmFtZV0pICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkhvb2tzIGNhbiBub3QgaGF2ZSBhIHByb3BlcnR5IGFuZCBwYXJhbSBuYW1lZCAnXCIuY29uY2F0KG5hbWUsIFwiJy4gVXNlIC5kZWZhdWx0cyBpbnN0ZWFkLlwiKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnRleHRDbGFzcy5wcm90b3R5cGUsIG5hbWUsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMgPT09IG51bGwgfHwgdGhpcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhpcy5hcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgIHRoaXMuYXJndW1lbnRzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgIHV0aWxzXzEuY29weVByb3BlcnRpZXMoQ29udGV4dENsYXNzLnByb3RvdHlwZSwgcHJvcHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGV4dENsYXNzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpbml0aWFsaXplQ29udGV4dFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplQ29udGV4dChzZWxmLCBhcmdzLCBjb250ZXh0KSB7XG4gICAgICB2YXIgY3R4ID0gdGhpcy5fcGFyZW50ID8gdGhpcy5fcGFyZW50LmluaXRpYWxpemVDb250ZXh0KHNlbGYsIGFyZ3MsIGNvbnRleHQpIDogY29udGV4dDtcbiAgICAgIHZhciBkZWZhdWx0cyA9IHRoaXMuZ2V0RGVmYXVsdHMoc2VsZiwgYXJncywgY3R4KTtcblxuICAgICAgaWYgKHNlbGYpIHtcbiAgICAgICAgY3R4LnNlbGYgPSBzZWxmO1xuICAgICAgfVxuXG4gICAgICBjdHguYXJndW1lbnRzID0gYXJncztcblxuICAgICAgaWYgKGRlZmF1bHRzKSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX09iamVjdCRrZXlzID0gT2JqZWN0LmtleXMoZGVmYXVsdHMpOyBfaSA8IF9PYmplY3Qka2V5cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICB2YXIgbmFtZSA9IF9PYmplY3Qka2V5c1tfaV07XG5cbiAgICAgICAgICBpZiAoY3R4W25hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGN0eFtuYW1lXSA9IGRlZmF1bHRzW25hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY3R4O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBIb29rTWFuYWdlcjtcbn0oKTtcblxuZXhwb3J0cy5Ib29rTWFuYWdlciA9IEhvb2tNYW5hZ2VyO1xuXG5mdW5jdGlvbiBjb252ZXJ0T3B0aW9ucygpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG51bGw7XG5cbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBIb29rTWFuYWdlcigpO1xuICB9XG5cbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkob3B0aW9ucykgPyBuZXcgSG9va01hbmFnZXIoKS5taWRkbGV3YXJlKG9wdGlvbnMpIDogb3B0aW9ucztcbn1cblxuZXhwb3J0cy5jb252ZXJ0T3B0aW9ucyA9IGNvbnZlcnRPcHRpb25zO1xuXG5mdW5jdGlvbiBnZXRNYW5hZ2VyKHRhcmdldCkge1xuICByZXR1cm4gdGFyZ2V0ICYmIHRhcmdldFtleHBvcnRzLkhPT0tTXSB8fCBudWxsO1xufVxuXG5leHBvcnRzLmdldE1hbmFnZXIgPSBnZXRNYW5hZ2VyO1xuXG5mdW5jdGlvbiBzZXRNYW5hZ2VyKHRhcmdldCwgbWFuYWdlcikge1xuICB2YXIgcGFyZW50ID0gZ2V0TWFuYWdlcih0YXJnZXQpO1xuICB0YXJnZXRbZXhwb3J0cy5IT09LU10gPSBtYW5hZ2VyLnBhcmVudChwYXJlbnQpO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5leHBvcnRzLnNldE1hbmFnZXIgPSBzZXRNYW5hZ2VyO1xuXG5mdW5jdGlvbiBnZXRNaWRkbGV3YXJlKHRhcmdldCkge1xuICB2YXIgbWFuYWdlciA9IGdldE1hbmFnZXIodGFyZ2V0KTtcbiAgcmV0dXJuIG1hbmFnZXIgPyBtYW5hZ2VyLmdldE1pZGRsZXdhcmUoKSA6IG51bGw7XG59XG5cbmV4cG9ydHMuZ2V0TWlkZGxld2FyZSA9IGdldE1pZGRsZXdhcmU7XG5cbmZ1bmN0aW9uIHNldE1pZGRsZXdhcmUodGFyZ2V0LCBtaWRkbGV3YXJlKSB7XG4gIHZhciBtYW5hZ2VyID0gbmV3IEhvb2tNYW5hZ2VyKCkubWlkZGxld2FyZShtaWRkbGV3YXJlKTtcbiAgcmV0dXJuIHNldE1hbmFnZXIodGFyZ2V0LCBtYW5hZ2VyKTtcbn1cblxuZXhwb3J0cy5zZXRNaWRkbGV3YXJlID0gc2V0TWlkZGxld2FyZTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vLi4vbm9kZV9tb2R1bGVzL0BmZWF0aGVyc2pzL2hvb2tzL2xpYi9jb21wb3NlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuLi8uLi9ub2RlX21vZHVsZXMvQGZlYXRoZXJzanMvaG9va3MvbGliL2NvbXBvc2UuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bXCJAQGl0ZXJhdG9yXCJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCAoe1xuICB2YWx1ZTogdHJ1ZVxufSkpO1xuZXhwb3J0cy5jb21wb3NlID0gdm9pZCAwO1xuXG5mdW5jdGlvbiBjb21wb3NlKG1pZGRsZXdhcmUpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KG1pZGRsZXdhcmUpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWlkZGxld2FyZSBzdGFjayBtdXN0IGJlIGFuIGFycmF5IScpO1xuICB9XG5cbiAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG1pZGRsZXdhcmUpLFxuICAgICAgX3N0ZXA7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgdmFyIGZuID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWlkZGxld2FyZSBtdXN0IGJlIGNvbXBvc2VkIG9mIGZ1bmN0aW9ucyEnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9pdGVyYXRvci5lKGVycik7XG4gIH0gZmluYWxseSB7XG4gICAgX2l0ZXJhdG9yLmYoKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoY29udGV4dCwgbmV4dCkge1xuICAgIC8vIGxhc3QgY2FsbGVkIG1pZGRsZXdhcmUgI1xuICAgIHZhciBpbmRleCA9IC0xO1xuICAgIHJldHVybiBkaXNwYXRjaC5jYWxsKHRoaXMsIDApO1xuXG4gICAgZnVuY3Rpb24gZGlzcGF0Y2goaSkge1xuICAgICAgaWYgKGkgPD0gaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignbmV4dCgpIGNhbGxlZCBtdWx0aXBsZSB0aW1lcycpKTtcbiAgICAgIH1cblxuICAgICAgaW5kZXggPSBpO1xuICAgICAgdmFyIGZuID0gbWlkZGxld2FyZVtpXTtcblxuICAgICAgaWYgKGkgPT09IG1pZGRsZXdhcmUubGVuZ3RoKSB7XG4gICAgICAgIGZuID0gbmV4dDtcbiAgICAgIH1cblxuICAgICAgaWYgKCFmbikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZm4uY2FsbCh0aGlzLCBjb250ZXh0LCBkaXNwYXRjaC5iaW5kKHRoaXMsIGkgKyAxKSkpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0cy5jb21wb3NlID0gY29tcG9zZTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vLi4vbm9kZV9tb2R1bGVzL0BmZWF0aGVyc2pzL2hvb2tzL2xpYi9ob29rcy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4uLy4uL25vZGVfbW9kdWxlcy9AZmVhdGhlcnNqcy9ob29rcy9saWIvaG9va3MuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLmhvb2tEZWNvcmF0b3IgPSBleHBvcnRzLm9iamVjdEhvb2tzID0gZXhwb3J0cy5mdW5jdGlvbkhvb2tzID0gZXhwb3J0cy5nZXRPcmlnaW5hbCA9IHZvaWQgMDtcblxudmFyIGNvbXBvc2VfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29tcG9zZSAqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9AZmVhdGhlcnNqcy9ob29rcy9saWIvY29tcG9zZS5qc1wiKTtcblxudmFyIGJhc2VfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYmFzZSAqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9AZmVhdGhlcnNqcy9ob29rcy9saWIvYmFzZS5qc1wiKTtcblxudmFyIHV0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3V0aWxzICovIFwiLi4vLi4vbm9kZV9tb2R1bGVzL0BmZWF0aGVyc2pzL2hvb2tzL2xpYi91dGlscy5qc1wiKTtcblxuZnVuY3Rpb24gZ2V0T3JpZ2luYWwoZm4pIHtcbiAgcmV0dXJuIHR5cGVvZiBmbi5vcmlnaW5hbCA9PT0gJ2Z1bmN0aW9uJyA/IGdldE9yaWdpbmFsKGZuLm9yaWdpbmFsKSA6IGZuO1xufVxuXG5leHBvcnRzLmdldE9yaWdpbmFsID0gZ2V0T3JpZ2luYWw7XG5cbmZ1bmN0aW9uIGZ1bmN0aW9uSG9va3MoZm4sIG1hbmFnZXJPck1pZGRsZXdhcmUpIHtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG5vdCBhcHBseSBob29rcyB0byBub24tZnVuY3Rpb24nKTtcbiAgfVxuXG4gIHZhciBtYW5hZ2VyID0gYmFzZV8xLmNvbnZlcnRPcHRpb25zKG1hbmFnZXJPck1pZGRsZXdhcmUpO1xuXG4gIHZhciB3cmFwcGVyID0gZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIENvbnRleHQgPSB3cmFwcGVyLkNvbnRleHQsXG4gICAgICAgIG9yaWdpbmFsID0gd3JhcHBlci5vcmlnaW5hbDsgLy8gSWYgd2UgZ290IHBhc3NlZCBhbiBleGlzdGluZyBIb29rQ29udGV4dCBpbnN0YW5jZSwgd2Ugd2FudCB0byByZXR1cm4gaXQgYXMgd2VsbFxuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciByZXR1cm5Db250ZXh0ID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdIGluc3RhbmNlb2YgQ29udGV4dDsgLy8gVXNlIGV4aXN0aW5nIGNvbnRleHQgb3IgZGVmYXVsdFxuXG4gICAgdmFyIGJhc2UgPSByZXR1cm5Db250ZXh0ID8gYXJncy5wb3AoKSA6IG5ldyBDb250ZXh0KCk7IC8vIEluaXRpYWxpemUgdGhlIGNvbnRleHRcblxuICAgIHZhciBjb250ZXh0ID0gbWFuYWdlci5pbml0aWFsaXplQ29udGV4dCh0aGlzLCBhcmdzLCBiYXNlKTsgLy8gQXNzZW1ibGUgdGhlIGhvb2sgY2hhaW5cblxuICAgIHZhciBob29rQ2hhaW4gPSBbLy8gUmV0dXJuIGBjdHgucmVzdWx0YCBvciB0aGUgY29udGV4dFxuICAgIGZ1bmN0aW9uIChjdHgsIG5leHQpIHtcbiAgICAgIHJldHVybiBuZXh0KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXR1cm5Db250ZXh0ID8gY3R4IDogY3R4LnJlc3VsdDtcbiAgICAgIH0pO1xuICAgIH1dOyAvLyBDcmVhdGUgdGhlIGhvb2sgY2hhaW4gYnkgY2FsbGluZyB0aGUgYGNvbGxlY3RNaWRkbGV3YXJlIGZ1bmN0aW9uXG5cbiAgICB2YXIgbXcgPSBtYW5hZ2VyLmNvbGxlY3RNaWRkbGV3YXJlKHRoaXMsIGFyZ3MpO1xuXG4gICAgaWYgKG13KSB7XG4gICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShob29rQ2hhaW4sIG13KTtcbiAgICB9IC8vIFJ1bnMgdGhlIGFjdHVhbCBvcmlnaW5hbCBtZXRob2QgaWYgYGN0eC5yZXN1bHRgIGlzIG5vdCBhbHJlYWR5IHNldFxuXG5cbiAgICBob29rQ2hhaW4ucHVzaChmdW5jdGlvbiAoY3R4LCBuZXh0KSB7XG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjb250ZXh0LCAncmVzdWx0JykpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShvcmlnaW5hbC5hcHBseShfdGhpcywgY3R4LmFyZ3VtZW50cykpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgIGN0eC5yZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbXBvc2VfMS5jb21wb3NlKGhvb2tDaGFpbikuY2FsbCh0aGlzLCBjb250ZXh0KTtcbiAgfTtcblxuICB1dGlsc18xLmNvcHlGblByb3BlcnRpZXMod3JhcHBlciwgZm4pO1xuICB1dGlsc18xLmNvcHlQcm9wZXJ0aWVzKHdyYXBwZXIsIGZuKTtcbiAgYmFzZV8xLnNldE1hbmFnZXIod3JhcHBlciwgbWFuYWdlcik7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHdyYXBwZXIsIHtcbiAgICBvcmlnaW5hbDogZ2V0T3JpZ2luYWwoZm4pLFxuICAgIENvbnRleHQ6IG1hbmFnZXIuZ2V0Q29udGV4dENsYXNzKCksXG4gICAgY3JlYXRlQ29udGV4dDogZnVuY3Rpb24gY3JlYXRlQ29udGV4dCgpIHtcbiAgICAgIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgIHJldHVybiBuZXcgd3JhcHBlci5Db250ZXh0KGRhdGEpO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydHMuZnVuY3Rpb25Ib29rcyA9IGZ1bmN0aW9uSG9va3M7XG47XG5cbmZ1bmN0aW9uIG9iamVjdEhvb2tzKF9vYmosIGhvb2tzKSB7XG4gIHZhciBvYmogPSB0eXBlb2YgX29iaiA9PT0gJ2Z1bmN0aW9uJyA/IF9vYmoucHJvdG90eXBlIDogX29iajtcblxuICBpZiAoQXJyYXkuaXNBcnJheShob29rcykpIHtcbiAgICByZXR1cm4gYmFzZV8xLnNldE1pZGRsZXdhcmUob2JqLCBob29rcyk7XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmtleXMoaG9va3MpLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBtZXRob2QpIHtcbiAgICB2YXIgZm4gPSBvYmpbbWV0aG9kXTtcblxuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbiBub3QgYXBwbHkgaG9va3MuICdcIi5jb25jYXQobWV0aG9kLCBcIicgaXMgbm90IGEgZnVuY3Rpb25cIikpO1xuICAgIH1cblxuICAgIHZhciBtYW5hZ2VyID0gYmFzZV8xLmNvbnZlcnRPcHRpb25zKGhvb2tzW21ldGhvZF0pO1xuICAgIHJlc3VsdFttZXRob2RdID0gZnVuY3Rpb25Ib29rcyhmbiwgbWFuYWdlci5wcm9wcyh7XG4gICAgICBtZXRob2Q6IG1ldGhvZFxuICAgIH0pKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCBvYmopO1xufVxuXG5leHBvcnRzLm9iamVjdEhvb2tzID0gb2JqZWN0SG9va3M7XG47XG5cbnZhciBob29rRGVjb3JhdG9yID0gZnVuY3Rpb24gaG9va0RlY29yYXRvcihtYW5hZ2VyT3JNaWRkbGV3YXJlKSB7XG4gIHZhciB3cmFwcGVyID0gZnVuY3Rpb24gd3JhcHBlcihfdGFyZ2V0LCBtZXRob2QsIGRlc2NyaXB0b3IpIHtcbiAgICB2YXIgbWFuYWdlciA9IGJhc2VfMS5jb252ZXJ0T3B0aW9ucyhtYW5hZ2VyT3JNaWRkbGV3YXJlKTtcblxuICAgIGlmICghZGVzY3JpcHRvcikge1xuICAgICAgYmFzZV8xLnNldE1hbmFnZXIoX3RhcmdldC5wcm90b3R5cGUsIG1hbmFnZXIpO1xuICAgICAgcmV0dXJuIF90YXJnZXQ7XG4gICAgfVxuXG4gICAgdmFyIGZuID0gZGVzY3JpcHRvci52YWx1ZTtcblxuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbiBub3QgYXBwbHkgaG9va3MuICdcIi5jb25jYXQobWV0aG9kLCBcIicgaXMgbm90IGEgZnVuY3Rpb25cIikpO1xuICAgIH1cblxuICAgIGRlc2NyaXB0b3IudmFsdWUgPSBmdW5jdGlvbkhvb2tzKGZuLCBtYW5hZ2VyLnByb3BzKHtcbiAgICAgIG1ldGhvZDogbWV0aG9kXG4gICAgfSkpO1xuICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICB9O1xuXG4gIHJldHVybiB3cmFwcGVyO1xufTtcblxuZXhwb3J0cy5ob29rRGVjb3JhdG9yID0gaG9va0RlY29yYXRvcjtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vLi4vbm9kZV9tb2R1bGVzL0BmZWF0aGVyc2pzL2hvb2tzL2xpYi9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4uLy4uL25vZGVfbW9kdWxlcy9AZmVhdGhlcnNqcy9ob29rcy9saWIvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSB0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nIHx8IChPYmplY3QuY3JlYXRlID8gZnVuY3Rpb24gKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gbVtrXTtcbiAgICB9XG4gIH0pO1xufSA6IGZ1bmN0aW9uIChvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICBvW2syXSA9IG1ba107XG59KTtcblxudmFyIF9fZXhwb3J0U3RhciA9IHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIgfHwgZnVuY3Rpb24gKG0sIGV4cG9ydHMpIHtcbiAgZm9yICh2YXIgcCBpbiBtKSB7XG4gICAgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbiAgfVxufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCAoe1xuICB2YWx1ZTogdHJ1ZVxufSkpO1xuZXhwb3J0cy5ob29rcyA9IGV4cG9ydHMubWlkZGxld2FyZSA9IHZvaWQgMDtcblxudmFyIGJhc2VfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYmFzZSAqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9AZmVhdGhlcnNqcy9ob29rcy9saWIvYmFzZS5qc1wiKTtcblxudmFyIGhvb2tzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hvb2tzICovIFwiLi4vLi4vbm9kZV9tb2R1bGVzL0BmZWF0aGVyc2pzL2hvb2tzL2xpYi9ob29rcy5qc1wiKTtcblxuX19leHBvcnRTdGFyKF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaG9va3MgKi8gXCIuLi8uLi9ub2RlX21vZHVsZXMvQGZlYXRoZXJzanMvaG9va3MvbGliL2hvb2tzLmpzXCIpLCBleHBvcnRzKTtcblxuX19leHBvcnRTdGFyKF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29tcG9zZSAqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9AZmVhdGhlcnNqcy9ob29rcy9saWIvY29tcG9zZS5qc1wiKSwgZXhwb3J0cyk7XG5cbl9fZXhwb3J0U3RhcihfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Jhc2UgKi8gXCIuLi8uLi9ub2RlX21vZHVsZXMvQGZlYXRoZXJzanMvaG9va3MvbGliL2Jhc2UuanNcIiksIGV4cG9ydHMpO1xuLyoqXG4gKiBJbml0aWFsaXplcyBhIGhvb2sgc2V0dGluZ3Mgb2JqZWN0IHdpdGggdGhlIGdpdmVuIG1pZGRsZXdhcmUuXG4gKiBAcGFyYW0gbXcgVGhlIGxpc3Qgb2YgbWlkZGxld2FyZVxuICogQHBhcmFtIG9wdGlvbnMgTWlkZGxld2FyZSBvcHRpb25zIChwYXJhbXMsIGRlZmF1bHQsIHByb3BzKVxuICovXG5cblxuZnVuY3Rpb24gbWlkZGxld2FyZShtdywgb3B0aW9ucykge1xuICB2YXIgbWFuYWdlciA9IG5ldyBiYXNlXzEuSG9va01hbmFnZXIoKS5taWRkbGV3YXJlKG13KTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLnBhcmFtcykge1xuICAgICAgbWFuYWdlci5wYXJhbXMuYXBwbHkobWFuYWdlciwgX3RvQ29uc3VtYWJsZUFycmF5KG9wdGlvbnMucGFyYW1zKSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuZGVmYXVsdHMpIHtcbiAgICAgIG1hbmFnZXIuZGVmYXVsdHMob3B0aW9ucy5kZWZhdWx0cyk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMucHJvcHMpIHtcbiAgICAgIG1hbmFnZXIucHJvcHMob3B0aW9ucy5wcm9wcyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1hbmFnZXI7XG59XG5cbmV4cG9ydHMubWlkZGxld2FyZSA9IG1pZGRsZXdhcmU7IC8vIEZhbGx0aHJvdWdoIHRvIGFjdHVhbCBpbXBsZW1lbnRhdGlvblxuXG5mdW5jdGlvbiBob29rcygpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHZhciB0YXJnZXQgPSBhcmdzWzBdLFxuICAgICAgX2hvb2tzID0gYXJnc1sxXTtcblxuICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJyAmJiAoX2hvb2tzIGluc3RhbmNlb2YgYmFzZV8xLkhvb2tNYW5hZ2VyIHx8IEFycmF5LmlzQXJyYXkoX2hvb2tzKSB8fCBhcmdzLmxlbmd0aCA9PT0gMSkpIHtcbiAgICByZXR1cm4gaG9va3NfMS5mdW5jdGlvbkhvb2tzKHRhcmdldCwgX2hvb2tzKTtcbiAgfVxuXG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgIHJldHVybiBob29rc18xLm9iamVjdEhvb2tzKHRhcmdldCwgX2hvb2tzKTtcbiAgfVxuXG4gIHJldHVybiBob29rc18xLmhvb2tEZWNvcmF0b3IodGFyZ2V0KTtcbn1cblxuZXhwb3J0cy5ob29rcyA9IGhvb2tzO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuLi8uLi9ub2RlX21vZHVsZXMvQGZlYXRoZXJzanMvaG9va3MvbGliL3V0aWxzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi4vLi4vbm9kZV9tb2R1bGVzL0BmZWF0aGVyc2pzL2hvb2tzL2xpYi91dGlscy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bXCJAQGl0ZXJhdG9yXCJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCAoe1xuICB2YWx1ZTogdHJ1ZVxufSkpO1xuZXhwb3J0cy5jb3B5Rm5Qcm9wZXJ0aWVzID0gZXhwb3J0cy5jb3B5UHJvcGVydGllcyA9IGV4cG9ydHMuY29weVRvU2VsZiA9IHZvaWQgMDtcbnZhciBwcm90byA9IE9iamVjdC5wcm90b3R5cGU7IC8vIFRoZXNlIGFyZSBub24tc3RhbmRhcmQgYnV0IG9mZmVyIGEgbW9yZSByZWxpYWJsZSBwcm90b3R5cGUgYmFzZWRcbi8vIGxvb2t1cCBmb3IgcHJvcGVydGllc1xuXG52YXIgaGFzUHJvdG9EZWZpbml0aW9ucyA9IHR5cGVvZiBwcm90by5fX2xvb2t1cEdldHRlcl9fID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBwcm90by5fX2RlZmluZUdldHRlcl9fID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBwcm90by5fX2RlZmluZVNldHRlcl9fID09PSAnZnVuY3Rpb24nO1xuXG5mdW5jdGlvbiBjb3B5VG9TZWxmKHRhcmdldCkge1xuICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgZm9yICh2YXIga2V5IGluIHRhcmdldCkge1xuICAgIGlmICghdGFyZ2V0Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIHZhciBnZXR0ZXIgPSBoYXNQcm90b0RlZmluaXRpb25zID8gdGFyZ2V0LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5fX2xvb2t1cEdldHRlcl9fKGtleSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KTtcblxuICAgICAgaWYgKGhhc1Byb3RvRGVmaW5pdGlvbnMgJiYgZ2V0dGVyKSB7XG4gICAgICAgIHRhcmdldC5fX2RlZmluZUdldHRlcl9fKGtleSwgZ2V0dGVyKTtcblxuICAgICAgICB2YXIgc2V0dGVyID0gdGFyZ2V0LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5fX2xvb2t1cFNldHRlcl9fKGtleSk7XG5cbiAgICAgICAgaWYgKHNldHRlcikge1xuICAgICAgICAgIHRhcmdldC5fX2RlZmluZVNldHRlcl9fKGtleSwgc2V0dGVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChnZXR0ZXIpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBnZXR0ZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSB0YXJnZXRba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0cy5jb3B5VG9TZWxmID0gY29weVRvU2VsZjtcblxuZnVuY3Rpb24gY29weVByb3BlcnRpZXModGFyZ2V0KSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBvcmlnaW5hbHMgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG9yaWdpbmFsc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBmb3IgKHZhciBfaSA9IDAsIF9vcmlnaW5hbHMgPSBvcmlnaW5hbHM7IF9pIDwgX29yaWdpbmFscy5sZW5ndGg7IF9pKyspIHtcbiAgICB2YXIgb3JpZ2luYWwgPSBfb3JpZ2luYWxzW19pXTtcbiAgICB2YXIgb3JpZ2luYWxQcm9wcyA9IE9iamVjdC5rZXlzKG9yaWdpbmFsKS5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvcmlnaW5hbCkpO1xuXG4gICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG9yaWdpbmFsUHJvcHMpLFxuICAgICAgICBfc3RlcDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICB2YXIgcHJvcCA9IF9zdGVwLnZhbHVlO1xuICAgICAgICB2YXIgcHJvcERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9yaWdpbmFsLCBwcm9wKTtcblxuICAgICAgICBpZiAocHJvcERlc2NyaXB0b3IgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIHByb3ApKSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcCwgcHJvcERlc2NyaXB0b3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBfaXRlcmF0b3IuZigpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmV4cG9ydHMuY29weVByb3BlcnRpZXMgPSBjb3B5UHJvcGVydGllcztcblxuZnVuY3Rpb24gY29weUZuUHJvcGVydGllcyh0YXJnZXQsIG9yaWdpbmFsKSB7XG4gIHZhciBpbnRlcm5hbFByb3BzID0gWyduYW1lJywgJ2xlbmd0aCddO1xuXG4gIHRyeSB7XG4gICAgZm9yICh2YXIgX2kyID0gMCwgX2ludGVybmFsUHJvcHMgPSBpbnRlcm5hbFByb3BzOyBfaTIgPCBfaW50ZXJuYWxQcm9wcy5sZW5ndGg7IF9pMisrKSB7XG4gICAgICB2YXIgcHJvcCA9IF9pbnRlcm5hbFByb3BzW19pMl07XG4gICAgICB2YXIgdmFsdWUgPSBvcmlnaW5hbFtwcm9wXTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3AsIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHsvLyBBdm9pZCBJRSBlcnJvclxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZXhwb3J0cy5jb3B5Rm5Qcm9wZXJ0aWVzID0gY29weUZuUHJvcGVydGllcztcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vYXV0aGVudGljYXRpb24tY2xpZW50L2xpYi9jb3JlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuLi9hdXRoZW50aWNhdGlvbi1jbGllbnQvbGliL2NvcmUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07IGlmIChfaSA9PSBudWxsKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX3MsIF9lOyB0cnkgeyBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCAoe1xuICB2YWx1ZTogdHJ1ZVxufSkpO1xuZXhwb3J0cy5BdXRoZW50aWNhdGlvbkNsaWVudCA9IHZvaWQgMDtcblxudmFyIGVycm9yc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgQGZlYXRoZXJzanMvZXJyb3JzICovIFwiLi4vZXJyb3JzL2xpYi9pbmRleC5qc1wiKTtcblxudmFyIHN0b3JhZ2VfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3RvcmFnZSAqLyBcIi4uL2F1dGhlbnRpY2F0aW9uLWNsaWVudC9saWIvc3RvcmFnZS5qc1wiKTtcblxudmFyIE9hdXRoRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9lcnJvcnNfMSRGZWF0aGVyc0Vycikge1xuICBfaW5oZXJpdHMoT2F1dGhFcnJvciwgX2Vycm9yc18xJEZlYXRoZXJzRXJyKTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKE9hdXRoRXJyb3IpO1xuXG4gIGZ1bmN0aW9uIE9hdXRoRXJyb3IobWVzc2FnZSwgZGF0YSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPYXV0aEVycm9yKTtcblxuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlLCAnT2F1dGhFcnJvcicsIDQwMSwgJ29hdXRoLWVycm9yJywgZGF0YSk7XG4gIH1cblxuICByZXR1cm4gT2F1dGhFcnJvcjtcbn0oZXJyb3JzXzEuRmVhdGhlcnNFcnJvcik7XG5cbnZhciBnZXRNYXRjaCA9IGZ1bmN0aW9uIGdldE1hdGNoKGxvY2F0aW9uLCBrZXkpIHtcbiAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChcIig/OiY/KVwiLmNvbmNhdChrZXksIFwiPShbXiZdKilcIikpO1xuICB2YXIgbWF0Y2ggPSBsb2NhdGlvbi5oYXNoID8gbG9jYXRpb24uaGFzaC5tYXRjaChyZWdleCkgOiBudWxsO1xuXG4gIGlmIChtYXRjaCAhPT0gbnVsbCkge1xuICAgIHZhciBfbWF0Y2ggPSBfc2xpY2VkVG9BcnJheShtYXRjaCwgMiksXG4gICAgICAgIHZhbHVlID0gX21hdGNoWzFdO1xuXG4gICAgcmV0dXJuIFt2YWx1ZSwgcmVnZXhdO1xuICB9XG5cbiAgcmV0dXJuIFtudWxsLCByZWdleF07XG59O1xuXG52YXIgQXV0aGVudGljYXRpb25DbGllbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBBdXRoZW50aWNhdGlvbkNsaWVudChhcHAsIG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXV0aGVudGljYXRpb25DbGllbnQpO1xuXG4gICAgdmFyIHNvY2tldCA9IGFwcC5pbztcbiAgICB2YXIgc3RvcmFnZSA9IG5ldyBzdG9yYWdlXzEuU3RvcmFnZVdyYXBwZXIoYXBwLmdldCgnc3RvcmFnZScpIHx8IG9wdGlvbnMuc3RvcmFnZSk7XG4gICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLmF1dGhlbnRpY2F0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmFwcC5zZXQoJ3N0b3JhZ2UnLCBzdG9yYWdlKTtcblxuICAgIGlmIChzb2NrZXQpIHtcbiAgICAgIHRoaXMuaGFuZGxlU29ja2V0KHNvY2tldCk7XG4gICAgfVxuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEF1dGhlbnRpY2F0aW9uQ2xpZW50LCBbe1xuICAgIGtleTogXCJzZXJ2aWNlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5hcHAuc2VydmljZSh0aGlzLm9wdGlvbnMucGF0aCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN0b3JhZ2VcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmFwcC5nZXQoJ3N0b3JhZ2UnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGFuZGxlU29ja2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVNvY2tldChzb2NrZXQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIC8vIENvbm5lY3Rpb24gZXZlbnRzIGhhcHBlbiBvbiBldmVyeSByZWNvbm5lY3RcbiAgICAgIHZhciBjb25uZWN0ZWQgPSB0aGlzLmFwcC5pbyA/ICdjb25uZWN0JyA6ICdvcGVuJztcbiAgICAgIHZhciBkaXNjb25uZWN0ZWQgPSB0aGlzLmFwcC5pbyA/ICdkaXNjb25uZWN0JyA6ICdkaXNjb25uZWN0aW9uJztcbiAgICAgIHNvY2tldC5vbihkaXNjb25uZWN0ZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGF1dGhQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICByZXR1cm4gc29ja2V0Lm9uY2UoY29ubmVjdGVkLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pIC8vIE9ubHkgcmVjb25uZWN0IHdoZW4gYHJlQXV0aGVudGljYXRlKClgIG9yIGBhdXRoZW50aWNhdGUoKWBcbiAgICAgICAgLy8gaGFzIGJlZW4gY2FsbGVkIGV4cGxpY2l0bHkgZmlyc3RcbiAgICAgICAgLy8gRm9yY2UgcmVhdXRoZW50aWNhdGlvbiB3aXRoIHRoZSBzZXJ2ZXJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5hdXRoZW50aWNhdGVkID8gX3RoaXMucmVBdXRoZW50aWNhdGUodHJ1ZSkgOiBudWxsO1xuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5hcHAuc2V0KCdhdXRoZW50aWNhdGlvbicsIGF1dGhQcm9taXNlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRGcm9tTG9jYXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RnJvbUxvY2F0aW9uKGxvY2F0aW9uKSB7XG4gICAgICB2YXIgX2dldE1hdGNoID0gZ2V0TWF0Y2gobG9jYXRpb24sIHRoaXMub3B0aW9ucy5sb2NhdGlvbktleSksXG4gICAgICAgICAgX2dldE1hdGNoMiA9IF9zbGljZWRUb0FycmF5KF9nZXRNYXRjaCwgMiksXG4gICAgICAgICAgYWNjZXNzVG9rZW4gPSBfZ2V0TWF0Y2gyWzBdLFxuICAgICAgICAgIHRva2VuUmVnZXggPSBfZ2V0TWF0Y2gyWzFdO1xuXG4gICAgICBpZiAoYWNjZXNzVG9rZW4gIT09IG51bGwpIHtcbiAgICAgICAgbG9jYXRpb24uaGFzaCA9IGxvY2F0aW9uLmhhc2gucmVwbGFjZSh0b2tlblJlZ2V4LCAnJyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYWNjZXNzVG9rZW4pO1xuICAgICAgfVxuXG4gICAgICB2YXIgX2dldE1hdGNoMyA9IGdldE1hdGNoKGxvY2F0aW9uLCB0aGlzLm9wdGlvbnMubG9jYXRpb25FcnJvcktleSksXG4gICAgICAgICAgX2dldE1hdGNoNCA9IF9zbGljZWRUb0FycmF5KF9nZXRNYXRjaDMsIDIpLFxuICAgICAgICAgIG1lc3NhZ2UgPSBfZ2V0TWF0Y2g0WzBdLFxuICAgICAgICAgIGVycm9yUmVnZXggPSBfZ2V0TWF0Y2g0WzFdO1xuXG4gICAgICBpZiAobWVzc2FnZSAhPT0gbnVsbCkge1xuICAgICAgICBsb2NhdGlvbi5oYXNoID0gbG9jYXRpb24uaGFzaC5yZXBsYWNlKGVycm9yUmVnZXgsICcnKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBPYXV0aEVycm9yKGRlY29kZVVSSUNvbXBvbmVudChtZXNzYWdlKSkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRBY2Nlc3NUb2tlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBY2Nlc3NUb2tlbihhY2Nlc3NUb2tlbikge1xuICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5zZXRJdGVtKHRoaXMub3B0aW9ucy5zdG9yYWdlS2V5LCBhY2Nlc3NUb2tlbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldEFjY2Vzc1Rva2VuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFjY2Vzc1Rva2VuKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLm9wdGlvbnMuc3RvcmFnZUtleSkudGhlbihmdW5jdGlvbiAoYWNjZXNzVG9rZW4pIHtcbiAgICAgICAgaWYgKCFhY2Nlc3NUb2tlbiAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubG9jYXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLmdldEZyb21Mb2NhdGlvbih3aW5kb3cubG9jYXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFjY2Vzc1Rva2VuIHx8IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlQWNjZXNzVG9rZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQWNjZXNzVG9rZW4oKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5vcHRpb25zLnN0b3JhZ2VLZXkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZXNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIHRoaXMuYXBwLnNldCgnYXV0aGVudGljYXRpb24nLCBudWxsKTtcbiAgICAgIHRoaXMuYXV0aGVudGljYXRlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGFuZGxlRXJyb3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyb3IsIHR5cGUpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAoZXJyb3IuY29kZSA9PT0gNDAxIHx8IGVycm9yLmNvZGUgPT09IDQwMykge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXMucmVtb3ZlQWNjZXNzVG9rZW4oKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMzLnJlc2V0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHlwZSA9PT0gJ2xvZ291dCcgPyBwcm9taXNlIDogcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVBdXRoZW50aWNhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVBdXRoZW50aWNhdGUoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIGZvcmNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcbiAgICAgIHZhciBzdHJhdGVneSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgICAgLy8gRWl0aGVyIHJldHVybnMgdGhlIGF1dGhlbnRpY2F0aW9uIHN0YXRlIG9yXG4gICAgICAvLyB0cmllcyB0byByZS1hdXRoZW50aWNhdGUgd2l0aCB0aGUgc3RvcmVkIEpXVCBhbmQgc3RyYXRlZ3lcbiAgICAgIHZhciBhdXRoUHJvbWlzZSA9IHRoaXMuYXBwLmdldCgnYXV0aGVudGljYXRpb24nKTtcblxuICAgICAgaWYgKCFhdXRoUHJvbWlzZSB8fCBmb3JjZSA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBY2Nlc3NUb2tlbigpLnRoZW4oZnVuY3Rpb24gKGFjY2Vzc1Rva2VuKSB7XG4gICAgICAgICAgaWYgKCFhY2Nlc3NUb2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGVycm9yc18xLk5vdEF1dGhlbnRpY2F0ZWQoJ05vIGFjY2Vzc1Rva2VuIGZvdW5kIGluIHN0b3JhZ2UnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gX3RoaXM0LmF1dGhlbnRpY2F0ZSh7XG4gICAgICAgICAgICBzdHJhdGVneTogc3RyYXRlZ3kgfHwgX3RoaXM0Lm9wdGlvbnMuand0U3RyYXRlZ3ksXG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW5cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhdXRoUHJvbWlzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYXV0aGVudGljYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZShhdXRoZW50aWNhdGlvbiwgcGFyYW1zKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgaWYgKCFhdXRoZW50aWNhdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZUF1dGhlbnRpY2F0ZSgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvbWlzZSA9IHRoaXMuc2VydmljZS5jcmVhdGUoYXV0aGVudGljYXRpb24sIHBhcmFtcykudGhlbihmdW5jdGlvbiAoYXV0aFJlc3VsdCkge1xuICAgICAgICB2YXIgYWNjZXNzVG9rZW4gPSBhdXRoUmVzdWx0LmFjY2Vzc1Rva2VuO1xuICAgICAgICBfdGhpczUuYXV0aGVudGljYXRlZCA9IHRydWU7XG5cbiAgICAgICAgX3RoaXM1LmFwcC5lbWl0KCdsb2dpbicsIGF1dGhSZXN1bHQpO1xuXG4gICAgICAgIF90aGlzNS5hcHAuZW1pdCgnYXV0aGVudGljYXRlZCcsIGF1dGhSZXN1bHQpO1xuXG4gICAgICAgIHJldHVybiBfdGhpczUuc2V0QWNjZXNzVG9rZW4oYWNjZXNzVG9rZW4pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBhdXRoUmVzdWx0O1xuICAgICAgICB9KTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICByZXR1cm4gX3RoaXM1LmhhbmRsZUVycm9yKGVycm9yLCAnYXV0aGVudGljYXRlJyk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuYXBwLnNldCgnYXV0aGVudGljYXRpb24nLCBwcm9taXNlKTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsb2dvdXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9nb3V0KCkge1xuICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hcHAuZ2V0KCdhdXRoZW50aWNhdGlvbicpKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzNi5zZXJ2aWNlLnJlbW92ZShudWxsKS50aGVuKGZ1bmN0aW9uIChhdXRoUmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNi5yZW1vdmVBY2Nlc3NUb2tlbigpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5yZXNldCgpO1xuICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXM2LmFwcC5lbWl0KCdsb2dvdXQnLCBhdXRoUmVzdWx0KTtcblxuICAgICAgICAgICAgcmV0dXJuIGF1dGhSZXN1bHQ7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBfdGhpczYuaGFuZGxlRXJyb3IoZXJyb3IsICdsb2dvdXQnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBdXRoZW50aWNhdGlvbkNsaWVudDtcbn0oKTtcblxuZXhwb3J0cy5BdXRoZW50aWNhdGlvbkNsaWVudCA9IEF1dGhlbnRpY2F0aW9uQ2xpZW50O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuLi9hdXRoZW50aWNhdGlvbi1jbGllbnQvbGliL2hvb2tzL2F1dGhlbnRpY2F0aW9uLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi4vYXV0aGVudGljYXRpb24tY2xpZW50L2xpYi9ob29rcy9hdXRoZW50aWNhdGlvbi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbmV4cG9ydHMuYXV0aGVudGljYXRpb24gPSB2b2lkIDA7XG5cbnZhciBjb21tb25zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBAZmVhdGhlcnNqcy9jb21tb25zICovIFwiLi4vY29tbW9ucy9saWIvaW5kZXguanNcIik7XG5cbnZhciBhdXRoZW50aWNhdGlvbiA9IGZ1bmN0aW9uIGF1dGhlbnRpY2F0aW9uKCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGNvbnRleHQsIG5leHQpIHtcbiAgICB2YXIgYXBwID0gY29udGV4dC5hcHAsXG4gICAgICAgIHBhcmFtcyA9IGNvbnRleHQucGFyYW1zLFxuICAgICAgICBwYXRoID0gY29udGV4dC5wYXRoLFxuICAgICAgICBtZXRob2QgPSBjb250ZXh0Lm1ldGhvZCxcbiAgICAgICAgc2VydmljZSA9IGNvbnRleHQuYXBwLmF1dGhlbnRpY2F0aW9uO1xuXG4gICAgaWYgKCgwLCBjb21tb25zXzEuc3RyaXBTbGFzaGVzKShzZXJ2aWNlLm9wdGlvbnMucGF0aCkgPT09IHBhdGggJiYgbWV0aG9kID09PSAnY3JlYXRlJykge1xuICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGFwcC5nZXQoJ2F1dGhlbnRpY2F0aW9uJykpLnRoZW4oZnVuY3Rpb24gKGF1dGhSZXN1bHQpIHtcbiAgICAgIGlmIChhdXRoUmVzdWx0KSB7XG4gICAgICAgIGNvbnRleHQucGFyYW1zID0gT2JqZWN0LmFzc2lnbih7fSwgYXV0aFJlc3VsdCwgcGFyYW1zKTtcbiAgICAgIH1cbiAgICB9KS50aGVuKG5leHQpO1xuICB9O1xufTtcblxuZXhwb3J0cy5hdXRoZW50aWNhdGlvbiA9IGF1dGhlbnRpY2F0aW9uO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuLi9hdXRoZW50aWNhdGlvbi1jbGllbnQvbGliL2hvb2tzL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi4vYXV0aGVudGljYXRpb24tY2xpZW50L2xpYi9ob29rcy9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbmV4cG9ydHMucG9wdWxhdGVIZWFkZXIgPSBleHBvcnRzLmF1dGhlbnRpY2F0aW9uID0gdm9pZCAwO1xuXG52YXIgYXV0aGVudGljYXRpb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYXV0aGVudGljYXRpb24gKi8gXCIuLi9hdXRoZW50aWNhdGlvbi1jbGllbnQvbGliL2hvb2tzL2F1dGhlbnRpY2F0aW9uLmpzXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJhdXRoZW50aWNhdGlvblwiLCAoe1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gYXV0aGVudGljYXRpb25fMS5hdXRoZW50aWNhdGlvbjtcbiAgfVxufSkpO1xuXG52YXIgcG9wdWxhdGVfaGVhZGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3BvcHVsYXRlLWhlYWRlciAqLyBcIi4uL2F1dGhlbnRpY2F0aW9uLWNsaWVudC9saWIvaG9va3MvcG9wdWxhdGUtaGVhZGVyLmpzXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJwb3B1bGF0ZUhlYWRlclwiLCAoe1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gcG9wdWxhdGVfaGVhZGVyXzEucG9wdWxhdGVIZWFkZXI7XG4gIH1cbn0pKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vYXV0aGVudGljYXRpb24tY2xpZW50L2xpYi9ob29rcy9wb3B1bGF0ZS1oZWFkZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi4vYXV0aGVudGljYXRpb24tY2xpZW50L2xpYi9ob29rcy9wb3B1bGF0ZS1oZWFkZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24oX191bnVzZWRfd2VicGFja19tb2R1bGUsIGV4cG9ydHMpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCAoe1xuICB2YWx1ZTogdHJ1ZVxufSkpO1xuZXhwb3J0cy5wb3B1bGF0ZUhlYWRlciA9IHZvaWQgMDtcblxudmFyIHBvcHVsYXRlSGVhZGVyID0gZnVuY3Rpb24gcG9wdWxhdGVIZWFkZXIoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoY29udGV4dCwgbmV4dCkge1xuICAgIHZhciBhcHAgPSBjb250ZXh0LmFwcCxcbiAgICAgICAgYWNjZXNzVG9rZW4gPSBjb250ZXh0LnBhcmFtcy5hY2Nlc3NUb2tlbjtcbiAgICB2YXIgYXV0aGVudGljYXRpb24gPSBhcHAuYXV0aGVudGljYXRpb247IC8vIFNldCBSRVNUIGhlYWRlciBpZiBuZWNlc3NhcnlcblxuICAgIGlmIChhcHAucmVzdCAmJiBhY2Nlc3NUb2tlbikge1xuICAgICAgdmFyIF9hdXRoZW50aWNhdGlvbiRvcHRpbyA9IGF1dGhlbnRpY2F0aW9uLm9wdGlvbnMsXG4gICAgICAgICAgc2NoZW1lID0gX2F1dGhlbnRpY2F0aW9uJG9wdGlvLnNjaGVtZSxcbiAgICAgICAgICBoZWFkZXIgPSBfYXV0aGVudGljYXRpb24kb3B0aW8uaGVhZGVyO1xuICAgICAgdmFyIGF1dGhIZWFkZXIgPSBcIlwiLmNvbmNhdChzY2hlbWUsIFwiIFwiKS5jb25jYXQoYWNjZXNzVG9rZW4pO1xuICAgICAgY29udGV4dC5wYXJhbXMuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oe30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgaGVhZGVyLCBhdXRoSGVhZGVyKSwgY29udGV4dC5wYXJhbXMuaGVhZGVycyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5leHQoKTtcbiAgfTtcbn07XG5cbmV4cG9ydHMucG9wdWxhdGVIZWFkZXIgPSBwb3B1bGF0ZUhlYWRlcjtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vYXV0aGVudGljYXRpb24tY2xpZW50L2xpYi9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4uL2F1dGhlbnRpY2F0aW9uLWNsaWVudC9saWIvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9fY3JlYXRlQmluZGluZyA9IHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcgfHwgKE9iamVjdC5jcmVhdGUgPyBmdW5jdGlvbiAobywgbSwgaywgazIpIHtcbiAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBtW2tdO1xuICAgIH1cbiAgfSk7XG59IDogZnVuY3Rpb24gKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIG9bazJdID0gbVtrXTtcbn0pO1xuXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gdGhpcyAmJiB0aGlzLl9fc2V0TW9kdWxlRGVmYXVsdCB8fCAoT2JqZWN0LmNyZWF0ZSA/IGZ1bmN0aW9uIChvLCB2KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgdmFsdWU6IHZcbiAgfSk7XG59IDogZnVuY3Rpb24gKG8sIHYpIHtcbiAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG5cbnZhciBfX2ltcG9ydFN0YXIgPSB0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSB7XG4gICAgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICB9XG5cbiAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCAoe1xuICB2YWx1ZTogdHJ1ZVxufSkpO1xuZXhwb3J0cy5kZWZhdWx0cyA9IGV4cG9ydHMuZGVmYXVsdFN0b3JhZ2UgPSBleHBvcnRzLmhvb2tzID0gZXhwb3J0cy5NZW1vcnlTdG9yYWdlID0gZXhwb3J0cy5BdXRoZW50aWNhdGlvbkNsaWVudCA9IGV4cG9ydHMuZ2V0RGVmYXVsdFN0b3JhZ2UgPSB2b2lkIDA7XG5cbnZhciBjb3JlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvcmUgKi8gXCIuLi9hdXRoZW50aWNhdGlvbi1jbGllbnQvbGliL2NvcmUuanNcIik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkF1dGhlbnRpY2F0aW9uQ2xpZW50XCIsICh7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBjb3JlXzEuQXV0aGVudGljYXRpb25DbGllbnQ7XG4gIH1cbn0pKTtcblxudmFyIGhvb2tzID0gX19pbXBvcnRTdGFyKF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaG9va3MgKi8gXCIuLi9hdXRoZW50aWNhdGlvbi1jbGllbnQvbGliL2hvb2tzL2luZGV4LmpzXCIpKTtcblxuZXhwb3J0cy5ob29rcyA9IGhvb2tzO1xuXG52YXIgc3RvcmFnZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zdG9yYWdlICovIFwiLi4vYXV0aGVudGljYXRpb24tY2xpZW50L2xpYi9zdG9yYWdlLmpzXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJNZW1vcnlTdG9yYWdlXCIsICh7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBzdG9yYWdlXzEuTWVtb3J5U3RvcmFnZTtcbiAgfVxufSkpO1xuXG52YXIgZ2V0RGVmYXVsdFN0b3JhZ2UgPSBmdW5jdGlvbiBnZXREZWZhdWx0U3RvcmFnZSgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IHN0b3JhZ2VfMS5TdG9yYWdlV3JhcHBlcih3aW5kb3cubG9jYWxTdG9yYWdlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHt9XG5cbiAgcmV0dXJuIG5ldyBzdG9yYWdlXzEuTWVtb3J5U3RvcmFnZSgpO1xufTtcblxuZXhwb3J0cy5nZXREZWZhdWx0U3RvcmFnZSA9IGdldERlZmF1bHRTdG9yYWdlO1xuZXhwb3J0cy5kZWZhdWx0U3RvcmFnZSA9ICgwLCBleHBvcnRzLmdldERlZmF1bHRTdG9yYWdlKSgpO1xuZXhwb3J0cy5kZWZhdWx0cyA9IHtcbiAgaGVhZGVyOiAnQXV0aG9yaXphdGlvbicsXG4gIHNjaGVtZTogJ0JlYXJlcicsXG4gIHN0b3JhZ2VLZXk6ICdmZWF0aGVycy1qd3QnLFxuICBsb2NhdGlvbktleTogJ2FjY2Vzc190b2tlbicsXG4gIGxvY2F0aW9uRXJyb3JLZXk6ICdlcnJvcicsXG4gIGp3dFN0cmF0ZWd5OiAnand0JyxcbiAgcGF0aDogJy9hdXRoZW50aWNhdGlvbicsXG4gIEF1dGhlbnRpY2F0aW9uOiBjb3JlXzEuQXV0aGVudGljYXRpb25DbGllbnQsXG4gIHN0b3JhZ2U6IGV4cG9ydHMuZGVmYXVsdFN0b3JhZ2Vcbn07XG5cbnZhciBpbml0ID0gZnVuY3Rpb24gaW5pdCgpIHtcbiAgdmFyIF9vcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICB2YXIgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGV4cG9ydHMuZGVmYXVsdHMsIF9vcHRpb25zKTtcbiAgdmFyIEF1dGhlbnRpY2F0aW9uID0gb3B0aW9ucy5BdXRoZW50aWNhdGlvbjtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhcHApIHtcbiAgICB2YXIgYXV0aGVudGljYXRpb24gPSBuZXcgQXV0aGVudGljYXRpb24oYXBwLCBvcHRpb25zKTtcbiAgICBhcHAuYXV0aGVudGljYXRpb24gPSBhdXRoZW50aWNhdGlvbjtcbiAgICBhcHAuYXV0aGVudGljYXRlID0gYXV0aGVudGljYXRpb24uYXV0aGVudGljYXRlLmJpbmQoYXV0aGVudGljYXRpb24pO1xuICAgIGFwcC5yZUF1dGhlbnRpY2F0ZSA9IGF1dGhlbnRpY2F0aW9uLnJlQXV0aGVudGljYXRlLmJpbmQoYXV0aGVudGljYXRpb24pO1xuICAgIGFwcC5sb2dvdXQgPSBhdXRoZW50aWNhdGlvbi5sb2dvdXQuYmluZChhdXRoZW50aWNhdGlvbik7XG4gICAgYXBwLmhvb2tzKFtob29rcy5hdXRoZW50aWNhdGlvbigpLCBob29rcy5wb3B1bGF0ZUhlYWRlcigpXSk7XG4gIH07XG59O1xuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGluaXQ7XG5cbmlmICh0cnVlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbihpbml0LCBtb2R1bGUuZXhwb3J0cyk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4uL2F1dGhlbnRpY2F0aW9uLWNsaWVudC9saWIvc3RvcmFnZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi4vYXV0aGVudGljYXRpb24tY2xpZW50L2xpYi9zdG9yYWdlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbmV4cG9ydHMuU3RvcmFnZVdyYXBwZXIgPSBleHBvcnRzLk1lbW9yeVN0b3JhZ2UgPSB2b2lkIDA7XG5cbnZhciBNZW1vcnlTdG9yYWdlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWVtb3J5U3RvcmFnZSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWVtb3J5U3RvcmFnZSk7XG5cbiAgICB0aGlzLnN0b3JlID0ge307XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWVtb3J5U3RvcmFnZSwgW3tcbiAgICBrZXk6IFwiZ2V0SXRlbVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJdGVtKGtleSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnN0b3JlW2tleV0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRJdGVtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEl0ZW0oa2V5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnN0b3JlW2tleV0gPSB2YWx1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUl0ZW1cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlSXRlbShrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuc3RvcmVba2V5XTtcbiAgICAgIGRlbGV0ZSB0aGlzLnN0b3JlW2tleV07XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWVtb3J5U3RvcmFnZTtcbn0oKTtcblxuZXhwb3J0cy5NZW1vcnlTdG9yYWdlID0gTWVtb3J5U3RvcmFnZTtcblxudmFyIFN0b3JhZ2VXcmFwcGVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU3RvcmFnZVdyYXBwZXIoc3RvcmFnZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdG9yYWdlV3JhcHBlcik7XG5cbiAgICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFN0b3JhZ2VXcmFwcGVyLCBbe1xuICAgIGtleTogXCJnZXRJdGVtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEl0ZW0oa2V5KSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuc3RvcmFnZS5nZXRJdGVtKGtleSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRJdGVtXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEl0ZW0oa2V5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUl0ZW1cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlSXRlbShrZXkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN0b3JhZ2VXcmFwcGVyO1xufSgpO1xuXG5leHBvcnRzLlN0b3JhZ2VXcmFwcGVyID0gU3RvcmFnZVdyYXBwZXI7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4uL2NvbW1vbnMvbGliL2RlYnVnLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4uL2NvbW1vbnMvbGliL2RlYnVnLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbmV4cG9ydHMuY3JlYXRlRGVidWcgPSBleHBvcnRzLnNldERlYnVnID0gZXhwb3J0cy5ub29wRGVidWcgPSB2b2lkIDA7XG52YXIgZGVidWdnZXJzID0ge307XG5cbmZ1bmN0aW9uIG5vb3BEZWJ1ZygpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHt9O1xufVxuXG5leHBvcnRzLm5vb3BEZWJ1ZyA9IG5vb3BEZWJ1ZztcbnZhciBkZWZhdWx0SW5pdGlhbGl6ZXIgPSBub29wRGVidWc7XG5cbmZ1bmN0aW9uIHNldERlYnVnKGRlYnVnKSB7XG4gIGRlZmF1bHRJbml0aWFsaXplciA9IGRlYnVnO1xuICBPYmplY3Qua2V5cyhkZWJ1Z2dlcnMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBkZWJ1Z2dlcnNbbmFtZV0gPSBkZWJ1ZyhuYW1lKTtcbiAgfSk7XG59XG5cbmV4cG9ydHMuc2V0RGVidWcgPSBzZXREZWJ1ZztcblxuZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZSkge1xuICBpZiAoIWRlYnVnZ2Vyc1tuYW1lXSkge1xuICAgIGRlYnVnZ2Vyc1tuYW1lXSA9IGRlZmF1bHRJbml0aWFsaXplcihuYW1lKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRlYnVnZ2Vyc1tuYW1lXS5hcHBseShkZWJ1Z2dlcnMsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbmV4cG9ydHMuY3JlYXRlRGVidWcgPSBjcmVhdGVEZWJ1ZztcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vY29tbW9ucy9saWIvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi4vY29tbW9ucy9saWIvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24oX191bnVzZWRfd2VicGFja19tb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyB2YXIgX2kgPSBhcnIgPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl07IGlmIChfaSA9PSBudWxsKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX3MsIF9lOyB0cnkgeyBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSB0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nIHx8IChPYmplY3QuY3JlYXRlID8gZnVuY3Rpb24gKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gbVtrXTtcbiAgICB9XG4gIH0pO1xufSA6IGZ1bmN0aW9uIChvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICBvW2syXSA9IG1ba107XG59KTtcblxudmFyIF9fZXhwb3J0U3RhciA9IHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIgfHwgZnVuY3Rpb24gKG0sIGV4cG9ydHMpIHtcbiAgZm9yICh2YXIgcCBpbiBtKSB7XG4gICAgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0cywgcCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbiAgfVxufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCAoe1xuICB2YWx1ZTogdHJ1ZVxufSkpO1xuZXhwb3J0cy5jcmVhdGVTeW1ib2wgPSBleHBvcnRzLmlzUHJvbWlzZSA9IGV4cG9ydHMuXyA9IGV4cG9ydHMuc3RyaXBTbGFzaGVzID0gdm9pZCAwOyAvLyBSZW1vdmVzIGFsbCBsZWFkaW5nIGFuZCB0cmFpbGluZyBzbGFzaGVzIGZyb20gYSBwYXRoXG5cbmZ1bmN0aW9uIHN0cmlwU2xhc2hlcyhuYW1lKSB7XG4gIHJldHVybiBuYW1lLnJlcGxhY2UoL14oXFwvKyl8KFxcLyspJC9nLCAnJyk7XG59XG5cbmV4cG9ydHMuc3RyaXBTbGFzaGVzID0gc3RyaXBTbGFzaGVzOyAvLyBBIHNldCBvZiBsb2Rhc2gteSB1dGlsaXR5IGZ1bmN0aW9ucyB0aGF0IHVzZSBFUzZcblxuZXhwb3J0cy5fID0ge1xuICBlYWNoOiBmdW5jdGlvbiBlYWNoKG9iaiwgY2FsbGJhY2spIHtcbiAgICBpZiAob2JqICYmIHR5cGVvZiBvYmouZm9yRWFjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgb2JqLmZvckVhY2goY2FsbGJhY2spO1xuICAgIH0gZWxzZSBpZiAoZXhwb3J0cy5fLmlzT2JqZWN0KG9iaikpIHtcbiAgICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhvYmpba2V5XSwga2V5KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgc29tZTogZnVuY3Rpb24gc29tZSh2YWx1ZSwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModmFsdWUpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gW3ZhbHVlW2tleV0sIGtleV07XG4gICAgfSkuc29tZShmdW5jdGlvbiAoX3JlZikge1xuICAgICAgdmFyIF9yZWYyID0gX3NsaWNlZFRvQXJyYXkoX3JlZiwgMiksXG4gICAgICAgICAgdmFsID0gX3JlZjJbMF0sXG4gICAgICAgICAga2V5ID0gX3JlZjJbMV07XG5cbiAgICAgIHJldHVybiBjYWxsYmFjayh2YWwsIGtleSk7XG4gICAgfSk7XG4gIH0sXG4gIGV2ZXJ5OiBmdW5jdGlvbiBldmVyeSh2YWx1ZSwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModmFsdWUpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gW3ZhbHVlW2tleV0sIGtleV07XG4gICAgfSkuZXZlcnkoZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICB2YXIgX3JlZjQgPSBfc2xpY2VkVG9BcnJheShfcmVmMywgMiksXG4gICAgICAgICAgdmFsID0gX3JlZjRbMF0sXG4gICAgICAgICAga2V5ID0gX3JlZjRbMV07XG5cbiAgICAgIHJldHVybiBjYWxsYmFjayh2YWwsIGtleSk7XG4gICAgfSk7XG4gIH0sXG4gIGtleXM6IGZ1bmN0aW9uIGtleXMob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaik7XG4gIH0sXG4gIHZhbHVlczogZnVuY3Rpb24gdmFsdWVzKG9iaikge1xuICAgIHJldHVybiBleHBvcnRzLl8ua2V5cyhvYmopLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgfSk7XG4gIH0sXG4gIGlzTWF0Y2g6IGZ1bmN0aW9uIGlzTWF0Y2gob2JqLCBpdGVtKSB7XG4gICAgcmV0dXJuIGV4cG9ydHMuXy5rZXlzKGl0ZW0pLmV2ZXJ5KGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBvYmpba2V5XSA9PT0gaXRlbVtrZXldO1xuICAgIH0pO1xuICB9LFxuICBpc0VtcHR5OiBmdW5jdGlvbiBpc0VtcHR5KG9iaikge1xuICAgIHJldHVybiBleHBvcnRzLl8ua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbiAgfSxcbiAgaXNPYmplY3Q6IGZ1bmN0aW9uIGlzT2JqZWN0KGl0ZW0pIHtcbiAgICByZXR1cm4gX3R5cGVvZihpdGVtKSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoaXRlbSkgJiYgaXRlbSAhPT0gbnVsbDtcbiAgfSxcbiAgaXNPYmplY3RPckFycmF5OiBmdW5jdGlvbiBpc09iamVjdE9yQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gX3R5cGVvZih2YWx1ZSkgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsO1xuICB9LFxuICBleHRlbmQ6IGZ1bmN0aW9uIGV4dGVuZChmaXJzdCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIHJlc3RbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBPYmplY3QuYXNzaWduLmFwcGx5KE9iamVjdCwgW2ZpcnN0XS5jb25jYXQocmVzdCkpO1xuICB9LFxuICBvbWl0OiBmdW5jdGlvbiBvbWl0KG9iaikge1xuICAgIHZhciByZXN1bHQgPSBleHBvcnRzLl8uZXh0ZW5kKHt9LCBvYmopO1xuXG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBrZXlzID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGtleXNbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiBkZWxldGUgcmVzdWx0W2tleV07XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcbiAgcGljazogZnVuY3Rpb24gcGljayhzb3VyY2UpIHtcbiAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGtleXMgPSBuZXcgQXJyYXkoX2xlbjMgPiAxID8gX2xlbjMgLSAxIDogMCksIF9rZXkzID0gMTsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAga2V5c1tfa2V5MyAtIDFdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICB9XG5cbiAgICByZXR1cm4ga2V5cy5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwga2V5KSB7XG4gICAgICBpZiAoc291cmNlW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sIHt9KTtcbiAgfSxcbiAgLy8gUmVjdXJzaXZlbHkgbWVyZ2UgdGhlIHNvdXJjZSBvYmplY3QgaW50byB0aGUgdGFyZ2V0IG9iamVjdFxuICBtZXJnZTogZnVuY3Rpb24gbWVyZ2UodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICBpZiAoZXhwb3J0cy5fLmlzT2JqZWN0KHRhcmdldCkgJiYgZXhwb3J0cy5fLmlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIE9iamVjdC5rZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChleHBvcnRzLl8uaXNPYmplY3Qoc291cmNlW2tleV0pKSB7XG4gICAgICAgICAgaWYgKCF0YXJnZXRba2V5XSkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0YXJnZXQsIF9kZWZpbmVQcm9wZXJ0eSh7fSwga2V5LCB7fSkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGV4cG9ydHMuXy5tZXJnZSh0YXJnZXRba2V5XSwgc291cmNlW2tleV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBfZGVmaW5lUHJvcGVydHkoe30sIGtleSwgc291cmNlW2tleV0pKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxufTsgLy8gRHVjay1jaGVja3MgaWYgYW4gb2JqZWN0IGxvb2tzIGxpa2UgYSBwcm9taXNlXG5cbmZ1bmN0aW9uIGlzUHJvbWlzZShyZXN1bHQpIHtcbiAgcmV0dXJuIGV4cG9ydHMuXy5pc09iamVjdChyZXN1bHQpICYmIHR5cGVvZiByZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0cy5pc1Byb21pc2UgPSBpc1Byb21pc2U7XG5cbmZ1bmN0aW9uIGNyZWF0ZVN5bWJvbChuYW1lKSB7XG4gIHJldHVybiB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyA/IFN5bWJvbChuYW1lKSA6IG5hbWU7XG59XG5cbmV4cG9ydHMuY3JlYXRlU3ltYm9sID0gY3JlYXRlU3ltYm9sO1xuXG5fX2V4cG9ydFN0YXIoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kZWJ1ZyAqLyBcIi4uL2NvbW1vbnMvbGliL2RlYnVnLmpzXCIpLCBleHBvcnRzKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vZXJyb3JzL2xpYi9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4uL2Vycm9ycy9saWIvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX2V4Y2x1ZGVkID0gW1wibWVzc2FnZVwiLCBcImVycm9yc1wiXTtcblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyB2YXIgX2NhY2hlID0gdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkOyBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykgeyBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzOyBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IGlmICh0eXBlb2YgX2NhY2hlICE9PSBcInVuZGVmaW5lZFwiKSB7IGlmIChfY2FjaGUuaGFzKENsYXNzKSkgcmV0dXJuIF9jYWNoZS5nZXQoQ2xhc3MpOyBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTsgfSBmdW5jdGlvbiBXcmFwcGVyKCkgeyByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpOyB9IFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IFdyYXBwZXIsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpOyB9OyByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7IH1cblxuZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IGlmIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHsgX2NvbnN0cnVjdCA9IFJlZmxlY3QuY29uc3RydWN0OyB9IGVsc2UgeyBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7IHZhciBhID0gW251bGxdOyBhLnB1c2guYXBwbHkoYSwgYXJncyk7IHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTsgdmFyIGluc3RhbmNlID0gbmV3IENvbnN0cnVjdG9yKCk7IGlmIChDbGFzcykgX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpOyByZXR1cm4gaW5zdGFuY2U7IH07IH0gcmV0dXJuIF9jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlRnVuY3Rpb24oZm4pIHsgcmV0dXJuIEZ1bmN0aW9uLnRvU3RyaW5nLmNhbGwoZm4pLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpICE9PSAtMTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbmV4cG9ydHMuY29udmVydCA9IGV4cG9ydHMuZXJyb3JzID0gZXhwb3J0cy5VbmF2YWlsYWJsZSA9IGV4cG9ydHMuQmFkR2F0ZXdheSA9IGV4cG9ydHMuTm90SW1wbGVtZW50ZWQgPSBleHBvcnRzLkdlbmVyYWxFcnJvciA9IGV4cG9ydHMuVG9vTWFueVJlcXVlc3RzID0gZXhwb3J0cy5VbnByb2Nlc3NhYmxlID0gZXhwb3J0cy5MZW5ndGhSZXF1aXJlZCA9IGV4cG9ydHMuR29uZSA9IGV4cG9ydHMuQ29uZmxpY3QgPSBleHBvcnRzLlRpbWVvdXQgPSBleHBvcnRzLk5vdEFjY2VwdGFibGUgPSBleHBvcnRzLk1ldGhvZE5vdEFsbG93ZWQgPSBleHBvcnRzLk5vdEZvdW5kID0gZXhwb3J0cy5Gb3JiaWRkZW4gPSBleHBvcnRzLlBheW1lbnRFcnJvciA9IGV4cG9ydHMuTm90QXV0aGVudGljYXRlZCA9IGV4cG9ydHMuQmFkUmVxdWVzdCA9IGV4cG9ydHMuRmVhdGhlcnNFcnJvciA9IHZvaWQgMDtcblxudmFyIEZlYXRoZXJzRXJyb3IgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FcnJvcikge1xuICBfaW5oZXJpdHMoRmVhdGhlcnNFcnJvciwgX0Vycm9yKTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEZlYXRoZXJzRXJyb3IpO1xuXG4gIGZ1bmN0aW9uIEZlYXRoZXJzRXJyb3IoZXJyLCBuYW1lLCBjb2RlLCBjbGFzc05hbWUsIF9kYXRhKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZlYXRoZXJzRXJyb3IpO1xuXG4gICAgdmFyIG1zZyA9IHR5cGVvZiBlcnIgPT09ICdzdHJpbmcnID8gZXJyIDogJ0Vycm9yJztcbiAgICB2YXIgcHJvcGVydGllcyA9IHtcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBjb2RlOiBjb2RlLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICB0eXBlOiAnRmVhdGhlcnNFcnJvcidcbiAgICB9O1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoX2RhdGEpKSB7XG4gICAgICBwcm9wZXJ0aWVzLmRhdGEgPSBfZGF0YTtcbiAgICB9IGVsc2UgaWYgKF90eXBlb2YoZXJyKSA9PT0gJ29iamVjdCcgfHwgX2RhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIF9yZWYgPSBfdHlwZW9mKGVycikgPT09ICdvYmplY3QnID8gZXJyIDogX2RhdGEsXG4gICAgICAgICAgbWVzc2FnZSA9IF9yZWYubWVzc2FnZSxcbiAgICAgICAgICBlcnJvcnMgPSBfcmVmLmVycm9ycyxcbiAgICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIF9leGNsdWRlZCk7XG5cbiAgICAgIG1zZyA9IG1lc3NhZ2UgfHwgbXNnO1xuICAgICAgcHJvcGVydGllcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgICBwcm9wZXJ0aWVzLmRhdGEgPSByZXN0O1xuICAgIH1cblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbXNnKTtcbiAgICBPYmplY3QuYXNzaWduKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBwcm9wZXJ0aWVzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRmVhdGhlcnNFcnJvciwgW3tcbiAgICBrZXk6IFwidG9KU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgICAgIGNsYXNzTmFtZTogdGhpcy5jbGFzc05hbWVcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLmRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQuZGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZXJyb3JzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0LmVycm9ycyA9IHRoaXMuZXJyb3JzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBGZWF0aGVyc0Vycm9yO1xufSggLyojX19QVVJFX18qL193cmFwTmF0aXZlU3VwZXIoRXJyb3IpKTtcblxuZXhwb3J0cy5GZWF0aGVyc0Vycm9yID0gRmVhdGhlcnNFcnJvcjtcblxudmFyIEJhZFJlcXVlc3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9GZWF0aGVyc0Vycm9yKSB7XG4gIF9pbmhlcml0cyhCYWRSZXF1ZXN0LCBfRmVhdGhlcnNFcnJvcik7XG5cbiAgdmFyIF9zdXBlcjIgPSBfY3JlYXRlU3VwZXIoQmFkUmVxdWVzdCk7XG5cbiAgZnVuY3Rpb24gQmFkUmVxdWVzdChtZXNzYWdlLCBkYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhZFJlcXVlc3QpO1xuXG4gICAgcmV0dXJuIF9zdXBlcjIuY2FsbCh0aGlzLCBtZXNzYWdlLCAnQmFkUmVxdWVzdCcsIDQwMCwgJ2JhZC1yZXF1ZXN0JywgZGF0YSk7XG4gIH1cblxuICByZXR1cm4gQmFkUmVxdWVzdDtcbn0oRmVhdGhlcnNFcnJvcik7XG5cbmV4cG9ydHMuQmFkUmVxdWVzdCA9IEJhZFJlcXVlc3Q7IC8vIDQwMSAtIE5vdCBBdXRoZW50aWNhdGVkXG5cbnZhciBOb3RBdXRoZW50aWNhdGVkID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRmVhdGhlcnNFcnJvcjIpIHtcbiAgX2luaGVyaXRzKE5vdEF1dGhlbnRpY2F0ZWQsIF9GZWF0aGVyc0Vycm9yMik7XG5cbiAgdmFyIF9zdXBlcjMgPSBfY3JlYXRlU3VwZXIoTm90QXV0aGVudGljYXRlZCk7XG5cbiAgZnVuY3Rpb24gTm90QXV0aGVudGljYXRlZChtZXNzYWdlLCBkYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vdEF1dGhlbnRpY2F0ZWQpO1xuXG4gICAgcmV0dXJuIF9zdXBlcjMuY2FsbCh0aGlzLCBtZXNzYWdlLCAnTm90QXV0aGVudGljYXRlZCcsIDQwMSwgJ25vdC1hdXRoZW50aWNhdGVkJywgZGF0YSk7XG4gIH1cblxuICByZXR1cm4gTm90QXV0aGVudGljYXRlZDtcbn0oRmVhdGhlcnNFcnJvcik7XG5cbmV4cG9ydHMuTm90QXV0aGVudGljYXRlZCA9IE5vdEF1dGhlbnRpY2F0ZWQ7IC8vIDQwMiAtIFBheW1lbnQgRXJyb3JcblxudmFyIFBheW1lbnRFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0ZlYXRoZXJzRXJyb3IzKSB7XG4gIF9pbmhlcml0cyhQYXltZW50RXJyb3IsIF9GZWF0aGVyc0Vycm9yMyk7XG5cbiAgdmFyIF9zdXBlcjQgPSBfY3JlYXRlU3VwZXIoUGF5bWVudEVycm9yKTtcblxuICBmdW5jdGlvbiBQYXltZW50RXJyb3IobWVzc2FnZSwgZGF0YSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXltZW50RXJyb3IpO1xuXG4gICAgcmV0dXJuIF9zdXBlcjQuY2FsbCh0aGlzLCBtZXNzYWdlLCAnUGF5bWVudEVycm9yJywgNDAyLCAncGF5bWVudC1lcnJvcicsIGRhdGEpO1xuICB9XG5cbiAgcmV0dXJuIFBheW1lbnRFcnJvcjtcbn0oRmVhdGhlcnNFcnJvcik7XG5cbmV4cG9ydHMuUGF5bWVudEVycm9yID0gUGF5bWVudEVycm9yOyAvLyA0MDMgLSBGb3JiaWRkZW5cblxudmFyIEZvcmJpZGRlbiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0ZlYXRoZXJzRXJyb3I0KSB7XG4gIF9pbmhlcml0cyhGb3JiaWRkZW4sIF9GZWF0aGVyc0Vycm9yNCk7XG5cbiAgdmFyIF9zdXBlcjUgPSBfY3JlYXRlU3VwZXIoRm9yYmlkZGVuKTtcblxuICBmdW5jdGlvbiBGb3JiaWRkZW4obWVzc2FnZSwgZGF0YSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGb3JiaWRkZW4pO1xuXG4gICAgcmV0dXJuIF9zdXBlcjUuY2FsbCh0aGlzLCBtZXNzYWdlLCAnRm9yYmlkZGVuJywgNDAzLCAnZm9yYmlkZGVuJywgZGF0YSk7XG4gIH1cblxuICByZXR1cm4gRm9yYmlkZGVuO1xufShGZWF0aGVyc0Vycm9yKTtcblxuZXhwb3J0cy5Gb3JiaWRkZW4gPSBGb3JiaWRkZW47IC8vIDQwNCAtIE5vdCBGb3VuZFxuXG52YXIgTm90Rm91bmQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9GZWF0aGVyc0Vycm9yNSkge1xuICBfaW5oZXJpdHMoTm90Rm91bmQsIF9GZWF0aGVyc0Vycm9yNSk7XG5cbiAgdmFyIF9zdXBlcjYgPSBfY3JlYXRlU3VwZXIoTm90Rm91bmQpO1xuXG4gIGZ1bmN0aW9uIE5vdEZvdW5kKG1lc3NhZ2UsIGRhdGEpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm90Rm91bmQpO1xuXG4gICAgcmV0dXJuIF9zdXBlcjYuY2FsbCh0aGlzLCBtZXNzYWdlLCAnTm90Rm91bmQnLCA0MDQsICdub3QtZm91bmQnLCBkYXRhKTtcbiAgfVxuXG4gIHJldHVybiBOb3RGb3VuZDtcbn0oRmVhdGhlcnNFcnJvcik7XG5cbmV4cG9ydHMuTm90Rm91bmQgPSBOb3RGb3VuZDsgLy8gNDA1IC0gTWV0aG9kIE5vdCBBbGxvd2VkXG5cbnZhciBNZXRob2ROb3RBbGxvd2VkID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRmVhdGhlcnNFcnJvcjYpIHtcbiAgX2luaGVyaXRzKE1ldGhvZE5vdEFsbG93ZWQsIF9GZWF0aGVyc0Vycm9yNik7XG5cbiAgdmFyIF9zdXBlcjcgPSBfY3JlYXRlU3VwZXIoTWV0aG9kTm90QWxsb3dlZCk7XG5cbiAgZnVuY3Rpb24gTWV0aG9kTm90QWxsb3dlZChtZXNzYWdlLCBkYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1ldGhvZE5vdEFsbG93ZWQpO1xuXG4gICAgcmV0dXJuIF9zdXBlcjcuY2FsbCh0aGlzLCBtZXNzYWdlLCAnTWV0aG9kTm90QWxsb3dlZCcsIDQwNSwgJ21ldGhvZC1ub3QtYWxsb3dlZCcsIGRhdGEpO1xuICB9XG5cbiAgcmV0dXJuIE1ldGhvZE5vdEFsbG93ZWQ7XG59KEZlYXRoZXJzRXJyb3IpO1xuXG5leHBvcnRzLk1ldGhvZE5vdEFsbG93ZWQgPSBNZXRob2ROb3RBbGxvd2VkOyAvLyA0MDYgLSBOb3QgQWNjZXB0YWJsZVxuXG52YXIgTm90QWNjZXB0YWJsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0ZlYXRoZXJzRXJyb3I3KSB7XG4gIF9pbmhlcml0cyhOb3RBY2NlcHRhYmxlLCBfRmVhdGhlcnNFcnJvcjcpO1xuXG4gIHZhciBfc3VwZXI4ID0gX2NyZWF0ZVN1cGVyKE5vdEFjY2VwdGFibGUpO1xuXG4gIGZ1bmN0aW9uIE5vdEFjY2VwdGFibGUobWVzc2FnZSwgZGF0YSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOb3RBY2NlcHRhYmxlKTtcblxuICAgIHJldHVybiBfc3VwZXI4LmNhbGwodGhpcywgbWVzc2FnZSwgJ05vdEFjY2VwdGFibGUnLCA0MDYsICdub3QtYWNjZXB0YWJsZScsIGRhdGEpO1xuICB9XG5cbiAgcmV0dXJuIE5vdEFjY2VwdGFibGU7XG59KEZlYXRoZXJzRXJyb3IpO1xuXG5leHBvcnRzLk5vdEFjY2VwdGFibGUgPSBOb3RBY2NlcHRhYmxlOyAvLyA0MDggLSBUaW1lb3V0XG5cbnZhciBUaW1lb3V0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRmVhdGhlcnNFcnJvcjgpIHtcbiAgX2luaGVyaXRzKFRpbWVvdXQsIF9GZWF0aGVyc0Vycm9yOCk7XG5cbiAgdmFyIF9zdXBlcjkgPSBfY3JlYXRlU3VwZXIoVGltZW91dCk7XG5cbiAgZnVuY3Rpb24gVGltZW91dChtZXNzYWdlLCBkYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpbWVvdXQpO1xuXG4gICAgcmV0dXJuIF9zdXBlcjkuY2FsbCh0aGlzLCBtZXNzYWdlLCAnVGltZW91dCcsIDQwOCwgJ3RpbWVvdXQnLCBkYXRhKTtcbiAgfVxuXG4gIHJldHVybiBUaW1lb3V0O1xufShGZWF0aGVyc0Vycm9yKTtcblxuZXhwb3J0cy5UaW1lb3V0ID0gVGltZW91dDsgLy8gNDA5IC0gQ29uZmxpY3RcblxudmFyIENvbmZsaWN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRmVhdGhlcnNFcnJvcjkpIHtcbiAgX2luaGVyaXRzKENvbmZsaWN0LCBfRmVhdGhlcnNFcnJvcjkpO1xuXG4gIHZhciBfc3VwZXIxMCA9IF9jcmVhdGVTdXBlcihDb25mbGljdCk7XG5cbiAgZnVuY3Rpb24gQ29uZmxpY3QobWVzc2FnZSwgZGF0YSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb25mbGljdCk7XG5cbiAgICByZXR1cm4gX3N1cGVyMTAuY2FsbCh0aGlzLCBtZXNzYWdlLCAnQ29uZmxpY3QnLCA0MDksICdjb25mbGljdCcsIGRhdGEpO1xuICB9XG5cbiAgcmV0dXJuIENvbmZsaWN0O1xufShGZWF0aGVyc0Vycm9yKTtcblxuZXhwb3J0cy5Db25mbGljdCA9IENvbmZsaWN0OyAvLyA0MTAgLSBHb25lXG5cbnZhciBHb25lID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRmVhdGhlcnNFcnJvcjEwKSB7XG4gIF9pbmhlcml0cyhHb25lLCBfRmVhdGhlcnNFcnJvcjEwKTtcblxuICB2YXIgX3N1cGVyMTEgPSBfY3JlYXRlU3VwZXIoR29uZSk7XG5cbiAgZnVuY3Rpb24gR29uZShtZXNzYWdlLCBkYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdvbmUpO1xuXG4gICAgcmV0dXJuIF9zdXBlcjExLmNhbGwodGhpcywgbWVzc2FnZSwgJ0dvbmUnLCA0MTAsICdnb25lJywgZGF0YSk7XG4gIH1cblxuICByZXR1cm4gR29uZTtcbn0oRmVhdGhlcnNFcnJvcik7XG5cbmV4cG9ydHMuR29uZSA9IEdvbmU7IC8vIDQxMSAtIExlbmd0aCBSZXF1aXJlZFxuXG52YXIgTGVuZ3RoUmVxdWlyZWQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9GZWF0aGVyc0Vycm9yMTEpIHtcbiAgX2luaGVyaXRzKExlbmd0aFJlcXVpcmVkLCBfRmVhdGhlcnNFcnJvcjExKTtcblxuICB2YXIgX3N1cGVyMTIgPSBfY3JlYXRlU3VwZXIoTGVuZ3RoUmVxdWlyZWQpO1xuXG4gIGZ1bmN0aW9uIExlbmd0aFJlcXVpcmVkKG1lc3NhZ2UsIGRhdGEpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGVuZ3RoUmVxdWlyZWQpO1xuXG4gICAgcmV0dXJuIF9zdXBlcjEyLmNhbGwodGhpcywgbWVzc2FnZSwgJ0xlbmd0aFJlcXVpcmVkJywgNDExLCAnbGVuZ3RoLXJlcXVpcmVkJywgZGF0YSk7XG4gIH1cblxuICByZXR1cm4gTGVuZ3RoUmVxdWlyZWQ7XG59KEZlYXRoZXJzRXJyb3IpO1xuXG5leHBvcnRzLkxlbmd0aFJlcXVpcmVkID0gTGVuZ3RoUmVxdWlyZWQ7IC8vIDQyMiBVbnByb2Nlc3NhYmxlXG5cbnZhciBVbnByb2Nlc3NhYmxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRmVhdGhlcnNFcnJvcjEyKSB7XG4gIF9pbmhlcml0cyhVbnByb2Nlc3NhYmxlLCBfRmVhdGhlcnNFcnJvcjEyKTtcblxuICB2YXIgX3N1cGVyMTMgPSBfY3JlYXRlU3VwZXIoVW5wcm9jZXNzYWJsZSk7XG5cbiAgZnVuY3Rpb24gVW5wcm9jZXNzYWJsZShtZXNzYWdlLCBkYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFVucHJvY2Vzc2FibGUpO1xuXG4gICAgcmV0dXJuIF9zdXBlcjEzLmNhbGwodGhpcywgbWVzc2FnZSwgJ1VucHJvY2Vzc2FibGUnLCA0MjIsICd1bnByb2Nlc3NhYmxlJywgZGF0YSk7XG4gIH1cblxuICByZXR1cm4gVW5wcm9jZXNzYWJsZTtcbn0oRmVhdGhlcnNFcnJvcik7XG5cbmV4cG9ydHMuVW5wcm9jZXNzYWJsZSA9IFVucHJvY2Vzc2FibGU7IC8vIDQyOSBUb28gTWFueSBSZXF1ZXN0c1xuXG52YXIgVG9vTWFueVJlcXVlc3RzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRmVhdGhlcnNFcnJvcjEzKSB7XG4gIF9pbmhlcml0cyhUb29NYW55UmVxdWVzdHMsIF9GZWF0aGVyc0Vycm9yMTMpO1xuXG4gIHZhciBfc3VwZXIxNCA9IF9jcmVhdGVTdXBlcihUb29NYW55UmVxdWVzdHMpO1xuXG4gIGZ1bmN0aW9uIFRvb01hbnlSZXF1ZXN0cyhtZXNzYWdlLCBkYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRvb01hbnlSZXF1ZXN0cyk7XG5cbiAgICByZXR1cm4gX3N1cGVyMTQuY2FsbCh0aGlzLCBtZXNzYWdlLCAnVG9vTWFueVJlcXVlc3RzJywgNDI5LCAndG9vLW1hbnktcmVxdWVzdHMnLCBkYXRhKTtcbiAgfVxuXG4gIHJldHVybiBUb29NYW55UmVxdWVzdHM7XG59KEZlYXRoZXJzRXJyb3IpO1xuXG5leHBvcnRzLlRvb01hbnlSZXF1ZXN0cyA9IFRvb01hbnlSZXF1ZXN0czsgLy8gNTAwIC0gR2VuZXJhbCBFcnJvclxuXG52YXIgR2VuZXJhbEVycm9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRmVhdGhlcnNFcnJvcjE0KSB7XG4gIF9pbmhlcml0cyhHZW5lcmFsRXJyb3IsIF9GZWF0aGVyc0Vycm9yMTQpO1xuXG4gIHZhciBfc3VwZXIxNSA9IF9jcmVhdGVTdXBlcihHZW5lcmFsRXJyb3IpO1xuXG4gIGZ1bmN0aW9uIEdlbmVyYWxFcnJvcihtZXNzYWdlLCBkYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdlbmVyYWxFcnJvcik7XG5cbiAgICByZXR1cm4gX3N1cGVyMTUuY2FsbCh0aGlzLCBtZXNzYWdlLCAnR2VuZXJhbEVycm9yJywgNTAwLCAnZ2VuZXJhbC1lcnJvcicsIGRhdGEpO1xuICB9XG5cbiAgcmV0dXJuIEdlbmVyYWxFcnJvcjtcbn0oRmVhdGhlcnNFcnJvcik7XG5cbmV4cG9ydHMuR2VuZXJhbEVycm9yID0gR2VuZXJhbEVycm9yOyAvLyA1MDEgLSBOb3QgSW1wbGVtZW50ZWRcblxudmFyIE5vdEltcGxlbWVudGVkID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRmVhdGhlcnNFcnJvcjE1KSB7XG4gIF9pbmhlcml0cyhOb3RJbXBsZW1lbnRlZCwgX0ZlYXRoZXJzRXJyb3IxNSk7XG5cbiAgdmFyIF9zdXBlcjE2ID0gX2NyZWF0ZVN1cGVyKE5vdEltcGxlbWVudGVkKTtcblxuICBmdW5jdGlvbiBOb3RJbXBsZW1lbnRlZChtZXNzYWdlLCBkYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vdEltcGxlbWVudGVkKTtcblxuICAgIHJldHVybiBfc3VwZXIxNi5jYWxsKHRoaXMsIG1lc3NhZ2UsICdOb3RJbXBsZW1lbnRlZCcsIDUwMSwgJ25vdC1pbXBsZW1lbnRlZCcsIGRhdGEpO1xuICB9XG5cbiAgcmV0dXJuIE5vdEltcGxlbWVudGVkO1xufShGZWF0aGVyc0Vycm9yKTtcblxuZXhwb3J0cy5Ob3RJbXBsZW1lbnRlZCA9IE5vdEltcGxlbWVudGVkOyAvLyA1MDIgLSBCYWQgR2F0ZXdheVxuXG52YXIgQmFkR2F0ZXdheSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0ZlYXRoZXJzRXJyb3IxNikge1xuICBfaW5oZXJpdHMoQmFkR2F0ZXdheSwgX0ZlYXRoZXJzRXJyb3IxNik7XG5cbiAgdmFyIF9zdXBlcjE3ID0gX2NyZWF0ZVN1cGVyKEJhZEdhdGV3YXkpO1xuXG4gIGZ1bmN0aW9uIEJhZEdhdGV3YXkobWVzc2FnZSwgZGF0YSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYWRHYXRld2F5KTtcblxuICAgIHJldHVybiBfc3VwZXIxNy5jYWxsKHRoaXMsIG1lc3NhZ2UsICdCYWRHYXRld2F5JywgNTAyLCAnYmFkLWdhdGV3YXknLCBkYXRhKTtcbiAgfVxuXG4gIHJldHVybiBCYWRHYXRld2F5O1xufShGZWF0aGVyc0Vycm9yKTtcblxuZXhwb3J0cy5CYWRHYXRld2F5ID0gQmFkR2F0ZXdheTsgLy8gNTAzIC0gVW5hdmFpbGFibGVcblxudmFyIFVuYXZhaWxhYmxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfRmVhdGhlcnNFcnJvcjE3KSB7XG4gIF9pbmhlcml0cyhVbmF2YWlsYWJsZSwgX0ZlYXRoZXJzRXJyb3IxNyk7XG5cbiAgdmFyIF9zdXBlcjE4ID0gX2NyZWF0ZVN1cGVyKFVuYXZhaWxhYmxlKTtcblxuICBmdW5jdGlvbiBVbmF2YWlsYWJsZShtZXNzYWdlLCBkYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFVuYXZhaWxhYmxlKTtcblxuICAgIHJldHVybiBfc3VwZXIxOC5jYWxsKHRoaXMsIG1lc3NhZ2UsICdVbmF2YWlsYWJsZScsIDUwMywgJ3VuYXZhaWxhYmxlJywgZGF0YSk7XG4gIH1cblxuICByZXR1cm4gVW5hdmFpbGFibGU7XG59KEZlYXRoZXJzRXJyb3IpO1xuXG5leHBvcnRzLlVuYXZhaWxhYmxlID0gVW5hdmFpbGFibGU7XG5leHBvcnRzLmVycm9ycyA9IHtcbiAgRmVhdGhlcnNFcnJvcjogRmVhdGhlcnNFcnJvcixcbiAgQmFkUmVxdWVzdDogQmFkUmVxdWVzdCxcbiAgTm90QXV0aGVudGljYXRlZDogTm90QXV0aGVudGljYXRlZCxcbiAgUGF5bWVudEVycm9yOiBQYXltZW50RXJyb3IsXG4gIEZvcmJpZGRlbjogRm9yYmlkZGVuLFxuICBOb3RGb3VuZDogTm90Rm91bmQsXG4gIE1ldGhvZE5vdEFsbG93ZWQ6IE1ldGhvZE5vdEFsbG93ZWQsXG4gIE5vdEFjY2VwdGFibGU6IE5vdEFjY2VwdGFibGUsXG4gIFRpbWVvdXQ6IFRpbWVvdXQsXG4gIENvbmZsaWN0OiBDb25mbGljdCxcbiAgTGVuZ3RoUmVxdWlyZWQ6IExlbmd0aFJlcXVpcmVkLFxuICBVbnByb2Nlc3NhYmxlOiBVbnByb2Nlc3NhYmxlLFxuICBUb29NYW55UmVxdWVzdHM6IFRvb01hbnlSZXF1ZXN0cyxcbiAgR2VuZXJhbEVycm9yOiBHZW5lcmFsRXJyb3IsXG4gIE5vdEltcGxlbWVudGVkOiBOb3RJbXBsZW1lbnRlZCxcbiAgQmFkR2F0ZXdheTogQmFkR2F0ZXdheSxcbiAgVW5hdmFpbGFibGU6IFVuYXZhaWxhYmxlLFxuICA0MDA6IEJhZFJlcXVlc3QsXG4gIDQwMTogTm90QXV0aGVudGljYXRlZCxcbiAgNDAyOiBQYXltZW50RXJyb3IsXG4gIDQwMzogRm9yYmlkZGVuLFxuICA0MDQ6IE5vdEZvdW5kLFxuICA0MDU6IE1ldGhvZE5vdEFsbG93ZWQsXG4gIDQwNjogTm90QWNjZXB0YWJsZSxcbiAgNDA4OiBUaW1lb3V0LFxuICA0MDk6IENvbmZsaWN0LFxuICA0MTA6IEdvbmUsXG4gIDQxMTogTGVuZ3RoUmVxdWlyZWQsXG4gIDQyMjogVW5wcm9jZXNzYWJsZSxcbiAgNDI5OiBUb29NYW55UmVxdWVzdHMsXG4gIDUwMDogR2VuZXJhbEVycm9yLFxuICA1MDE6IE5vdEltcGxlbWVudGVkLFxuICA1MDI6IEJhZEdhdGV3YXksXG4gIDUwMzogVW5hdmFpbGFibGVcbn07XG5cbmZ1bmN0aW9uIGNvbnZlcnQoZXJyb3IpIHtcbiAgaWYgKCFlcnJvcikge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuXG4gIHZhciBGZWF0aGVyc0Vycm9yID0gZXhwb3J0cy5lcnJvcnNbZXJyb3IubmFtZV07XG4gIHZhciByZXN1bHQgPSBGZWF0aGVyc0Vycm9yID8gbmV3IEZlYXRoZXJzRXJyb3IoZXJyb3IubWVzc2FnZSwgZXJyb3IuZGF0YSkgOiBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSB8fCBlcnJvcik7XG5cbiAgaWYgKF90eXBlb2YoZXJyb3IpID09PSAnb2JqZWN0Jykge1xuICAgIE9iamVjdC5hc3NpZ24ocmVzdWx0LCBlcnJvcik7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnRzLmNvbnZlcnQgPSBjb252ZXJ0O1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuLi9mZWF0aGVycy9saWIvYXBwbGljYXRpb24uanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4uL2ZlYXRoZXJzL2xpYi9hcHBsaWNhdGlvbi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24oX191bnVzZWRfd2VicGFja19tb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgaXRlcltTeW1ib2wuaXRlcmF0b3JdICE9IG51bGwgfHwgaXRlcltcIkBAaXRlcmF0b3JcIl0gIT0gbnVsbCkgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkoYXJyKTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvW1wiQEBpdGVyYXRvclwiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG52YXIgX19pbXBvcnREZWZhdWx0ID0gdGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCB8fCBmdW5jdGlvbiAobW9kKSB7XG4gIHJldHVybiBtb2QgJiYgbW9kLl9fZXNNb2R1bGUgPyBtb2QgOiB7XG4gICAgXCJkZWZhdWx0XCI6IG1vZFxuICB9O1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCAoe1xuICB2YWx1ZTogdHJ1ZVxufSkpO1xuZXhwb3J0cy5GZWF0aGVycyA9IHZvaWQgMDtcblxudmFyIHZlcnNpb25fMSA9IF9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3ZlcnNpb24gKi8gXCIuLi9mZWF0aGVycy9saWIvdmVyc2lvbi5qc1wiKSk7XG5cbnZhciBkZXBlbmRlbmNpZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZGVwZW5kZW5jaWVzICovIFwiLi4vZmVhdGhlcnMvbGliL2RlcGVuZGVuY2llcy5qc1wiKTtcblxudmFyIGV2ZW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9ldmVudHMgKi8gXCIuLi9mZWF0aGVycy9saWIvZXZlbnRzLmpzXCIpO1xuXG52YXIgaW5kZXhfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaG9va3MvaW5kZXggKi8gXCIuLi9mZWF0aGVycy9saWIvaG9va3MvaW5kZXguanNcIik7XG5cbnZhciBzZXJ2aWNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NlcnZpY2UgKi8gXCIuLi9mZWF0aGVycy9saWIvc2VydmljZS5qc1wiKTtcblxudmFyIGxlZ2FjeV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9ob29rcy9sZWdhY3kgKi8gXCIuLi9mZWF0aGVycy9saWIvaG9va3MvbGVnYWN5LmpzXCIpO1xuXG52YXIgZGVidWcgPSAoMCwgZGVwZW5kZW5jaWVzXzEuY3JlYXRlRGVidWcpKCdAZmVhdGhlcnNqcy9mZWF0aGVycycpO1xuXG52YXIgRmVhdGhlcnMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9kZXBlbmRlbmNpZXNfMSRFdmVudCkge1xuICBfaW5oZXJpdHMoRmVhdGhlcnMsIF9kZXBlbmRlbmNpZXNfMSRFdmVudCk7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihGZWF0aGVycyk7XG5cbiAgZnVuY3Rpb24gRmVhdGhlcnMoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZlYXRoZXJzKTtcblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgX3RoaXMuc2VydmljZXMgPSB7fTtcbiAgICBfdGhpcy5zZXR0aW5ncyA9IHt9O1xuICAgIF90aGlzLm1peGlucyA9IFtpbmRleF8xLmhvb2tNaXhpbiwgZXZlbnRzXzEuZXZlbnRNaXhpbl07XG4gICAgX3RoaXMudmVyc2lvbiA9IHZlcnNpb25fMS5kZWZhdWx0O1xuICAgIF90aGlzLl9pc1NldHVwID0gZmFsc2U7XG4gICAgX3RoaXMuYXBwSG9va3MgPSBfZGVmaW5lUHJvcGVydHkoe30sIGRlcGVuZGVuY2llc18xLkhPT0tTLCBbZXZlbnRzXzEuZXZlbnRIb29rXSk7XG4gICAgX3RoaXMubGVnYWN5SG9va3MgPSAoMCwgbGVnYWN5XzEuZW5hYmxlTGVnYWN5SG9va3MpKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRmVhdGhlcnMsIFt7XG4gICAga2V5OiBcImdldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3NbbmFtZV07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXQobmFtZSwgdmFsdWUpIHtcbiAgICAgIHRoaXMuc2V0dGluZ3NbbmFtZV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb25maWd1cmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29uZmlndXJlKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjay5jYWxsKHRoaXMsIHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlZmF1bHRTZXJ2aWNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlZmF1bHRTZXJ2aWNlKGxvY2F0aW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4gbm90IGZpbmQgc2VydmljZSAnXCIuY29uY2F0KGxvY2F0aW9uLCBcIidcIikpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXJ2aWNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlcnZpY2UobG9jYXRpb24pIHtcbiAgICAgIHZhciBwYXRoID0gKDAsIGRlcGVuZGVuY2llc18xLnN0cmlwU2xhc2hlcykobG9jYXRpb24pIHx8ICcvJztcbiAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5zZXJ2aWNlc1twYXRoXTtcblxuICAgICAgaWYgKHR5cGVvZiBjdXJyZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLnVzZShwYXRoLCB0aGlzLmRlZmF1bHRTZXJ2aWNlKHBhdGgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZShwYXRoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVzZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1c2UocGF0aCwgc2VydmljZSwgb3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ1wiLmNvbmNhdChwYXRoLCBcIicgaXMgbm90IGEgdmFsaWQgc2VydmljZSBwYXRoLlwiKSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBsb2NhdGlvbiA9ICgwLCBkZXBlbmRlbmNpZXNfMS5zdHJpcFNsYXNoZXMpKHBhdGgpIHx8ICcvJztcbiAgICAgIHZhciBzdWJBcHAgPSBzZXJ2aWNlO1xuICAgICAgdmFyIGlzU3ViQXBwID0gdHlwZW9mIHN1YkFwcC5zZXJ2aWNlID09PSAnZnVuY3Rpb24nICYmIHN1YkFwcC5zZXJ2aWNlcztcblxuICAgICAgaWYgKGlzU3ViQXBwKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHN1YkFwcC5zZXJ2aWNlcykuZm9yRWFjaChmdW5jdGlvbiAoc3ViUGF0aCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIudXNlKFwiXCIuY29uY2F0KGxvY2F0aW9uLCBcIi9cIikuY29uY2F0KHN1YlBhdGgpLCBzdWJBcHAuc2VydmljZShzdWJQYXRoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIHByb3RvU2VydmljZSA9ICgwLCBzZXJ2aWNlXzEud3JhcFNlcnZpY2UpKGxvY2F0aW9uLCBzZXJ2aWNlLCBvcHRpb25zKTtcbiAgICAgIHZhciBzZXJ2aWNlT3B0aW9ucyA9ICgwLCBzZXJ2aWNlXzEuZ2V0U2VydmljZU9wdGlvbnMpKHNlcnZpY2UsIG9wdGlvbnMpO1xuXG4gICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc2VydmljZV8xLnByb3RlY3RlZE1ldGhvZHMpLFxuICAgICAgICAgIF9zdGVwO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICAgIHZhciBuYW1lID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICBpZiAoc2VydmljZU9wdGlvbnMubWV0aG9kcy5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ1wiLmNvbmNhdChuYW1lLCBcIicgb24gc2VydmljZSAnXCIpLmNvbmNhdChsb2NhdGlvbiwgXCInIGlzIG5vdCBhbGxvd2VkIGFzIGEgY3VzdG9tIG1ldGhvZCBuYW1lXCIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgX2l0ZXJhdG9yLmYoKTtcbiAgICAgIH1cblxuICAgICAgZGVidWcoXCJSZWdpc3RlcmluZyBuZXcgc2VydmljZSBhdCBgXCIuY29uY2F0KGxvY2F0aW9uLCBcImBcIikpOyAvLyBBZGQgYWxsIHRoZSBtaXhpbnNcblxuICAgICAgdGhpcy5taXhpbnMuZm9yRWFjaChmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwoX3RoaXMyLCBwcm90b1NlcnZpY2UsIGxvY2F0aW9uLCBzZXJ2aWNlT3B0aW9ucyk7XG4gICAgICB9KTsgLy8gSWYgd2UgcmFuIHNldHVwIGFscmVhZHksIHNldCB0aGlzIHNlcnZpY2UgdXAgZXhwbGljaXRseSwgdGhpcyB3aWxsIG5vdCBgYXdhaXRgXG5cbiAgICAgIGlmICh0aGlzLl9pc1NldHVwICYmIHR5cGVvZiBwcm90b1NlcnZpY2Uuc2V0dXAgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZGVidWcoXCJTZXR0aW5nIHVwIHNlcnZpY2UgZm9yIGBcIi5jb25jYXQobG9jYXRpb24sIFwiYFwiKSk7XG4gICAgICAgIHByb3RvU2VydmljZS5zZXR1cCh0aGlzLCBsb2NhdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2VydmljZXNbbG9jYXRpb25dID0gcHJvdG9TZXJ2aWNlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhvb2tzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhvb2tzKGhvb2tNYXApIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgbGVnYWN5TWFwID0gaG9va01hcDtcblxuICAgICAgaWYgKGxlZ2FjeU1hcC5iZWZvcmUgfHwgbGVnYWN5TWFwLmFmdGVyIHx8IGxlZ2FjeU1hcC5lcnJvcikge1xuICAgICAgICByZXR1cm4gdGhpcy5sZWdhY3lIb29rcyhsZWdhY3lNYXApO1xuICAgICAgfVxuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShob29rTWFwKSkge1xuICAgICAgICB2YXIgX3RoaXMkYXBwSG9va3MkZGVwZW5kO1xuXG4gICAgICAgIChfdGhpcyRhcHBIb29rcyRkZXBlbmQgPSB0aGlzLmFwcEhvb2tzW2RlcGVuZGVuY2llc18xLkhPT0tTXSkucHVzaC5hcHBseShfdGhpcyRhcHBIb29rcyRkZXBlbmQsIF90b0NvbnN1bWFibGVBcnJheShob29rTWFwKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbWV0aG9kSG9va01hcCA9IGhvb2tNYXA7XG4gICAgICAgIE9iamVjdC5rZXlzKG1ldGhvZEhvb2tNYXApLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIHZhciBtZXRob2RIb29rcyA9IF90aGlzMy5hcHBIb29rc1trZXldIHx8IFtdO1xuICAgICAgICAgIF90aGlzMy5hcHBIb29rc1trZXldID0gbWV0aG9kSG9va3MuY29uY2F0KG1ldGhvZEhvb2tNYXBba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0dXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTsgLy8gU2V0dXAgZWFjaCBzZXJ2aWNlIChwYXNzIHRoZSBhcHAgc28gdGhhdCB0aGV5IGNhbiBsb29rIHVwIG90aGVyIHNlcnZpY2VzIGV0Yy4pXG5cbiAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKCkge1xuICAgICAgICB2YXIgcGF0aCA9IF9PYmplY3Qka2V5c1tfaV07XG4gICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBzZXJ2aWNlID0gX3RoaXM0LnNlcnZpY2UocGF0aCk7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHNlcnZpY2Uuc2V0dXAgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGRlYnVnKFwiU2V0dGluZyB1cCBzZXJ2aWNlIGZvciBgXCIuY29uY2F0KHBhdGgsIFwiYFwiKSk7XG4gICAgICAgICAgICByZXR1cm4gc2VydmljZS5zZXR1cChfdGhpczQsIHBhdGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBmb3IgKHZhciBfaSA9IDAsIF9PYmplY3Qka2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuc2VydmljZXMpOyBfaSA8IF9PYmplY3Qka2V5cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgX2xvb3AoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNC5faXNTZXR1cCA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpczQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRmVhdGhlcnM7XG59KGRlcGVuZGVuY2llc18xLkV2ZW50RW1pdHRlcik7XG5cbmV4cG9ydHMuRmVhdGhlcnMgPSBGZWF0aGVycztcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vZmVhdGhlcnMvbGliL2RlY2xhcmF0aW9ucy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4uL2ZlYXRoZXJzL2xpYi9kZWNsYXJhdGlvbnMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4uL2ZlYXRoZXJzL2xpYi9kZXBlbmRlbmNpZXMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuLi9mZWF0aGVycy9saWIvZGVwZW5kZW5jaWVzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24oX191bnVzZWRfd2VicGFja19tb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIF9fY3JlYXRlQmluZGluZyA9IHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcgfHwgKE9iamVjdC5jcmVhdGUgPyBmdW5jdGlvbiAobywgbSwgaywgazIpIHtcbiAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBtW2tdO1xuICAgIH1cbiAgfSk7XG59IDogZnVuY3Rpb24gKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIG9bazJdID0gbVtrXTtcbn0pO1xuXG52YXIgX19leHBvcnRTdGFyID0gdGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhciB8fCBmdW5jdGlvbiAobSwgZXhwb3J0cykge1xuICBmb3IgKHZhciBwIGluIG0pIHtcbiAgICBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xuICB9XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLkV2ZW50RW1pdHRlciA9IHZvaWQgMDtcblxudmFyIGV2ZW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgZXZlbnRzICovIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanNcIik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkV2ZW50RW1pdHRlclwiLCAoe1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gZXZlbnRzXzEuRXZlbnRFbWl0dGVyO1xuICB9XG59KSk7XG5cbl9fZXhwb3J0U3RhcihfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBAZmVhdGhlcnNqcy9jb21tb25zICovIFwiLi4vY29tbW9ucy9saWIvaW5kZXguanNcIiksIGV4cG9ydHMpO1xuXG5fX2V4cG9ydFN0YXIoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgQGZlYXRoZXJzanMvaG9va3MgKi8gXCIuLi8uLi9ub2RlX21vZHVsZXMvQGZlYXRoZXJzanMvaG9va3MvbGliL2luZGV4LmpzXCIpLCBleHBvcnRzKTtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vZmVhdGhlcnMvbGliL2V2ZW50cy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4uL2ZlYXRoZXJzL2xpYi9ldmVudHMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLmV2ZW50TWl4aW4gPSBleHBvcnRzLmV2ZW50SG9vayA9IHZvaWQgMDtcblxudmFyIGRlcGVuZGVuY2llc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kZXBlbmRlbmNpZXMgKi8gXCIuLi9mZWF0aGVycy9saWIvZGVwZW5kZW5jaWVzLmpzXCIpO1xuXG52YXIgc2VydmljZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zZXJ2aWNlICovIFwiLi4vZmVhdGhlcnMvbGliL3NlcnZpY2UuanNcIik7XG5cbmZ1bmN0aW9uIGV2ZW50SG9vayhjb250ZXh0LCBuZXh0KSB7XG4gIHZhciBfcmVmID0gKDAsIHNlcnZpY2VfMS5nZXRTZXJ2aWNlT3B0aW9ucykoY29udGV4dC5zZWxmKSxcbiAgICAgIGV2ZW50cyA9IF9yZWYuZXZlbnRzO1xuXG4gIHZhciBkZWZhdWx0RXZlbnQgPSBzZXJ2aWNlXzEuZGVmYXVsdEV2ZW50TWFwW2NvbnRleHQubWV0aG9kXSB8fCBudWxsO1xuICBjb250ZXh0LmV2ZW50ID0gZGVmYXVsdEV2ZW50O1xuICByZXR1cm4gbmV4dCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIC8vIFNlbmQgdGhlIGV2ZW50IG9ubHkgaWYgdGhlIHNlcnZpY2UgZG9lcyBub3QgZG8gc28gYWxyZWFkeSAoaW5kaWNhdGVkIGluIHRoZSBgZXZlbnRzYCBvcHRpb24pXG4gICAgLy8gVGhpcyBpcyB1c2VkIGZvciBjdXN0b20gZXZlbnRzIGFuZCBmb3IgY2xpZW50IHNlcnZpY2VzIHJlY2VpdmluZyBldmVudCBmcm9tIHRoZSBzZXJ2ZXJcbiAgICBpZiAodHlwZW9mIGNvbnRleHQuZXZlbnQgPT09ICdzdHJpbmcnICYmICFldmVudHMuaW5jbHVkZXMoY29udGV4dC5ldmVudCkpIHtcbiAgICAgIHZhciByZXN1bHRzID0gQXJyYXkuaXNBcnJheShjb250ZXh0LnJlc3VsdCkgPyBjb250ZXh0LnJlc3VsdCA6IFtjb250ZXh0LnJlc3VsdF07XG4gICAgICByZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQuc2VsZi5lbWl0KGNvbnRleHQuZXZlbnQsIGVsZW1lbnQsIGNvbnRleHQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0cy5ldmVudEhvb2sgPSBldmVudEhvb2s7XG5cbmZ1bmN0aW9uIGV2ZW50TWl4aW4oc2VydmljZSkge1xuICB2YXIgaXNFbWl0dGVyID0gdHlwZW9mIHNlcnZpY2Uub24gPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHNlcnZpY2UuZW1pdCA9PT0gJ2Z1bmN0aW9uJztcblxuICBpZiAoIWlzRW1pdHRlcikge1xuICAgIE9iamVjdC5hc3NpZ24oc2VydmljZSwgZGVwZW5kZW5jaWVzXzEuRXZlbnRFbWl0dGVyLnByb3RvdHlwZSk7XG4gIH1cblxuICByZXR1cm4gc2VydmljZTtcbn1cblxuZXhwb3J0cy5ldmVudE1peGluID0gZXZlbnRNaXhpbjtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vZmVhdGhlcnMvbGliL2hvb2tzL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuLi9mZWF0aGVycy9saWIvaG9va3MvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbCB8fCBpdGVyW1wiQEBpdGVyYXRvclwiXSAhPSBudWxsKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ICE9PSBcInVuZGVmaW5lZFwiICYmIFJlZmxlY3QuZ2V0KSB7IF9nZXQgPSBSZWZsZWN0LmdldDsgfSBlbHNlIHsgX2dldCA9IGZ1bmN0aW9uIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgdmFyIGJhc2UgPSBfc3VwZXJQcm9wQmFzZSh0YXJnZXQsIHByb3BlcnR5KTsgaWYgKCFiYXNlKSByZXR1cm47IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7IGlmIChkZXNjLmdldCkgeyByZXR1cm4gZGVzYy5nZXQuY2FsbChyZWNlaXZlcik7IH0gcmV0dXJuIGRlc2MudmFsdWU7IH07IH0gcmV0dXJuIF9nZXQodGFyZ2V0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIgfHwgdGFyZ2V0KTsgfVxuXG5mdW5jdGlvbiBfc3VwZXJQcm9wQmFzZShvYmplY3QsIHByb3BlcnR5KSB7IHdoaWxlICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpKSB7IG9iamVjdCA9IF9nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAob2JqZWN0ID09PSBudWxsKSBicmVhazsgfSByZXR1cm4gb2JqZWN0OyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpOyB9XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBvLl9fcHJvdG9fXyA9IHA7IHJldHVybiBvOyB9OyByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApOyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gZWxzZSBpZiAoY2FsbCAhPT0gdm9pZCAwKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IHJldHVybiB0cnVlOyB9IGNhdGNoIChlKSB7IHJldHVybiBmYWxzZTsgfSB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCAoe1xuICB2YWx1ZTogdHJ1ZVxufSkpO1xuZXhwb3J0cy5ob29rTWl4aW4gPSBleHBvcnRzLkZlYXRoZXJzSG9va01hbmFnZXIgPSBleHBvcnRzLmNyZWF0ZUNvbnRleHQgPSBleHBvcnRzLmZyb21FcnJvckhvb2tzID0gZXhwb3J0cy5mcm9tQmVmb3JlSG9vayA9IGV4cG9ydHMuZnJvbUFmdGVySG9vayA9IHZvaWQgMDtcblxudmFyIGRlcGVuZGVuY2llc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZGVwZW5kZW5jaWVzICovIFwiLi4vZmVhdGhlcnMvbGliL2RlcGVuZGVuY2llcy5qc1wiKTtcblxudmFyIHNlcnZpY2VfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3NlcnZpY2UgKi8gXCIuLi9mZWF0aGVycy9saWIvc2VydmljZS5qc1wiKTtcblxudmFyIGxlZ2FjeV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9sZWdhY3kgKi8gXCIuLi9mZWF0aGVycy9saWIvaG9va3MvbGVnYWN5LmpzXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJmcm9tQWZ0ZXJIb29rXCIsICh7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBsZWdhY3lfMS5mcm9tQWZ0ZXJIb29rO1xuICB9XG59KSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJmcm9tQmVmb3JlSG9va1wiLCAoe1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gbGVnYWN5XzEuZnJvbUJlZm9yZUhvb2s7XG4gIH1cbn0pKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImZyb21FcnJvckhvb2tzXCIsICh7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBsZWdhY3lfMS5mcm9tRXJyb3JIb29rcztcbiAgfVxufSkpO1xuXG5mdW5jdGlvbiBjcmVhdGVDb250ZXh0KHNlcnZpY2UsIG1ldGhvZCkge1xuICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIHZhciBjcmVhdGVDb250ZXh0ID0gc2VydmljZVttZXRob2RdLmNyZWF0ZUNvbnRleHQ7XG5cbiAgaWYgKHR5cGVvZiBjcmVhdGVDb250ZXh0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuIG5vdCBjcmVhdGUgY29udGV4dCBmb3IgbWV0aG9kIFwiLmNvbmNhdChtZXRob2QpKTtcbiAgfVxuXG4gIHJldHVybiBjcmVhdGVDb250ZXh0KGRhdGEpO1xufVxuXG5leHBvcnRzLmNyZWF0ZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0O1xuXG52YXIgRmVhdGhlcnNIb29rTWFuYWdlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX2RlcGVuZGVuY2llc18xJEhvb2tNKSB7XG4gIF9pbmhlcml0cyhGZWF0aGVyc0hvb2tNYW5hZ2VyLCBfZGVwZW5kZW5jaWVzXzEkSG9va00pO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoRmVhdGhlcnNIb29rTWFuYWdlcik7XG5cbiAgZnVuY3Rpb24gRmVhdGhlcnNIb29rTWFuYWdlcihhcHAsIG1ldGhvZCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGZWF0aGVyc0hvb2tNYW5hZ2VyKTtcblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgX3RoaXMuYXBwID0gYXBwO1xuICAgIF90aGlzLm1ldGhvZCA9IG1ldGhvZDtcbiAgICBfdGhpcy5fbWlkZGxld2FyZSA9IFtdO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhGZWF0aGVyc0hvb2tNYW5hZ2VyLCBbe1xuICAgIGtleTogXCJjb2xsZWN0TWlkZGxld2FyZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb2xsZWN0TWlkZGxld2FyZShzZWxmLCBhcmdzKSB7XG4gICAgICB2YXIgYXBwID0gdGhpcy5hcHA7XG4gICAgICB2YXIgYXBwSG9va3MgPSBhcHAuYXBwSG9va3NbZGVwZW5kZW5jaWVzXzEuSE9PS1NdLmNvbmNhdChhcHAuYXBwSG9va3NbdGhpcy5tZXRob2RdIHx8IFtdKTtcbiAgICAgIHZhciBsZWdhY3lBcHBIb29rcyA9ICgwLCBsZWdhY3lfMS5jb2xsZWN0TGVnYWN5SG9va3MpKHRoaXMuYXBwLCB0aGlzLm1ldGhvZCk7XG5cbiAgICAgIHZhciBtaWRkbGV3YXJlID0gX2dldChfZ2V0UHJvdG90eXBlT2YoRmVhdGhlcnNIb29rTWFuYWdlci5wcm90b3R5cGUpLCBcImNvbGxlY3RNaWRkbGV3YXJlXCIsIHRoaXMpLmNhbGwodGhpcywgc2VsZiwgYXJncyk7XG5cbiAgICAgIHZhciBsZWdhY3lIb29rcyA9ICgwLCBsZWdhY3lfMS5jb2xsZWN0TGVnYWN5SG9va3MpKHNlbGYsIHRoaXMubWV0aG9kKTtcbiAgICAgIHJldHVybiBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGFwcEhvb2tzKSwgX3RvQ29uc3VtYWJsZUFycmF5KGxlZ2FjeUFwcEhvb2tzKSwgX3RvQ29uc3VtYWJsZUFycmF5KG1pZGRsZXdhcmUpLCBfdG9Db25zdW1hYmxlQXJyYXkobGVnYWN5SG9va3MpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW5pdGlhbGl6ZUNvbnRleHRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbnRleHQoc2VsZiwgYXJncywgY29udGV4dCkge1xuICAgICAgdmFyIGN0eCA9IF9nZXQoX2dldFByb3RvdHlwZU9mKEZlYXRoZXJzSG9va01hbmFnZXIucHJvdG90eXBlKSwgXCJpbml0aWFsaXplQ29udGV4dFwiLCB0aGlzKS5jYWxsKHRoaXMsIHNlbGYsIGFyZ3MsIGNvbnRleHQpO1xuXG4gICAgICBjdHgucGFyYW1zID0gY3R4LnBhcmFtcyB8fCB7fTtcbiAgICAgIHJldHVybiBjdHg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm1pZGRsZXdhcmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWlkZGxld2FyZShtdykge1xuICAgICAgdmFyIF90aGlzJF9taWRkbGV3YXJlO1xuXG4gICAgICAoX3RoaXMkX21pZGRsZXdhcmUgPSB0aGlzLl9taWRkbGV3YXJlKS5wdXNoLmFwcGx5KF90aGlzJF9taWRkbGV3YXJlLCBfdG9Db25zdW1hYmxlQXJyYXkobXcpKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEZlYXRoZXJzSG9va01hbmFnZXI7XG59KGRlcGVuZGVuY2llc18xLkhvb2tNYW5hZ2VyKTtcblxuZXhwb3J0cy5GZWF0aGVyc0hvb2tNYW5hZ2VyID0gRmVhdGhlcnNIb29rTWFuYWdlcjtcblxuZnVuY3Rpb24gaG9va01peGluKHNlcnZpY2UsIHBhdGgsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBzZXJ2aWNlLmhvb2tzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHNlcnZpY2U7XG4gIH1cblxuICB2YXIgYXBwID0gdGhpcztcbiAgdmFyIHNlcnZpY2VNZXRob2RIb29rcyA9ICgwLCBzZXJ2aWNlXzEuZ2V0SG9va01ldGhvZHMpKHNlcnZpY2UsIG9wdGlvbnMpLnJlZHVjZShmdW5jdGlvbiAocmVzLCBtZXRob2QpIHtcbiAgICB2YXIgX0ZlYXRoZXJzSG9va01hbmFnZXI7XG5cbiAgICB2YXIgcGFyYW1zID0gc2VydmljZV8xLmRlZmF1bHRTZXJ2aWNlQXJndW1lbnRzW21ldGhvZF0gfHwgWydkYXRhJywgJ3BhcmFtcyddO1xuICAgIHJlc1ttZXRob2RdID0gKF9GZWF0aGVyc0hvb2tNYW5hZ2VyID0gbmV3IEZlYXRoZXJzSG9va01hbmFnZXIoYXBwLCBtZXRob2QpKS5wYXJhbXMuYXBwbHkoX0ZlYXRoZXJzSG9va01hbmFnZXIsIF90b0NvbnN1bWFibGVBcnJheShwYXJhbXMpKS5wcm9wcyh7XG4gICAgICBhcHA6IGFwcCxcbiAgICAgIHBhdGg6IHBhdGgsXG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHNlcnZpY2U6IHNlcnZpY2UsXG4gICAgICBldmVudDogbnVsbCxcbiAgICAgIHR5cGU6IG51bGxcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzO1xuICB9LCB7fSk7XG4gIHZhciBoYW5kbGVMZWdhY3lIb29rcyA9ICgwLCBsZWdhY3lfMS5lbmFibGVMZWdhY3lIb29rcykoc2VydmljZSk7XG4gICgwLCBkZXBlbmRlbmNpZXNfMS5ob29rcykoc2VydmljZSwgc2VydmljZU1ldGhvZEhvb2tzKTtcblxuICBzZXJ2aWNlLmhvb2tzID0gZnVuY3Rpb24gKGhvb2tPcHRpb25zKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICBpZiAoaG9va09wdGlvbnMuYmVmb3JlIHx8IGhvb2tPcHRpb25zLmFmdGVyIHx8IGhvb2tPcHRpb25zLmVycm9yKSB7XG4gICAgICByZXR1cm4gaGFuZGxlTGVnYWN5SG9va3MuY2FsbCh0aGlzLCBob29rT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaG9va09wdGlvbnMpKSB7XG4gICAgICByZXR1cm4gKDAsIGRlcGVuZGVuY2llc18xLmhvb2tzKSh0aGlzLCBob29rT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgT2JqZWN0LmtleXMoaG9va09wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgdmFyIG1hbmFnZXIgPSAoMCwgZGVwZW5kZW5jaWVzXzEuZ2V0TWFuYWdlcikoX3RoaXMyW21ldGhvZF0pO1xuXG4gICAgICBpZiAoIShtYW5hZ2VyIGluc3RhbmNlb2YgRmVhdGhlcnNIb29rTWFuYWdlcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIFwiLmNvbmNhdChtZXRob2QsIFwiIGlzIG5vdCBhIEZlYXRoZXJzIGhvb2tzIGVuYWJsZWQgc2VydmljZSBtZXRob2RcIikpO1xuICAgICAgfVxuXG4gICAgICBtYW5hZ2VyLm1pZGRsZXdhcmUoaG9va09wdGlvbnNbbWV0aG9kXSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgcmV0dXJuIHNlcnZpY2U7XG59XG5cbmV4cG9ydHMuaG9va01peGluID0gaG9va01peGluO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuLi9mZWF0aGVycy9saWIvaG9va3MvbGVnYWN5LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi4vZmVhdGhlcnMvbGliL2hvb2tzL2xlZ2FjeS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7IGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1tcIkBAaXRlcmF0b3JcIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbmV4cG9ydHMuZW5hYmxlTGVnYWN5SG9va3MgPSBleHBvcnRzLmNvbnZlcnRIb29rRGF0YSA9IGV4cG9ydHMuY29sbGVjdExlZ2FjeUhvb2tzID0gZXhwb3J0cy5mcm9tRXJyb3JIb29rcyA9IGV4cG9ydHMuZnJvbUFmdGVySG9vayA9IGV4cG9ydHMuZnJvbUJlZm9yZUhvb2sgPSB2b2lkIDA7XG5cbnZhciBkZXBlbmRlbmNpZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2RlcGVuZGVuY2llcyAqLyBcIi4uL2ZlYXRoZXJzL2xpYi9kZXBlbmRlbmNpZXMuanNcIik7XG5cbnZhciBlYWNoID0gZGVwZW5kZW5jaWVzXzEuXy5lYWNoO1xuXG5mdW5jdGlvbiBmcm9tQmVmb3JlSG9vayhob29rKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoY29udGV4dCwgbmV4dCkge1xuICAgIGNvbnRleHQudHlwZSA9ICdiZWZvcmUnO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaG9vay5jYWxsKGNvbnRleHQuc2VsZiwgY29udGV4dCkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY29udGV4dC50eXBlID0gbnVsbDtcbiAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfSk7XG4gIH07XG59XG5cbmV4cG9ydHMuZnJvbUJlZm9yZUhvb2sgPSBmcm9tQmVmb3JlSG9vaztcblxuZnVuY3Rpb24gZnJvbUFmdGVySG9vayhob29rKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoY29udGV4dCwgbmV4dCkge1xuICAgIHJldHVybiBuZXh0KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBjb250ZXh0LnR5cGUgPSAnYWZ0ZXInO1xuICAgICAgcmV0dXJuIGhvb2suY2FsbChjb250ZXh0LnNlbGYsIGNvbnRleHQpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY29udGV4dC50eXBlID0gbnVsbDtcbiAgICB9KTtcbiAgfTtcbn1cblxuZXhwb3J0cy5mcm9tQWZ0ZXJIb29rID0gZnJvbUFmdGVySG9vaztcblxuZnVuY3Rpb24gZnJvbUVycm9ySG9va3MoaG9va3MpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChjb250ZXh0LCBuZXh0KSB7XG4gICAgcmV0dXJuIG5leHQoKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICBjb250ZXh0Lm9yaWdpbmFsID0gX29iamVjdFNwcmVhZCh7fSwgY29udGV4dCk7XG4gICAgICBjb250ZXh0LmVycm9yID0gZXJyb3I7XG4gICAgICBjb250ZXh0LnR5cGUgPSAnZXJyb3InO1xuICAgICAgZGVsZXRlIGNvbnRleHQucmVzdWx0O1xuXG4gICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoaG9va3MpLFxuICAgICAgICAgIF9zdGVwO1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcCgpIHtcbiAgICAgICAgICB2YXIgaG9vayA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvb2suY2FsbChjb250ZXh0LnNlbGYsIGNvbnRleHQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgX2xvb3AoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvci5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29udGV4dC50eXBlID0gbnVsbDtcblxuICAgICAgICBpZiAoY29udGV4dC5yZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IGNvbnRleHQuZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xufVxuXG5leHBvcnRzLmZyb21FcnJvckhvb2tzID0gZnJvbUVycm9ySG9va3M7XG5cbmZ1bmN0aW9uIGNvbGxlY3RMZWdhY3lIb29rcyh0YXJnZXQsIG1ldGhvZCkge1xuICB2YXIgX3RhcmdldCRfX2hvb2tzID0gdGFyZ2V0Ll9faG9va3MsXG4gICAgICBfdGFyZ2V0JF9faG9va3MkYmVmb3IgPSBfdGFyZ2V0JF9faG9va3MuYmVmb3JlW21ldGhvZF0sXG4gICAgICBiZWZvcmUgPSBfdGFyZ2V0JF9faG9va3MkYmVmb3IgPT09IHZvaWQgMCA/IFtdIDogX3RhcmdldCRfX2hvb2tzJGJlZm9yLFxuICAgICAgX3RhcmdldCRfX2hvb2tzJGFmdGVyID0gX3RhcmdldCRfX2hvb2tzLmFmdGVyW21ldGhvZF0sXG4gICAgICBhZnRlciA9IF90YXJnZXQkX19ob29rcyRhZnRlciA9PT0gdm9pZCAwID8gW10gOiBfdGFyZ2V0JF9faG9va3MkYWZ0ZXIsXG4gICAgICBfdGFyZ2V0JF9faG9va3MkZXJyb3IgPSBfdGFyZ2V0JF9faG9va3MuZXJyb3JbbWV0aG9kXSxcbiAgICAgIGVycm9yID0gX3RhcmdldCRfX2hvb2tzJGVycm9yID09PSB2b2lkIDAgPyBbXSA6IF90YXJnZXQkX19ob29rcyRlcnJvcjtcbiAgdmFyIGJlZm9yZUhvb2tzID0gYmVmb3JlO1xuXG4gIHZhciBhZnRlckhvb2tzID0gX3RvQ29uc3VtYWJsZUFycmF5KGFmdGVyKS5yZXZlcnNlKCk7XG5cbiAgdmFyIGVycm9ySG9vayA9IGZyb21FcnJvckhvb2tzKGVycm9yKTtcbiAgcmV0dXJuIFtlcnJvckhvb2tdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYmVmb3JlSG9va3MpLCBfdG9Db25zdW1hYmxlQXJyYXkoYWZ0ZXJIb29rcykpO1xufVxuXG5leHBvcnRzLmNvbGxlY3RMZWdhY3lIb29rcyA9IGNvbGxlY3RMZWdhY3lIb29rczsgLy8gQ29udmVydHMgZGlmZmVyZW50IGhvb2sgcmVnaXN0cmF0aW9uIGZvcm1hdHMgaW50byB0aGVcbi8vIHNhbWUgaW50ZXJuYWwgZm9ybWF0XG5cbmZ1bmN0aW9uIGNvbnZlcnRIb29rRGF0YShvYmopIHtcbiAgdmFyIGhvb2sgPSB7fTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgaG9vayA9IHtcbiAgICAgIGFsbDogb2JqXG4gICAgfTtcbiAgfSBlbHNlIGlmIChfdHlwZW9mKG9iaikgIT09ICdvYmplY3QnKSB7XG4gICAgaG9vayA9IHtcbiAgICAgIGFsbDogW29ial1cbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGVhY2gob2JqLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgaG9va1trZXldID0gIUFycmF5LmlzQXJyYXkodmFsdWUpID8gW3ZhbHVlXSA6IHZhbHVlO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGhvb2s7XG59XG5cbmV4cG9ydHMuY29udmVydEhvb2tEYXRhID0gY29udmVydEhvb2tEYXRhOyAvLyBBZGQgYC5ob29rc2AgZnVuY3Rpb25hbGl0eSB0byBhbiBvYmplY3RcblxuZnVuY3Rpb24gZW5hYmxlTGVnYWN5SG9va3Mob2JqKSB7XG4gIHZhciBtZXRob2RzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbJ2ZpbmQnLCAnZ2V0JywgJ2NyZWF0ZScsICd1cGRhdGUnLCAncGF0Y2gnLCAncmVtb3ZlJ107XG4gIHZhciB0eXBlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogWydiZWZvcmUnLCAnYWZ0ZXInLCAnZXJyb3InXTtcbiAgdmFyIGhvb2tEYXRhID0ge307XG4gIHR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAvLyBJbml0aWFsaXplIHByb3BlcnRpZXMgd2hlcmUgaG9vayBmdW5jdGlvbnMgYXJlIHN0b3JlZFxuICAgIGhvb2tEYXRhW3R5cGVdID0ge307XG4gIH0pOyAvLyBBZGQgbm9uLWVudW1lcmFibGUgYF9faG9va3NgIHByb3BlcnR5IHRvIHRoZSBvYmplY3RcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAnX19ob29rcycsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgdmFsdWU6IGhvb2tEYXRhLFxuICAgIHdyaXRhYmxlOiB0cnVlXG4gIH0pO1xuICByZXR1cm4gZnVuY3Rpb24gbGVnYWN5SG9va3MoYWxsSG9va3MpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgZWFjaChhbGxIb29rcywgZnVuY3Rpb24gKGN1cnJlbnQsIHR5cGUpIHtcbiAgICAgIGlmICghX3RoaXMuX19ob29rc1t0eXBlXSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInXCIuY29uY2F0KHR5cGUsIFwiJyBpcyBub3QgYSB2YWxpZCBob29rIHR5cGVcIikpO1xuICAgICAgfVxuXG4gICAgICB2YXIgaG9va3MgPSBjb252ZXJ0SG9va0RhdGEoY3VycmVudCk7XG4gICAgICBlYWNoKGhvb2tzLCBmdW5jdGlvbiAoX3ZhbHVlLCBtZXRob2QpIHtcbiAgICAgICAgaWYgKG1ldGhvZCAhPT0gJ2FsbCcgJiYgbWV0aG9kcy5pbmRleE9mKG1ldGhvZCkgPT09IC0xKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ1wiLmNvbmNhdChtZXRob2QsIFwiJyBpcyBub3QgYSB2YWxpZCBob29rIG1ldGhvZFwiKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICAgICAgdmFyIF90aGlzJF9faG9va3MkdHlwZSRtZTtcblxuICAgICAgICB2YXIgY3VycmVudEhvb2tzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShob29rcy5hbGwgfHwgW10pLCBfdG9Db25zdW1hYmxlQXJyYXkoaG9va3NbbWV0aG9kXSB8fCBbXSkpO1xuICAgICAgICBfdGhpcy5fX2hvb2tzW3R5cGVdW21ldGhvZF0gPSBfdGhpcy5fX2hvb2tzW3R5cGVdW21ldGhvZF0gfHwgW107XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdiZWZvcmUnKSB7XG4gICAgICAgICAgY3VycmVudEhvb2tzID0gY3VycmVudEhvb2tzLm1hcChmcm9tQmVmb3JlSG9vayk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZSA9PT0gJ2FmdGVyJykge1xuICAgICAgICAgIGN1cnJlbnRIb29rcyA9IGN1cnJlbnRIb29rcy5tYXAoZnJvbUFmdGVySG9vayk7XG4gICAgICAgIH1cblxuICAgICAgICAoX3RoaXMkX19ob29rcyR0eXBlJG1lID0gX3RoaXMuX19ob29rc1t0eXBlXVttZXRob2RdKS5wdXNoLmFwcGx5KF90aGlzJF9faG9va3MkdHlwZSRtZSwgX3RvQ29uc3VtYWJsZUFycmF5KGN1cnJlbnRIb29rcykpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG59XG5cbmV4cG9ydHMuZW5hYmxlTGVnYWN5SG9va3MgPSBlbmFibGVMZWdhY3lIb29rcztcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vZmVhdGhlcnMvbGliL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuLi9mZWF0aGVycy9saWIvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgX19jcmVhdGVCaW5kaW5nID0gdGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZyB8fCAoT2JqZWN0LmNyZWF0ZSA/IGZ1bmN0aW9uIChvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIG1ba107XG4gICAgfVxuICB9KTtcbn0gOiBmdW5jdGlvbiAobywgbSwgaywgazIpIHtcbiAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgb1trMl0gPSBtW2tdO1xufSk7XG5cbnZhciBfX2V4cG9ydFN0YXIgPSB0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyIHx8IGZ1bmN0aW9uIChtLCBleHBvcnRzKSB7XG4gIGZvciAodmFyIHAgaW4gbSkge1xuICAgIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG4gIH1cbn07XG5cbnZhciBfX2ltcG9ydERlZmF1bHQgPSB0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0IHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgcmV0dXJuIG1vZCAmJiBtb2QuX19lc01vZHVsZSA/IG1vZCA6IHtcbiAgICBcImRlZmF1bHRcIjogbW9kXG4gIH07XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLkZlYXRoZXJzID0gZXhwb3J0cy52ZXJzaW9uID0gZXhwb3J0cy5mZWF0aGVycyA9IHZvaWQgMDtcblxudmFyIGRlcGVuZGVuY2llc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kZXBlbmRlbmNpZXMgKi8gXCIuLi9mZWF0aGVycy9saWIvZGVwZW5kZW5jaWVzLmpzXCIpO1xuXG52YXIgdmVyc2lvbl8xID0gX19pbXBvcnREZWZhdWx0KF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdmVyc2lvbiAqLyBcIi4uL2ZlYXRoZXJzL2xpYi92ZXJzaW9uLmpzXCIpKTtcblxuZXhwb3J0cy52ZXJzaW9uID0gdmVyc2lvbl8xLmRlZmF1bHQ7XG5cbnZhciBhcHBsaWNhdGlvbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9hcHBsaWNhdGlvbiAqLyBcIi4uL2ZlYXRoZXJzL2xpYi9hcHBsaWNhdGlvbi5qc1wiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiRmVhdGhlcnNcIiwgKHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIGFwcGxpY2F0aW9uXzEuRmVhdGhlcnM7XG4gIH1cbn0pKTtcblxuZnVuY3Rpb24gZmVhdGhlcnMoKSB7XG4gIHJldHVybiBuZXcgYXBwbGljYXRpb25fMS5GZWF0aGVycygpO1xufVxuXG5leHBvcnRzLmZlYXRoZXJzID0gZmVhdGhlcnM7XG5mZWF0aGVycy5zZXREZWJ1ZyA9IGRlcGVuZGVuY2llc18xLnNldERlYnVnO1xuXG5fX2V4cG9ydFN0YXIoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9ob29rcy9pbmRleCAqLyBcIi4uL2ZlYXRoZXJzL2xpYi9ob29rcy9pbmRleC5qc1wiKSwgZXhwb3J0cyk7XG5cbl9fZXhwb3J0U3RhcihfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RlY2xhcmF0aW9ucyAqLyBcIi4uL2ZlYXRoZXJzL2xpYi9kZWNsYXJhdGlvbnMuanNcIiksIGV4cG9ydHMpO1xuXG5fX2V4cG9ydFN0YXIoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zZXJ2aWNlICovIFwiLi4vZmVhdGhlcnMvbGliL3NlcnZpY2UuanNcIiksIGV4cG9ydHMpO1xuXG5pZiAodHJ1ZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24oZmVhdGhlcnMsIG1vZHVsZS5leHBvcnRzKTtcbn1cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vZmVhdGhlcnMvbGliL3NlcnZpY2UuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi4vZmVhdGhlcnMvbGliL3NlcnZpY2UuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24oX191bnVzZWRfd2VicGFja19tb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLndyYXBTZXJ2aWNlID0gZXhwb3J0cy5nZXRTZXJ2aWNlT3B0aW9ucyA9IGV4cG9ydHMuZ2V0SG9va01ldGhvZHMgPSBleHBvcnRzLnByb3RlY3RlZE1ldGhvZHMgPSBleHBvcnRzLmRlZmF1bHRFdmVudE1hcCA9IGV4cG9ydHMuZGVmYXVsdFNlcnZpY2VNZXRob2RzID0gZXhwb3J0cy5kZWZhdWx0U2VydmljZUFyZ3VtZW50cyA9IGV4cG9ydHMuU0VSVklDRSA9IHZvaWQgMDtcblxudmFyIGRlcGVuZGVuY2llc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kZXBlbmRlbmNpZXMgKi8gXCIuLi9mZWF0aGVycy9saWIvZGVwZW5kZW5jaWVzLmpzXCIpO1xuXG5leHBvcnRzLlNFUlZJQ0UgPSAoMCwgZGVwZW5kZW5jaWVzXzEuY3JlYXRlU3ltYm9sKSgnQGZlYXRoZXJzanMvc2VydmljZScpO1xuZXhwb3J0cy5kZWZhdWx0U2VydmljZUFyZ3VtZW50cyA9IHtcbiAgZmluZDogWydwYXJhbXMnXSxcbiAgZ2V0OiBbJ2lkJywgJ3BhcmFtcyddLFxuICBjcmVhdGU6IFsnZGF0YScsICdwYXJhbXMnXSxcbiAgdXBkYXRlOiBbJ2lkJywgJ2RhdGEnLCAncGFyYW1zJ10sXG4gIHBhdGNoOiBbJ2lkJywgJ2RhdGEnLCAncGFyYW1zJ10sXG4gIHJlbW92ZTogWydpZCcsICdwYXJhbXMnXVxufTtcbmV4cG9ydHMuZGVmYXVsdFNlcnZpY2VNZXRob2RzID0gT2JqZWN0LmtleXMoZXhwb3J0cy5kZWZhdWx0U2VydmljZUFyZ3VtZW50cyk7XG5leHBvcnRzLmRlZmF1bHRFdmVudE1hcCA9IHtcbiAgY3JlYXRlOiAnY3JlYXRlZCcsXG4gIHVwZGF0ZTogJ3VwZGF0ZWQnLFxuICBwYXRjaDogJ3BhdGNoZWQnLFxuICByZW1vdmU6ICdyZW1vdmVkJ1xufTtcbmV4cG9ydHMucHJvdGVjdGVkTWV0aG9kcyA9IE9iamVjdC5rZXlzKE9iamVjdC5wcm90b3R5cGUpLmNvbmNhdChPYmplY3Qua2V5cyhkZXBlbmRlbmNpZXNfMS5FdmVudEVtaXR0ZXIucHJvdG90eXBlKSkuY29uY2F0KFsnYmVmb3JlJywgJ2FmdGVyJywgJ2Vycm9yJywgJ2hvb2tzJywgJ3NldHVwJywgJ3B1Ymxpc2gnXSk7XG5cbmZ1bmN0aW9uIGdldEhvb2tNZXRob2RzKHNlcnZpY2UsIG9wdGlvbnMpIHtcbiAgdmFyIG1ldGhvZHMgPSBvcHRpb25zLm1ldGhvZHM7XG4gIHJldHVybiBleHBvcnRzLmRlZmF1bHRTZXJ2aWNlTWV0aG9kcy5maWx0ZXIoZnVuY3Rpb24gKG0pIHtcbiAgICByZXR1cm4gdHlwZW9mIHNlcnZpY2VbbV0gPT09ICdmdW5jdGlvbicgJiYgIW1ldGhvZHMuaW5jbHVkZXMobSk7XG4gIH0pLmNvbmNhdChtZXRob2RzKTtcbn1cblxuZXhwb3J0cy5nZXRIb29rTWV0aG9kcyA9IGdldEhvb2tNZXRob2RzO1xuXG5mdW5jdGlvbiBnZXRTZXJ2aWNlT3B0aW9ucyhzZXJ2aWNlKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgdmFyIGV4aXN0aW5nT3B0aW9ucyA9IHNlcnZpY2VbZXhwb3J0cy5TRVJWSUNFXTtcblxuICBpZiAoZXhpc3RpbmdPcHRpb25zKSB7XG4gICAgcmV0dXJuIGV4aXN0aW5nT3B0aW9ucztcbiAgfVxuXG4gIHZhciBfb3B0aW9ucyRtZXRob2RzID0gb3B0aW9ucy5tZXRob2RzLFxuICAgICAgbWV0aG9kcyA9IF9vcHRpb25zJG1ldGhvZHMgPT09IHZvaWQgMCA/IGV4cG9ydHMuZGVmYXVsdFNlcnZpY2VNZXRob2RzLmZpbHRlcihmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBzZXJ2aWNlW21ldGhvZF0gPT09ICdmdW5jdGlvbic7XG4gIH0pIDogX29wdGlvbnMkbWV0aG9kcyxcbiAgICAgIF9vcHRpb25zJGV2ZW50cyA9IG9wdGlvbnMuZXZlbnRzLFxuICAgICAgZXZlbnRzID0gX29wdGlvbnMkZXZlbnRzID09PSB2b2lkIDAgPyBzZXJ2aWNlLmV2ZW50cyB8fCBbXSA6IF9vcHRpb25zJGV2ZW50cztcbiAgdmFyIF9vcHRpb25zJHNlcnZpY2VFdmVudCA9IG9wdGlvbnMuc2VydmljZUV2ZW50cyxcbiAgICAgIHNlcnZpY2VFdmVudHMgPSBfb3B0aW9ucyRzZXJ2aWNlRXZlbnQgPT09IHZvaWQgMCA/IE9iamVjdC52YWx1ZXMoZXhwb3J0cy5kZWZhdWx0RXZlbnRNYXApLmNvbmNhdChldmVudHMpIDogX29wdGlvbnMkc2VydmljZUV2ZW50O1xuICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zKSwge30sIHtcbiAgICBldmVudHM6IGV2ZW50cyxcbiAgICBtZXRob2RzOiBtZXRob2RzLFxuICAgIHNlcnZpY2VFdmVudHM6IHNlcnZpY2VFdmVudHNcbiAgfSk7XG59XG5cbmV4cG9ydHMuZ2V0U2VydmljZU9wdGlvbnMgPSBnZXRTZXJ2aWNlT3B0aW9ucztcblxuZnVuY3Rpb24gd3JhcFNlcnZpY2UobG9jYXRpb24sIHNlcnZpY2UsIG9wdGlvbnMpIHtcbiAgLy8gRG8gbm90aGluZyBpZiB0aGlzIGlzIGFscmVhZHkgYW4gaW5pdGlhbGl6ZWRcbiAgaWYgKHNlcnZpY2VbZXhwb3J0cy5TRVJWSUNFXSkge1xuICAgIHJldHVybiBzZXJ2aWNlO1xuICB9XG5cbiAgdmFyIHByb3RvU2VydmljZSA9IE9iamVjdC5jcmVhdGUoc2VydmljZSk7XG4gIHZhciBzZXJ2aWNlT3B0aW9ucyA9IGdldFNlcnZpY2VPcHRpb25zKHNlcnZpY2UsIG9wdGlvbnMpO1xuXG4gIGlmIChPYmplY3Qua2V5cyhzZXJ2aWNlT3B0aW9ucy5tZXRob2RzKS5sZW5ndGggPT09IDAgJiYgdHlwZW9mIHNlcnZpY2Uuc2V0dXAgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNlcnZpY2Ugb2JqZWN0IHBhc3NlZCBmb3IgcGF0aCBgXCIuY29uY2F0KGxvY2F0aW9uLCBcImBcIikpO1xuICB9XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvU2VydmljZSwgZXhwb3J0cy5TRVJWSUNFLCB7XG4gICAgdmFsdWU6IHNlcnZpY2VPcHRpb25zXG4gIH0pO1xuICByZXR1cm4gcHJvdG9TZXJ2aWNlO1xufVxuXG5leHBvcnRzLndyYXBTZXJ2aWNlID0gd3JhcFNlcnZpY2U7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4uL2ZlYXRoZXJzL2xpYi92ZXJzaW9uLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4uL2ZlYXRoZXJzL2xpYi92ZXJzaW9uLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gJ2RldmVsb3BtZW50JztcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vcmVzdC1jbGllbnQvbGliL2F4aW9zLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuLi9yZXN0LWNsaWVudC9saWIvYXhpb3MuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbmV4cG9ydHMuQXhpb3NDbGllbnQgPSB2b2lkIDA7XG5cbnZhciBiYXNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Jhc2UgKi8gXCIuLi9yZXN0LWNsaWVudC9saWIvYmFzZS5qc1wiKTtcblxudmFyIEF4aW9zQ2xpZW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfYmFzZV8xJEJhc2UpIHtcbiAgX2luaGVyaXRzKEF4aW9zQ2xpZW50LCBfYmFzZV8xJEJhc2UpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQXhpb3NDbGllbnQpO1xuXG4gIGZ1bmN0aW9uIEF4aW9zQ2xpZW50KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBeGlvc0NsaWVudCk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQXhpb3NDbGllbnQsIFt7XG4gICAga2V5OiBcInJlcXVlc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVxdWVzdChvcHRpb25zLCBwYXJhbXMpIHtcbiAgICAgIHZhciBjb25maWcgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgdXJsOiBvcHRpb25zLnVybCxcbiAgICAgICAgbWV0aG9kOiBvcHRpb25zLm1ldGhvZCxcbiAgICAgICAgZGF0YTogb3B0aW9ucy5ib2R5LFxuICAgICAgICBoZWFkZXJzOiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMuaGVhZGVycywgb3B0aW9ucy5oZWFkZXJzKVxuICAgICAgfSwgcGFyYW1zLmNvbm5lY3Rpb24pO1xuICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5yZXF1ZXN0KGNvbmZpZykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHJldHVybiByZXMuZGF0YTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSBlcnJvci5yZXNwb25zZSB8fCBlcnJvcjtcbiAgICAgICAgdGhyb3cgcmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvciA/IHJlc3BvbnNlIDogcmVzcG9uc2UuZGF0YSB8fCByZXNwb25zZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBeGlvc0NsaWVudDtcbn0oYmFzZV8xLkJhc2UpO1xuXG5leHBvcnRzLkF4aW9zQ2xpZW50ID0gQXhpb3NDbGllbnQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4uL3Jlc3QtY2xpZW50L2xpYi9iYXNlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4uL3Jlc3QtY2xpZW50L2xpYi9iYXNlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxudmFyIF9faW1wb3J0RGVmYXVsdCA9IHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQgfHwgZnVuY3Rpb24gKG1vZCkge1xuICByZXR1cm4gbW9kICYmIG1vZC5fX2VzTW9kdWxlID8gbW9kIDoge1xuICAgIFwiZGVmYXVsdFwiOiBtb2RcbiAgfTtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbmV4cG9ydHMuQmFzZSA9IHZvaWQgMDtcblxudmFyIHFzXzEgPSBfX2ltcG9ydERlZmF1bHQoX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgcXMgKi8gXCIuLi8uLi9ub2RlX21vZHVsZXMvcXMvbGliL2luZGV4LmpzXCIpKTtcblxudmFyIGVycm9yc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgQGZlYXRoZXJzanMvZXJyb3JzICovIFwiLi4vZXJyb3JzL2xpYi9pbmRleC5qc1wiKTtcblxudmFyIGNvbW1vbnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIEBmZWF0aGVyc2pzL2NvbW1vbnMgKi8gXCIuLi9jb21tb25zL2xpYi9pbmRleC5qc1wiKTtcblxuZnVuY3Rpb24gdG9FcnJvcihlcnJvcikge1xuICBpZiAoZXJyb3IuY29kZSA9PT0gJ0VDT05OUkVGVVNFRCcpIHtcbiAgICB0aHJvdyBuZXcgZXJyb3JzXzEuVW5hdmFpbGFibGUoZXJyb3IubWVzc2FnZSwgY29tbW9uc18xLl8ucGljayhlcnJvciwgJ2FkZHJlc3MnLCAncG9ydCcsICdjb25maWcnKSk7XG4gIH1cblxuICB0aHJvdyAoMCwgZXJyb3JzXzEuY29udmVydCkoZXJyb3IpO1xufVxuXG52YXIgQmFzZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEJhc2Uoc2V0dGluZ3MpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQmFzZSk7XG5cbiAgICB0aGlzLm5hbWUgPSAoMCwgY29tbW9uc18xLnN0cmlwU2xhc2hlcykoc2V0dGluZ3MubmFtZSk7XG4gICAgdGhpcy5vcHRpb25zID0gc2V0dGluZ3Mub3B0aW9ucztcbiAgICB0aGlzLmNvbm5lY3Rpb24gPSBzZXR0aW5ncy5jb25uZWN0aW9uO1xuICAgIHRoaXMuYmFzZSA9IFwiXCIuY29uY2F0KHNldHRpbmdzLmJhc2UsIFwiL1wiKS5jb25jYXQodGhpcy5uYW1lKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhCYXNlLCBbe1xuICAgIGtleTogXCJtYWtlVXJsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1ha2VVcmwocXVlcnksIGlkKSB7XG4gICAgICB2YXIgdXJsID0gdGhpcy5iYXNlO1xuICAgICAgcXVlcnkgPSBxdWVyeSB8fCB7fTtcblxuICAgICAgaWYgKHR5cGVvZiBpZCAhPT0gJ3VuZGVmaW5lZCcgJiYgaWQgIT09IG51bGwpIHtcbiAgICAgICAgdXJsICs9IFwiL1wiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoaWQpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVybCArIHRoaXMuZ2V0UXVlcnkocXVlcnkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRRdWVyeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRRdWVyeShxdWVyeSkge1xuICAgICAgaWYgKE9iamVjdC5rZXlzKHF1ZXJ5KS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gcXNfMS5kZWZhdWx0LnN0cmluZ2lmeShxdWVyeSk7XG4gICAgICAgIHJldHVybiBcIj9cIi5jb25jYXQocXVlcnlTdHJpbmcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm1ldGhvZHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWV0aG9kcygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBuYW1lcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgbmFtZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIG5hbWVzLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgICBfdGhpc1ttZXRob2RdID0gZnVuY3Rpb24gKGJvZHkpIHtcbiAgICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgICAgICB1cmw6IHRoaXMubWFrZVVybChwYXJhbXMucXVlcnkpLFxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgJ1gtU2VydmljZS1NZXRob2QnOiBtZXRob2RcbiAgICAgICAgICAgIH0sIHBhcmFtcy5oZWFkZXJzKVxuICAgICAgICAgIH0sIHBhcmFtcykuY2F0Y2godG9FcnJvcik7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJmaW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmQoKSB7XG4gICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICB1cmw6IHRoaXMubWFrZVVybChwYXJhbXMucXVlcnkpLFxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBoZWFkZXJzOiBPYmplY3QuYXNzaWduKHt9LCBwYXJhbXMuaGVhZGVycylcbiAgICAgIH0sIHBhcmFtcykuY2F0Y2godG9FcnJvcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoaWQpIHtcbiAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdpZCBmb3IgXFwnZ2V0XFwnIGNhbiBub3QgYmUgdW5kZWZpbmVkJykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgdXJsOiB0aGlzLm1ha2VVcmwocGFyYW1zLnF1ZXJ5LCBpZCksXG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IE9iamVjdC5hc3NpZ24oe30sIHBhcmFtcy5oZWFkZXJzKVxuICAgICAgfSwgcGFyYW1zKS5jYXRjaCh0b0Vycm9yKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShib2R5KSB7XG4gICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3Qoe1xuICAgICAgICB1cmw6IHRoaXMubWFrZVVybChwYXJhbXMucXVlcnkpLFxuICAgICAgICBib2R5OiBib2R5LFxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9LCBwYXJhbXMuaGVhZGVycylcbiAgICAgIH0sIHBhcmFtcykuY2F0Y2godG9FcnJvcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoaWQsIGJvZHkpIHtcbiAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuXG4gICAgICBpZiAodHlwZW9mIGlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdpZCBmb3IgXFwndXBkYXRlXFwnIGNhbiBub3QgYmUgdW5kZWZpbmVkLCBvbmx5IFxcJ251bGxcXCcgd2hlbiB1cGRhdGluZyBtdWx0aXBsZSBlbnRyaWVzJykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgdXJsOiB0aGlzLm1ha2VVcmwocGFyYW1zLnF1ZXJ5LCBpZCksXG4gICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGhlYWRlcnM6IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgfSwgcGFyYW1zLmhlYWRlcnMpXG4gICAgICB9LCBwYXJhbXMpLmNhdGNoKHRvRXJyb3IpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwYXRjaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYXRjaChpZCwgYm9keSkge1xuICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG5cbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ2lkIGZvciBcXCdwYXRjaFxcJyBjYW4gbm90IGJlIHVuZGVmaW5lZCwgb25seSBcXCdudWxsXFwnIHdoZW4gdXBkYXRpbmcgbXVsdGlwbGUgZW50cmllcycpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7XG4gICAgICAgIHVybDogdGhpcy5tYWtlVXJsKHBhcmFtcy5xdWVyeSwgaWQpLFxuICAgICAgICBib2R5OiBib2R5LFxuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIGhlYWRlcnM6IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgfSwgcGFyYW1zLmhlYWRlcnMpXG4gICAgICB9LCBwYXJhbXMpLmNhdGNoKHRvRXJyb3IpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKGlkKSB7XG4gICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignaWQgZm9yIFxcJ3JlbW92ZVxcJyBjYW4gbm90IGJlIHVuZGVmaW5lZCwgb25seSBcXCdudWxsXFwnIHdoZW4gcmVtb3ZpbmcgbXVsdGlwbGUgZW50cmllcycpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7XG4gICAgICAgIHVybDogdGhpcy5tYWtlVXJsKHBhcmFtcy5xdWVyeSwgaWQpLFxuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICBoZWFkZXJzOiBPYmplY3QuYXNzaWduKHt9LCBwYXJhbXMuaGVhZGVycylcbiAgICAgIH0sIHBhcmFtcykuY2F0Y2godG9FcnJvcik7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEJhc2U7XG59KCk7XG5cbmV4cG9ydHMuQmFzZSA9IEJhc2U7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4uL3Jlc3QtY2xpZW50L2xpYi9mZXRjaC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi4vcmVzdC1jbGllbnQvbGliL2ZldGNoLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihfX3VudXNlZF93ZWJwYWNrX21vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyB9IHJldHVybiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpOyB9XG5cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikgeyBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gc2VsZjsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLkZldGNoQ2xpZW50ID0gdm9pZCAwO1xuXG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBAZmVhdGhlcnNqcy9lcnJvcnMgKi8gXCIuLi9lcnJvcnMvbGliL2luZGV4LmpzXCIpO1xuXG52YXIgYmFzZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9iYXNlICovIFwiLi4vcmVzdC1jbGllbnQvbGliL2Jhc2UuanNcIik7XG5cbnZhciBGZXRjaENsaWVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX2Jhc2VfMSRCYXNlKSB7XG4gIF9pbmhlcml0cyhGZXRjaENsaWVudCwgX2Jhc2VfMSRCYXNlKTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEZldGNoQ2xpZW50KTtcblxuICBmdW5jdGlvbiBGZXRjaENsaWVudCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmV0Y2hDbGllbnQpO1xuXG4gICAgcmV0dXJuIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEZldGNoQ2xpZW50LCBbe1xuICAgIGtleTogXCJyZXF1ZXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlcXVlc3Qob3B0aW9ucywgcGFyYW1zKSB7XG4gICAgICB2YXIgZmV0Y2hPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywgcGFyYW1zLmNvbm5lY3Rpb24pO1xuICAgICAgZmV0Y2hPcHRpb25zLmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgIH0sIHRoaXMub3B0aW9ucy5oZWFkZXJzLCBmZXRjaE9wdGlvbnMuaGVhZGVycyk7XG5cbiAgICAgIGlmIChvcHRpb25zLmJvZHkpIHtcbiAgICAgICAgZmV0Y2hPcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeShvcHRpb25zLmJvZHkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uKG9wdGlvbnMudXJsLCBmZXRjaE9wdGlvbnMpLnRoZW4odGhpcy5jaGVja1N0YXR1cykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNoZWNrU3RhdHVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrU3RhdHVzKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIEVycm9yQ2xhc3MgPSBlcnJvcnNfMS5lcnJvcnNbcmVzcG9uc2Uuc3RhdHVzXSB8fCBFcnJvcjtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvckNsYXNzKCdKU09OIHBhcnNpbmcgZXJyb3InKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEZldGNoQ2xpZW50O1xufShiYXNlXzEuQmFzZSk7XG5cbmV4cG9ydHMuRmV0Y2hDbGllbnQgPSBGZXRjaENsaWVudDtcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vcmVzdC1jbGllbnQvbGliL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuLi9yZXN0LWNsaWVudC9saWIvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7XG4gIHZhbHVlOiB0cnVlXG59KSk7XG5leHBvcnRzLlN1cGVyYWdlbnRDbGllbnQgPSBleHBvcnRzLkZldGNoQ2xpZW50ID0gZXhwb3J0cy5BeGlvc0NsaWVudCA9IHZvaWQgMDtcblxudmFyIGJhc2VfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYmFzZSAqLyBcIi4uL3Jlc3QtY2xpZW50L2xpYi9iYXNlLmpzXCIpO1xuXG52YXIgYXhpb3NfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYXhpb3MgKi8gXCIuLi9yZXN0LWNsaWVudC9saWIvYXhpb3MuanNcIik7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkF4aW9zQ2xpZW50XCIsICh7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBheGlvc18xLkF4aW9zQ2xpZW50O1xuICB9XG59KSk7XG5cbnZhciBmZXRjaF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9mZXRjaCAqLyBcIi4uL3Jlc3QtY2xpZW50L2xpYi9mZXRjaC5qc1wiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiRmV0Y2hDbGllbnRcIiwgKHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIGZldGNoXzEuRmV0Y2hDbGllbnQ7XG4gIH1cbn0pKTtcblxudmFyIHN1cGVyYWdlbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3VwZXJhZ2VudCAqLyBcIi4uL3Jlc3QtY2xpZW50L2xpYi9zdXBlcmFnZW50LmpzXCIpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTdXBlcmFnZW50Q2xpZW50XCIsICh7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBzdXBlcmFnZW50XzEuU3VwZXJhZ2VudENsaWVudDtcbiAgfVxufSkpO1xudmFyIHRyYW5zcG9ydHMgPSB7XG4gIHN1cGVyYWdlbnQ6IHN1cGVyYWdlbnRfMS5TdXBlcmFnZW50Q2xpZW50LFxuICBmZXRjaDogZmV0Y2hfMS5GZXRjaENsaWVudCxcbiAgYXhpb3M6IGF4aW9zXzEuQXhpb3NDbGllbnRcbn07XG5cbmZ1bmN0aW9uIHJlc3RDbGllbnQoKSB7XG4gIHZhciBiYXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgdmFyIHJlc3VsdCA9IHtcbiAgICBCYXNlOiBiYXNlXzEuQmFzZVxuICB9O1xuICBPYmplY3Qua2V5cyh0cmFuc3BvcnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXN1bHRba2V5XSA9IGZ1bmN0aW9uIChjb25uZWN0aW9uKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICB2YXIgU2VydmljZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJhbnNwb3J0c1trZXldO1xuXG4gICAgICBpZiAoIWNvbm5lY3Rpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KGtleSwgXCIgaGFzIHRvIGJlIHByb3ZpZGVkIHRvIGZlYXRoZXJzLXJlc3RcIikpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgU2VydmljZSA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgdmFyIGRlZmF1bHRTZXJ2aWNlID0gZnVuY3Rpb24gZGVmYXVsdFNlcnZpY2UobmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IFNlcnZpY2Uoe1xuICAgICAgICAgIGJhc2U6IGJhc2UsXG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICBjb25uZWN0aW9uOiBjb25uZWN0aW9uLFxuICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIGluaXRpYWxpemUoYXBwKSB7XG4gICAgICAgIGlmIChhcHAucmVzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IG9uZSBkZWZhdWx0IGNsaWVudCBwcm92aWRlciBjYW4gYmUgY29uZmlndXJlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXBwLnJlc3QgPSBjb25uZWN0aW9uO1xuICAgICAgICBhcHAuZGVmYXVsdFNlcnZpY2UgPSBkZWZhdWx0U2VydmljZTtcbiAgICAgIH07XG5cbiAgICAgIGluaXRpYWxpemUuU2VydmljZSA9IFNlcnZpY2U7XG4gICAgICBpbml0aWFsaXplLnNlcnZpY2UgPSBkZWZhdWx0U2VydmljZTtcbiAgICAgIHJldHVybiBpbml0aWFsaXplO1xuICAgIH07XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHJlc3RDbGllbnQ7XG5cbmlmICh0cnVlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbihyZXN0Q2xpZW50LCBtb2R1bGUuZXhwb3J0cyk7XG59XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4uL3Jlc3QtY2xpZW50L2xpYi9zdXBlcmFnZW50LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4uL3Jlc3QtY2xpZW50L2xpYi9zdXBlcmFnZW50LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7IHJldHVybiBjYWxsOyB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKFJlZmxlY3QuY29uc3RydWN0KEJvb2xlYW4sIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2YobykgeyByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pOyB9OyByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pOyB9XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcbmV4cG9ydHMuU3VwZXJhZ2VudENsaWVudCA9IHZvaWQgMDtcblxudmFyIGJhc2VfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYmFzZSAqLyBcIi4uL3Jlc3QtY2xpZW50L2xpYi9iYXNlLmpzXCIpO1xuXG52YXIgU3VwZXJhZ2VudENsaWVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX2Jhc2VfMSRCYXNlKSB7XG4gIF9pbmhlcml0cyhTdXBlcmFnZW50Q2xpZW50LCBfYmFzZV8xJEJhc2UpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoU3VwZXJhZ2VudENsaWVudCk7XG5cbiAgZnVuY3Rpb24gU3VwZXJhZ2VudENsaWVudCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3VwZXJhZ2VudENsaWVudCk7XG5cbiAgICByZXR1cm4gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU3VwZXJhZ2VudENsaWVudCwgW3tcbiAgICBrZXk6IFwicmVxdWVzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXF1ZXN0KG9wdGlvbnMsIHBhcmFtcykge1xuICAgICAgdmFyIHN1cGVyYWdlbnQgPSB0aGlzLmNvbm5lY3Rpb24ob3B0aW9ucy5tZXRob2QsIG9wdGlvbnMudXJsKS5zZXQodGhpcy5vcHRpb25zLmhlYWRlcnMgfHwge30pLnNldCgnQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKS5zZXQocGFyYW1zLmNvbm5lY3Rpb24gfHwge30pLnNldChvcHRpb25zLmhlYWRlcnMgfHwge30pLnR5cGUob3B0aW9ucy50eXBlIHx8ICdqc29uJyk7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzdXBlcmFnZW50LnNldChvcHRpb25zLmhlYWRlcnMpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmJvZHkpIHtcbiAgICAgICAgICBzdXBlcmFnZW50LnNlbmQob3B0aW9ucy5ib2R5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyYWdlbnQuZW5kKGZ1bmN0aW9uIChlcnJvciwgcmVzKSB7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBlcnJvci5yZXNwb25zZTtcbiAgICAgICAgICAgICAgZXJyb3IgPSBKU09OLnBhcnNlKGVycm9yLnJlc3BvbnNlLnRleHQpO1xuICAgICAgICAgICAgICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cblxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVzb2x2ZShyZXMgJiYgcmVzLmJvZHkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTdXBlcmFnZW50Q2xpZW50O1xufShiYXNlXzEuQmFzZSk7XG5cbmV4cG9ydHMuU3VwZXJhZ2VudENsaWVudCA9IFN1cGVyYWdlbnRDbGllbnQ7XG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4uL3NvY2tldGlvLWNsaWVudC9saWIvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuLi9zb2NrZXRpby1jbGllbnQvbGliL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgKHtcbiAgdmFsdWU6IHRydWVcbn0pKTtcblxudmFyIGNsaWVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgQGZlYXRoZXJzanMvdHJhbnNwb3J0LWNvbW1vbnMvY2xpZW50ICovIFwiLi4vdHJhbnNwb3J0LWNvbW1vbnMvY2xpZW50LmpzXCIpO1xuXG52YXIgZmVhdGhlcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIEBmZWF0aGVyc2pzL2ZlYXRoZXJzICovIFwiLi4vZmVhdGhlcnMvbGliL2luZGV4LmpzXCIpO1xuXG5mdW5jdGlvbiBzb2NrZXRpb0NsaWVudChjb25uZWN0aW9uLCBvcHRpb25zKSB7XG4gIGlmICghY29ubmVjdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignU29ja2V0LmlvIGNvbm5lY3Rpb24gbmVlZHMgdG8gYmUgcHJvdmlkZWQnKTtcbiAgfVxuXG4gIHZhciBkZWZhdWx0U2VydmljZSA9IGZ1bmN0aW9uIGRlZmF1bHRTZXJ2aWNlKG5hbWUpIHtcbiAgICB2YXIgZXZlbnRzID0gT2JqZWN0LnZhbHVlcyhmZWF0aGVyc18xLmRlZmF1bHRFdmVudE1hcCk7XG4gICAgdmFyIHNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywge1xuICAgICAgZXZlbnRzOiBldmVudHMsXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgY29ubmVjdGlvbjogY29ubmVjdGlvbixcbiAgICAgIG1ldGhvZDogJ2VtaXQnXG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBjbGllbnRfMS5TZXJ2aWNlKHNldHRpbmdzKTtcbiAgfTtcblxuICB2YXIgaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIGluaXRpYWxpemUoYXBwKSB7XG4gICAgaWYgKGFwcC5pbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgb25lIGRlZmF1bHQgY2xpZW50IHByb3ZpZGVyIGNhbiBiZSBjb25maWd1cmVkJyk7XG4gICAgfVxuXG4gICAgYXBwLmlvID0gY29ubmVjdGlvbjtcbiAgICBhcHAuZGVmYXVsdFNlcnZpY2UgPSBkZWZhdWx0U2VydmljZTtcbiAgfTtcblxuICBpbml0aWFsaXplLlNlcnZpY2UgPSBjbGllbnRfMS5TZXJ2aWNlO1xuICBpbml0aWFsaXplLnNlcnZpY2UgPSBkZWZhdWx0U2VydmljZTtcbiAgcmV0dXJuIGluaXRpYWxpemU7XG59XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gc29ja2V0aW9DbGllbnQ7XG5cbmlmICh0cnVlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbihzb2NrZXRpb0NsaWVudCwgbW9kdWxlLmV4cG9ydHMpO1xufVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuLi90cmFuc3BvcnQtY29tbW9ucy9jbGllbnQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4uL3RyYW5zcG9ydC1jb21tb25zL2NsaWVudC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2xpYi9jbGllbnQgKi8gXCIuLi90cmFuc3BvcnQtY29tbW9ucy9saWIvY2xpZW50LmpzXCIpO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuLi90cmFuc3BvcnQtY29tbW9ucy9saWIvY2xpZW50LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi4vdHJhbnNwb3J0LWNvbW1vbnMvbGliL2NsaWVudC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKF9fdW51c2VkX3dlYnBhY2tfbW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCAoe1xuICB2YWx1ZTogdHJ1ZVxufSkpO1xuZXhwb3J0cy5TZXJ2aWNlID0gdm9pZCAwO1xuXG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBAZmVhdGhlcnNqcy9lcnJvcnMgKi8gXCIuLi9lcnJvcnMvbGliL2luZGV4LmpzXCIpO1xuXG52YXIgY29tbW9uc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgQGZlYXRoZXJzanMvY29tbW9ucyAqLyBcIi4uL2NvbW1vbnMvbGliL2luZGV4LmpzXCIpO1xuXG52YXIgZGVidWcgPSAoMCwgY29tbW9uc18xLmNyZWF0ZURlYnVnKSgnQGZlYXRoZXJzanMvdHJhbnNwb3J0LWNvbW1vbnMvY2xpZW50Jyk7XG52YXIgbmFtZXNwYWNlZEVtaXR0ZXJNZXRob2RzID0gWydhZGRMaXN0ZW5lcicsICdlbWl0JywgJ2xpc3RlbmVyQ291bnQnLCAnbGlzdGVuZXJzJywgJ29uJywgJ29uY2UnLCAncHJlcGVuZExpc3RlbmVyJywgJ3ByZXBlbmRPbmNlTGlzdGVuZXInLCAncmVtb3ZlQWxsTGlzdGVuZXJzJywgJ3JlbW92ZUxpc3RlbmVyJ107XG52YXIgb3RoZXJFbWl0dGVyTWV0aG9kcyA9IFsnZXZlbnROYW1lcycsICdnZXRNYXhMaXN0ZW5lcnMnLCAnc2V0TWF4TGlzdGVuZXJzJ107XG5cbnZhciBhZGRFbWl0dGVyTWV0aG9kcyA9IGZ1bmN0aW9uIGFkZEVtaXR0ZXJNZXRob2RzKHNlcnZpY2UpIHtcbiAgb3RoZXJFbWl0dGVyTWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICBzZXJ2aWNlW21ldGhvZF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkY29ubmVjdGlvbjtcblxuICAgICAgaWYgKHR5cGVvZiB0aGlzLmNvbm5lY3Rpb25bbWV0aG9kXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4gbm90IGNhbGwgJ1wiLmNvbmNhdChtZXRob2QsIFwiJyBvbiB0aGUgY2xpZW50IHNlcnZpY2UgY29ubmVjdGlvblwiKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoX3RoaXMkY29ubmVjdGlvbiA9IHRoaXMuY29ubmVjdGlvbilbbWV0aG9kXS5hcHBseShfdGhpcyRjb25uZWN0aW9uLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH0pOyAvLyBNZXRob2RzIHRoYXQgc2hvdWxkIGFkZCB0aGUgbmFtZXNwYWNlIChzZXJ2aWNlIHBhdGgpXG5cbiAgbmFtZXNwYWNlZEVtaXR0ZXJNZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgIHNlcnZpY2VbbWV0aG9kXSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICB2YXIgX3RoaXMkY29ubmVjdGlvbjI7XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5jb25uZWN0aW9uW21ldGhvZF0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuIG5vdCBjYWxsICdcIi5jb25jYXQobWV0aG9kLCBcIicgb24gdGhlIGNsaWVudCBzZXJ2aWNlIGNvbm5lY3Rpb25cIikpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXZlbnROYW1lID0gXCJcIi5jb25jYXQodGhpcy5wYXRoLCBcIiBcIikuY29uY2F0KG5hbWUpO1xuICAgICAgZGVidWcoXCJDYWxsaW5nIGVtaXR0ZXIgbWV0aG9kIFwiLmNvbmNhdChtZXRob2QsIFwiIHdpdGggXCIpICsgXCJuYW1lc3BhY2VkIGV2ZW50ICdcIi5jb25jYXQoZXZlbnROYW1lLCBcIidcIikpO1xuXG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzdWx0ID0gKF90aGlzJGNvbm5lY3Rpb24yID0gdGhpcy5jb25uZWN0aW9uKVttZXRob2RdLmFwcGx5KF90aGlzJGNvbm5lY3Rpb24yLCBbZXZlbnROYW1lXS5jb25jYXQoYXJncykpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0ID09PSB0aGlzLmNvbm5lY3Rpb24gPyB0aGlzIDogcmVzdWx0O1xuICAgIH07XG4gIH0pO1xufTtcblxudmFyIFNlcnZpY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTZXJ2aWNlKG9wdGlvbnMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VydmljZSk7XG5cbiAgICB0aGlzLmV2ZW50cyA9IG9wdGlvbnMuZXZlbnRzO1xuICAgIHRoaXMucGF0aCA9IG9wdGlvbnMubmFtZTtcbiAgICB0aGlzLmNvbm5lY3Rpb24gPSBvcHRpb25zLmNvbm5lY3Rpb247XG4gICAgdGhpcy5tZXRob2QgPSBvcHRpb25zLm1ldGhvZDtcbiAgICBhZGRFbWl0dGVyTWV0aG9kcyh0aGlzKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTZXJ2aWNlLCBbe1xuICAgIGtleTogXCJzZW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmQobWV0aG9kKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgX3RoaXMkY29ubmVjdGlvbjM7XG5cbiAgICAgICAgYXJncy51bnNoaWZ0KG1ldGhvZCwgX3RoaXMucGF0aCk7XG4gICAgICAgIGFyZ3MucHVzaChmdW5jdGlvbiAoZXJyb3IsIGRhdGEpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3IgPyByZWplY3QoKDAsIGVycm9yc18xLmNvbnZlcnQpKGVycm9yKSkgOiByZXNvbHZlKGRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVidWcoXCJTZW5kaW5nIHNvY2tldC5cIi5jb25jYXQoX3RoaXMubWV0aG9kKSwgYXJncyk7XG5cbiAgICAgICAgKF90aGlzJGNvbm5lY3Rpb24zID0gX3RoaXMuY29ubmVjdGlvbilbX3RoaXMubWV0aG9kXS5hcHBseShfdGhpcyRjb25uZWN0aW9uMywgYXJncyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibWV0aG9kc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtZXRob2RzKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgbmFtZXMgPSBuZXcgQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgICAgbmFtZXNbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICAgIH1cblxuICAgICAgbmFtZXMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICBfdGhpczJbbmFtZV0gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgICAgIHJldHVybiB0aGlzLnNlbmQobmFtZSwgZGF0YSwgcGFyYW1zLnF1ZXJ5IHx8IHt9KTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZpbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZCgpIHtcbiAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgcmV0dXJuIHRoaXMuc2VuZCgnZmluZCcsIHBhcmFtcy5xdWVyeSB8fCB7fSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoaWQpIHtcbiAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgcmV0dXJuIHRoaXMuc2VuZCgnZ2V0JywgaWQsIHBhcmFtcy5xdWVyeSB8fCB7fSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoZGF0YSkge1xuICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICByZXR1cm4gdGhpcy5zZW5kKCdjcmVhdGUnLCBkYXRhLCBwYXJhbXMucXVlcnkgfHwge30pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKGlkLCBkYXRhKSB7XG4gICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAgIHJldHVybiB0aGlzLnNlbmQoJ3VwZGF0ZScsIGlkLCBkYXRhLCBwYXJhbXMucXVlcnkgfHwge30pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwYXRjaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYXRjaChpZCwgZGF0YSkge1xuICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgICByZXR1cm4gdGhpcy5zZW5kKCdwYXRjaCcsIGlkLCBkYXRhLCBwYXJhbXMucXVlcnkgfHwge30pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKGlkKSB7XG4gICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHJldHVybiB0aGlzLnNlbmQoJ3JlbW92ZScsIGlkLCBwYXJhbXMucXVlcnkgfHwge30pO1xuICAgIH0gLy8gYG9mZmAgaXMgYWN0dWFsbHkgbm90IHBhcnQgb2YgdGhlIE5vZGUgZXZlbnQgZW1pdHRlciBzcGVjXG4gICAgLy8gYnV0IHdlIGFyZSBhZGRpbmcgaXQgc2luY2UgZXZlcnlib2R5IGlzIGV4cGVjdGluZyBpdCBiZWNhdXNlXG4gICAgLy8gb2YgdGhlIGVtaXR0ZXItY29tcG9uZW50IFNvY2tldC5pbyBpcyB1c2luZ1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib2ZmXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9mZihuYW1lKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQgPiAxID8gX2xlbjQgLSAxIDogMCksIF9rZXk0ID0gMTsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgICBhcmdzW19rZXk0IC0gMV0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHRoaXMuY29ubmVjdGlvbi5vZmYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIF90aGlzJGNvbm5lY3Rpb240O1xuXG4gICAgICAgIHZhciByZXN1bHQgPSAoX3RoaXMkY29ubmVjdGlvbjQgPSB0aGlzLmNvbm5lY3Rpb24pLm9mZi5hcHBseShfdGhpcyRjb25uZWN0aW9uNCwgW1wiXCIuY29uY2F0KHRoaXMucGF0aCwgXCIgXCIpLmNvbmNhdChuYW1lKV0uY29uY2F0KGFyZ3MpKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0ID09PSB0aGlzLmNvbm5lY3Rpb24gPyB0aGlzIDogcmVzdWx0O1xuICAgICAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhuYW1lKTtcbiAgICAgIH0gLy8gQHRzLWlnbm9yZVxuXG5cbiAgICAgIHJldHVybiB0aGlzLnJlbW92ZUxpc3RlbmVyLmFwcGx5KHRoaXMsIFtuYW1lXS5jb25jYXQoYXJncykpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTZXJ2aWNlO1xufSgpO1xuXG5leHBvcnRzLlNlcnZpY2UgPSBTZXJ2aWNlO1xuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuLi8uLi9ub2RlX21vZHVsZXMvY2FsbC1iaW5kL2NhbGxCb3VuZC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuLi8uLi9ub2RlX21vZHVsZXMvY2FsbC1iaW5kL2NhbGxCb3VuZC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgR2V0SW50cmluc2ljID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgZ2V0LWludHJpbnNpYyAqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9nZXQtaW50cmluc2ljL2luZGV4LmpzXCIpO1xuXG52YXIgY2FsbEJpbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLyAqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9jYWxsLWJpbmQvaW5kZXguanNcIik7XG5cbnZhciAkaW5kZXhPZiA9IGNhbGxCaW5kKEdldEludHJpbnNpYygnU3RyaW5nLnByb3RvdHlwZS5pbmRleE9mJykpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNhbGxCb3VuZEludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0dmFyIGludHJpbnNpYyA9IEdldEludHJpbnNpYyhuYW1lLCAhIWFsbG93TWlzc2luZyk7XG5cdGlmICh0eXBlb2YgaW50cmluc2ljID09PSAnZnVuY3Rpb24nICYmICRpbmRleE9mKG5hbWUsICcucHJvdG90eXBlLicpID4gLTEpIHtcblx0XHRyZXR1cm4gY2FsbEJpbmQoaW50cmluc2ljKTtcblx0fVxuXHRyZXR1cm4gaW50cmluc2ljO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuLi8uLi9ub2RlX21vZHVsZXMvY2FsbC1iaW5kL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi4vLi4vbm9kZV9tb2R1bGVzL2NhbGwtYmluZC9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBiaW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgZnVuY3Rpb24tYmluZCAqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9mdW5jdGlvbi1iaW5kL2luZGV4LmpzXCIpO1xudmFyIEdldEludHJpbnNpYyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGdldC1pbnRyaW5zaWMgKi8gXCIuLi8uLi9ub2RlX21vZHVsZXMvZ2V0LWludHJpbnNpYy9pbmRleC5qc1wiKTtcblxudmFyICRhcHBseSA9IEdldEludHJpbnNpYygnJUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSUnKTtcbnZhciAkY2FsbCA9IEdldEludHJpbnNpYygnJUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsJScpO1xudmFyICRyZWZsZWN0QXBwbHkgPSBHZXRJbnRyaW5zaWMoJyVSZWZsZWN0LmFwcGx5JScsIHRydWUpIHx8IGJpbmQuY2FsbCgkY2FsbCwgJGFwcGx5KTtcblxudmFyICRnT1BEID0gR2V0SW50cmluc2ljKCclT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciUnLCB0cnVlKTtcbnZhciAkZGVmaW5lUHJvcGVydHkgPSBHZXRJbnRyaW5zaWMoJyVPYmplY3QuZGVmaW5lUHJvcGVydHklJywgdHJ1ZSk7XG52YXIgJG1heCA9IEdldEludHJpbnNpYygnJU1hdGgubWF4JScpO1xuXG5pZiAoJGRlZmluZVByb3BlcnR5KSB7XG5cdHRyeSB7XG5cdFx0JGRlZmluZVByb3BlcnR5KHt9LCAnYScsIHsgdmFsdWU6IDEgfSk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQvLyBJRSA4IGhhcyBhIGJyb2tlbiBkZWZpbmVQcm9wZXJ0eVxuXHRcdCRkZWZpbmVQcm9wZXJ0eSA9IG51bGw7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjYWxsQmluZChvcmlnaW5hbEZ1bmN0aW9uKSB7XG5cdHZhciBmdW5jID0gJHJlZmxlY3RBcHBseShiaW5kLCAkY2FsbCwgYXJndW1lbnRzKTtcblx0aWYgKCRnT1BEICYmICRkZWZpbmVQcm9wZXJ0eSkge1xuXHRcdHZhciBkZXNjID0gJGdPUEQoZnVuYywgJ2xlbmd0aCcpO1xuXHRcdGlmIChkZXNjLmNvbmZpZ3VyYWJsZSkge1xuXHRcdFx0Ly8gb3JpZ2luYWwgbGVuZ3RoLCBwbHVzIHRoZSByZWNlaXZlciwgbWludXMgYW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIChhZnRlciB0aGUgcmVjZWl2ZXIpXG5cdFx0XHQkZGVmaW5lUHJvcGVydHkoXG5cdFx0XHRcdGZ1bmMsXG5cdFx0XHRcdCdsZW5ndGgnLFxuXHRcdFx0XHR7IHZhbHVlOiAxICsgJG1heCgwLCBvcmlnaW5hbEZ1bmN0aW9uLmxlbmd0aCAtIChhcmd1bWVudHMubGVuZ3RoIC0gMSkpIH1cblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBmdW5jO1xufTtcblxudmFyIGFwcGx5QmluZCA9IGZ1bmN0aW9uIGFwcGx5QmluZCgpIHtcblx0cmV0dXJuICRyZWZsZWN0QXBwbHkoYmluZCwgJGFwcGx5LCBhcmd1bWVudHMpO1xufTtcblxuaWYgKCRkZWZpbmVQcm9wZXJ0eSkge1xuXHQkZGVmaW5lUHJvcGVydHkobW9kdWxlLmV4cG9ydHMsICdhcHBseScsIHsgdmFsdWU6IGFwcGx5QmluZCB9KTtcbn0gZWxzZSB7XG5cdG1vZHVsZS5leHBvcnRzLmFwcGx5ID0gYXBwbHlCaW5kO1xufVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4uLy4uL25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSkge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG5cblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbm1vZHVsZS5leHBvcnRzLm9uY2UgPSBvbmNlO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuZnVuY3Rpb24gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9IF9nZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb25jZShlbWl0dGVyLCBuYW1lKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZXJyb3JMaXN0ZW5lcihlcnIpIHtcbiAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgcmVzb2x2ZXIpO1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZXIoKSB7XG4gICAgICBpZiAodHlwZW9mIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9O1xuXG4gICAgZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIHJlc29sdmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgaWYgKG5hbWUgIT09ICdlcnJvcicpIHtcbiAgICAgIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGVycm9yTGlzdGVuZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBoYW5kbGVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgJ2Vycm9yJywgaGFuZGxlciwgZmxhZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCBsaXN0ZW5lciwgZmxhZ3MpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgIGVtaXR0ZXIub25jZShuYW1lLCBsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVtaXR0ZXIub24obmFtZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gRXZlbnRUYXJnZXQgZG9lcyBub3QgaGF2ZSBgZXJyb3JgIGV2ZW50IHNlbWFudGljcyBsaWtlIE5vZGVcbiAgICAvLyBFdmVudEVtaXR0ZXJzLCB3ZSBkbyBub3QgbGlzdGVuIGZvciBgZXJyb3JgIGV2ZW50cyBoZXJlLlxuICAgIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBmdW5jdGlvbiB3cmFwTGlzdGVuZXIoYXJnKSB7XG4gICAgICAvLyBJRSBkb2VzIG5vdCBoYXZlIGJ1aWx0aW4gYHsgb25jZTogdHJ1ZSB9YCBzdXBwb3J0IHNvIHdlXG4gICAgICAvLyBoYXZlIHRvIGRvIGl0IG1hbnVhbGx5LlxuICAgICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIHdyYXBMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICBsaXN0ZW5lcihhcmcpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImVtaXR0ZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgZW1pdHRlcik7XG4gIH1cbn1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuLi8uLi9ub2RlX21vZHVsZXMvZnVuY3Rpb24tYmluZC9pbXBsZW1lbnRhdGlvbi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuLi8uLi9ub2RlX21vZHVsZXMvZnVuY3Rpb24tYmluZC9pbXBsZW1lbnRhdGlvbi5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxuLyogZXNsaW50IG5vLWludmFsaWQtdGhpczogMSAqL1xuXG52YXIgRVJST1JfTUVTU0FHRSA9ICdGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBjYWxsZWQgb24gaW5jb21wYXRpYmxlICc7XG52YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG52YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIGZ1bmNUeXBlID0gJ1tvYmplY3QgRnVuY3Rpb25dJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBiaW5kKHRoYXQpIHtcbiAgICB2YXIgdGFyZ2V0ID0gdGhpcztcbiAgICBpZiAodHlwZW9mIHRhcmdldCAhPT0gJ2Z1bmN0aW9uJyB8fCB0b1N0ci5jYWxsKHRhcmdldCkgIT09IGZ1bmNUeXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRVJST1JfTUVTU0FHRSArIHRhcmdldCk7XG4gICAgfVxuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXG4gICAgdmFyIGJvdW5kO1xuICAgIHZhciBiaW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgYm91bmQpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0YXJnZXQuYXBwbHkoXG4gICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKE9iamVjdChyZXN1bHQpID09PSByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0LmFwcGx5KFxuICAgICAgICAgICAgICAgIHRoYXQsXG4gICAgICAgICAgICAgICAgYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgYm91bmRMZW5ndGggPSBNYXRoLm1heCgwLCB0YXJnZXQubGVuZ3RoIC0gYXJncy5sZW5ndGgpO1xuICAgIHZhciBib3VuZEFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYm91bmRBcmdzLnB1c2goJyQnICsgaSk7XG4gICAgfVxuXG4gICAgYm91bmQgPSBGdW5jdGlvbignYmluZGVyJywgJ3JldHVybiBmdW5jdGlvbiAoJyArIGJvdW5kQXJncy5qb2luKCcsJykgKyAnKXsgcmV0dXJuIGJpbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7IH0nKShiaW5kZXIpO1xuXG4gICAgaWYgKHRhcmdldC5wcm90b3R5cGUpIHtcbiAgICAgICAgdmFyIEVtcHR5ID0gZnVuY3Rpb24gRW1wdHkoKSB7fTtcbiAgICAgICAgRW1wdHkucHJvdG90eXBlID0gdGFyZ2V0LnByb3RvdHlwZTtcbiAgICAgICAgYm91bmQucHJvdG90eXBlID0gbmV3IEVtcHR5KCk7XG4gICAgICAgIEVtcHR5LnByb3RvdHlwZSA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJvdW5kO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuLi8uLi9ub2RlX21vZHVsZXMvZnVuY3Rpb24tYmluZC9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuLi8uLi9ub2RlX21vZHVsZXMvZnVuY3Rpb24tYmluZC9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgaW1wbGVtZW50YXRpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ltcGxlbWVudGF0aW9uICovIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Z1bmN0aW9uLWJpbmQvaW1wbGVtZW50YXRpb24uanNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgfHwgaW1wbGVtZW50YXRpb247XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2dldC1pbnRyaW5zaWMvaW5kZXguanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi4vLi4vbm9kZV9tb2R1bGVzL2dldC1pbnRyaW5zaWMvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIHVuZGVmaW5lZDtcblxudmFyICRTeW50YXhFcnJvciA9IFN5bnRheEVycm9yO1xudmFyICRGdW5jdGlvbiA9IEZ1bmN0aW9uO1xudmFyICRUeXBlRXJyb3IgPSBUeXBlRXJyb3I7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxudmFyIGdldEV2YWxsZWRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIChleHByZXNzaW9uU3ludGF4KSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuICRGdW5jdGlvbignXCJ1c2Ugc3RyaWN0XCI7IHJldHVybiAoJyArIGV4cHJlc3Npb25TeW50YXggKyAnKS5jb25zdHJ1Y3RvcjsnKSgpO1xuXHR9IGNhdGNoIChlKSB7fVxufTtcblxudmFyICRnT1BEID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbmlmICgkZ09QRCkge1xuXHR0cnkge1xuXHRcdCRnT1BEKHt9LCAnJyk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHQkZ09QRCA9IG51bGw7IC8vIHRoaXMgaXMgSUUgOCwgd2hpY2ggaGFzIGEgYnJva2VuIGdPUERcblx0fVxufVxuXG52YXIgdGhyb3dUeXBlRXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cdHRocm93IG5ldyAkVHlwZUVycm9yKCk7XG59O1xudmFyIFRocm93VHlwZUVycm9yID0gJGdPUERcblx0PyAoZnVuY3Rpb24gKCkge1xuXHRcdHRyeSB7XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLWV4cHJlc3Npb25zLCBuby1jYWxsZXIsIG5vLXJlc3RyaWN0ZWQtcHJvcGVydGllc1xuXHRcdFx0YXJndW1lbnRzLmNhbGxlZTsgLy8gSUUgOCBkb2VzIG5vdCB0aHJvdyBoZXJlXG5cdFx0XHRyZXR1cm4gdGhyb3dUeXBlRXJyb3I7XG5cdFx0fSBjYXRjaCAoY2FsbGVlVGhyb3dzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHQvLyBJRSA4IHRocm93cyBvbiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFyZ3VtZW50cywgJycpXG5cdFx0XHRcdHJldHVybiAkZ09QRChhcmd1bWVudHMsICdjYWxsZWUnKS5nZXQ7XG5cdFx0XHR9IGNhdGNoIChnT1BEdGhyb3dzKSB7XG5cdFx0XHRcdHJldHVybiB0aHJvd1R5cGVFcnJvcjtcblx0XHRcdH1cblx0XHR9XG5cdH0oKSlcblx0OiB0aHJvd1R5cGVFcnJvcjtcblxudmFyIGhhc1N5bWJvbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBoYXMtc3ltYm9scyAqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9oYXMtc3ltYm9scy9pbmRleC5qc1wiKSgpO1xuXG52YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguX19wcm90b19fOyB9OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb3RvXG5cbnZhciBuZWVkc0V2YWwgPSB7fTtcblxudmFyIFR5cGVkQXJyYXkgPSB0eXBlb2YgVWludDhBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBnZXRQcm90byhVaW50OEFycmF5KTtcblxudmFyIElOVFJJTlNJQ1MgPSB7XG5cdCclQWdncmVnYXRlRXJyb3IlJzogdHlwZW9mIEFnZ3JlZ2F0ZUVycm9yID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEFnZ3JlZ2F0ZUVycm9yLFxuXHQnJUFycmF5JSc6IEFycmF5LFxuXHQnJUFycmF5QnVmZmVyJSc6IHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBBcnJheUJ1ZmZlcixcblx0JyVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJSc6IGhhc1N5bWJvbHMgPyBnZXRQcm90byhbXVtTeW1ib2wuaXRlcmF0b3JdKCkpIDogdW5kZWZpbmVkLFxuXHQnJUFzeW5jRnJvbVN5bmNJdGVyYXRvclByb3RvdHlwZSUnOiB1bmRlZmluZWQsXG5cdCclQXN5bmNGdW5jdGlvbiUnOiBuZWVkc0V2YWwsXG5cdCclQXN5bmNHZW5lcmF0b3IlJzogbmVlZHNFdmFsLFxuXHQnJUFzeW5jR2VuZXJhdG9yRnVuY3Rpb24lJzogbmVlZHNFdmFsLFxuXHQnJUFzeW5jSXRlcmF0b3JQcm90b3R5cGUlJzogbmVlZHNFdmFsLFxuXHQnJUF0b21pY3MlJzogdHlwZW9mIEF0b21pY3MgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogQXRvbWljcyxcblx0JyVCaWdJbnQlJzogdHlwZW9mIEJpZ0ludCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBCaWdJbnQsXG5cdCclQm9vbGVhbiUnOiBCb29sZWFuLFxuXHQnJURhdGFWaWV3JSc6IHR5cGVvZiBEYXRhVmlldyA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBEYXRhVmlldyxcblx0JyVEYXRlJSc6IERhdGUsXG5cdCclZGVjb2RlVVJJJSc6IGRlY29kZVVSSSxcblx0JyVkZWNvZGVVUklDb21wb25lbnQlJzogZGVjb2RlVVJJQ29tcG9uZW50LFxuXHQnJWVuY29kZVVSSSUnOiBlbmNvZGVVUkksXG5cdCclZW5jb2RlVVJJQ29tcG9uZW50JSc6IGVuY29kZVVSSUNvbXBvbmVudCxcblx0JyVFcnJvciUnOiBFcnJvcixcblx0JyVldmFsJSc6IGV2YWwsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXZhbFxuXHQnJUV2YWxFcnJvciUnOiBFdmFsRXJyb3IsXG5cdCclRmxvYXQzMkFycmF5JSc6IHR5cGVvZiBGbG9hdDMyQXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogRmxvYXQzMkFycmF5LFxuXHQnJUZsb2F0NjRBcnJheSUnOiB0eXBlb2YgRmxvYXQ2NEFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEZsb2F0NjRBcnJheSxcblx0JyVGaW5hbGl6YXRpb25SZWdpc3RyeSUnOiB0eXBlb2YgRmluYWxpemF0aW9uUmVnaXN0cnkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogRmluYWxpemF0aW9uUmVnaXN0cnksXG5cdCclRnVuY3Rpb24lJzogJEZ1bmN0aW9uLFxuXHQnJUdlbmVyYXRvckZ1bmN0aW9uJSc6IG5lZWRzRXZhbCxcblx0JyVJbnQ4QXJyYXklJzogdHlwZW9mIEludDhBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQ4QXJyYXksXG5cdCclSW50MTZBcnJheSUnOiB0eXBlb2YgSW50MTZBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQxNkFycmF5LFxuXHQnJUludDMyQXJyYXklJzogdHlwZW9mIEludDMyQXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogSW50MzJBcnJheSxcblx0JyVpc0Zpbml0ZSUnOiBpc0Zpbml0ZSxcblx0JyVpc05hTiUnOiBpc05hTixcblx0JyVJdGVyYXRvclByb3RvdHlwZSUnOiBoYXNTeW1ib2xzID8gZ2V0UHJvdG8oZ2V0UHJvdG8oW11bU3ltYm9sLml0ZXJhdG9yXSgpKSkgOiB1bmRlZmluZWQsXG5cdCclSlNPTiUnOiB0eXBlb2YgSlNPTiA9PT0gJ29iamVjdCcgPyBKU09OIDogdW5kZWZpbmVkLFxuXHQnJU1hcCUnOiB0eXBlb2YgTWFwID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IE1hcCxcblx0JyVNYXBJdGVyYXRvclByb3RvdHlwZSUnOiB0eXBlb2YgTWFwID09PSAndW5kZWZpbmVkJyB8fCAhaGFzU3ltYm9scyA/IHVuZGVmaW5lZCA6IGdldFByb3RvKG5ldyBNYXAoKVtTeW1ib2wuaXRlcmF0b3JdKCkpLFxuXHQnJU1hdGglJzogTWF0aCxcblx0JyVOdW1iZXIlJzogTnVtYmVyLFxuXHQnJU9iamVjdCUnOiBPYmplY3QsXG5cdCclcGFyc2VGbG9hdCUnOiBwYXJzZUZsb2F0LFxuXHQnJXBhcnNlSW50JSc6IHBhcnNlSW50LFxuXHQnJVByb21pc2UlJzogdHlwZW9mIFByb21pc2UgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogUHJvbWlzZSxcblx0JyVQcm94eSUnOiB0eXBlb2YgUHJveHkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogUHJveHksXG5cdCclUmFuZ2VFcnJvciUnOiBSYW5nZUVycm9yLFxuXHQnJVJlZmVyZW5jZUVycm9yJSc6IFJlZmVyZW5jZUVycm9yLFxuXHQnJVJlZmxlY3QlJzogdHlwZW9mIFJlZmxlY3QgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogUmVmbGVjdCxcblx0JyVSZWdFeHAlJzogUmVnRXhwLFxuXHQnJVNldCUnOiB0eXBlb2YgU2V0ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFNldCxcblx0JyVTZXRJdGVyYXRvclByb3RvdHlwZSUnOiB0eXBlb2YgU2V0ID09PSAndW5kZWZpbmVkJyB8fCAhaGFzU3ltYm9scyA/IHVuZGVmaW5lZCA6IGdldFByb3RvKG5ldyBTZXQoKVtTeW1ib2wuaXRlcmF0b3JdKCkpLFxuXHQnJVNoYXJlZEFycmF5QnVmZmVyJSc6IHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBTaGFyZWRBcnJheUJ1ZmZlcixcblx0JyVTdHJpbmclJzogU3RyaW5nLFxuXHQnJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJSc6IGhhc1N5bWJvbHMgPyBnZXRQcm90bygnJ1tTeW1ib2wuaXRlcmF0b3JdKCkpIDogdW5kZWZpbmVkLFxuXHQnJVN5bWJvbCUnOiBoYXNTeW1ib2xzID8gU3ltYm9sIDogdW5kZWZpbmVkLFxuXHQnJVN5bnRheEVycm9yJSc6ICRTeW50YXhFcnJvcixcblx0JyVUaHJvd1R5cGVFcnJvciUnOiBUaHJvd1R5cGVFcnJvcixcblx0JyVUeXBlZEFycmF5JSc6IFR5cGVkQXJyYXksXG5cdCclVHlwZUVycm9yJSc6ICRUeXBlRXJyb3IsXG5cdCclVWludDhBcnJheSUnOiB0eXBlb2YgVWludDhBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBVaW50OEFycmF5LFxuXHQnJVVpbnQ4Q2xhbXBlZEFycmF5JSc6IHR5cGVvZiBVaW50OENsYW1wZWRBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBVaW50OENsYW1wZWRBcnJheSxcblx0JyVVaW50MTZBcnJheSUnOiB0eXBlb2YgVWludDE2QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogVWludDE2QXJyYXksXG5cdCclVWludDMyQXJyYXklJzogdHlwZW9mIFVpbnQzMkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFVpbnQzMkFycmF5LFxuXHQnJVVSSUVycm9yJSc6IFVSSUVycm9yLFxuXHQnJVdlYWtNYXAlJzogdHlwZW9mIFdlYWtNYXAgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogV2Vha01hcCxcblx0JyVXZWFrUmVmJSc6IHR5cGVvZiBXZWFrUmVmID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFdlYWtSZWYsXG5cdCclV2Vha1NldCUnOiB0eXBlb2YgV2Vha1NldCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBXZWFrU2V0XG59O1xuXG52YXIgZG9FdmFsID0gZnVuY3Rpb24gZG9FdmFsKG5hbWUpIHtcblx0dmFyIHZhbHVlO1xuXHRpZiAobmFtZSA9PT0gJyVBc3luY0Z1bmN0aW9uJScpIHtcblx0XHR2YWx1ZSA9IGdldEV2YWxsZWRDb25zdHJ1Y3RvcignYXN5bmMgZnVuY3Rpb24gKCkge30nKTtcblx0fSBlbHNlIGlmIChuYW1lID09PSAnJUdlbmVyYXRvckZ1bmN0aW9uJScpIHtcblx0XHR2YWx1ZSA9IGdldEV2YWxsZWRDb25zdHJ1Y3RvcignZnVuY3Rpb24qICgpIHt9Jyk7XG5cdH0gZWxzZSBpZiAobmFtZSA9PT0gJyVBc3luY0dlbmVyYXRvckZ1bmN0aW9uJScpIHtcblx0XHR2YWx1ZSA9IGdldEV2YWxsZWRDb25zdHJ1Y3RvcignYXN5bmMgZnVuY3Rpb24qICgpIHt9Jyk7XG5cdH0gZWxzZSBpZiAobmFtZSA9PT0gJyVBc3luY0dlbmVyYXRvciUnKSB7XG5cdFx0dmFyIGZuID0gZG9FdmFsKCclQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUnKTtcblx0XHRpZiAoZm4pIHtcblx0XHRcdHZhbHVlID0gZm4ucHJvdG90eXBlO1xuXHRcdH1cblx0fSBlbHNlIGlmIChuYW1lID09PSAnJUFzeW5jSXRlcmF0b3JQcm90b3R5cGUlJykge1xuXHRcdHZhciBnZW4gPSBkb0V2YWwoJyVBc3luY0dlbmVyYXRvciUnKTtcblx0XHRpZiAoZ2VuKSB7XG5cdFx0XHR2YWx1ZSA9IGdldFByb3RvKGdlbi5wcm90b3R5cGUpO1xuXHRcdH1cblx0fVxuXG5cdElOVFJJTlNJQ1NbbmFtZV0gPSB2YWx1ZTtcblxuXHRyZXR1cm4gdmFsdWU7XG59O1xuXG52YXIgTEVHQUNZX0FMSUFTRVMgPSB7XG5cdCclQXJyYXlCdWZmZXJQcm90b3R5cGUlJzogWydBcnJheUJ1ZmZlcicsICdwcm90b3R5cGUnXSxcblx0JyVBcnJheVByb3RvdHlwZSUnOiBbJ0FycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJUFycmF5UHJvdG9fZW50cmllcyUnOiBbJ0FycmF5JywgJ3Byb3RvdHlwZScsICdlbnRyaWVzJ10sXG5cdCclQXJyYXlQcm90b19mb3JFYWNoJSc6IFsnQXJyYXknLCAncHJvdG90eXBlJywgJ2ZvckVhY2gnXSxcblx0JyVBcnJheVByb3RvX2tleXMlJzogWydBcnJheScsICdwcm90b3R5cGUnLCAna2V5cyddLFxuXHQnJUFycmF5UHJvdG9fdmFsdWVzJSc6IFsnQXJyYXknLCAncHJvdG90eXBlJywgJ3ZhbHVlcyddLFxuXHQnJUFzeW5jRnVuY3Rpb25Qcm90b3R5cGUlJzogWydBc3luY0Z1bmN0aW9uJywgJ3Byb3RvdHlwZSddLFxuXHQnJUFzeW5jR2VuZXJhdG9yJSc6IFsnQXN5bmNHZW5lcmF0b3JGdW5jdGlvbicsICdwcm90b3R5cGUnXSxcblx0JyVBc3luY0dlbmVyYXRvclByb3RvdHlwZSUnOiBbJ0FzeW5jR2VuZXJhdG9yRnVuY3Rpb24nLCAncHJvdG90eXBlJywgJ3Byb3RvdHlwZSddLFxuXHQnJUJvb2xlYW5Qcm90b3R5cGUlJzogWydCb29sZWFuJywgJ3Byb3RvdHlwZSddLFxuXHQnJURhdGFWaWV3UHJvdG90eXBlJSc6IFsnRGF0YVZpZXcnLCAncHJvdG90eXBlJ10sXG5cdCclRGF0ZVByb3RvdHlwZSUnOiBbJ0RhdGUnLCAncHJvdG90eXBlJ10sXG5cdCclRXJyb3JQcm90b3R5cGUlJzogWydFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVFdmFsRXJyb3JQcm90b3R5cGUlJzogWydFdmFsRXJyb3InLCAncHJvdG90eXBlJ10sXG5cdCclRmxvYXQzMkFycmF5UHJvdG90eXBlJSc6IFsnRmxvYXQzMkFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJUZsb2F0NjRBcnJheVByb3RvdHlwZSUnOiBbJ0Zsb2F0NjRBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVGdW5jdGlvblByb3RvdHlwZSUnOiBbJ0Z1bmN0aW9uJywgJ3Byb3RvdHlwZSddLFxuXHQnJUdlbmVyYXRvciUnOiBbJ0dlbmVyYXRvckZ1bmN0aW9uJywgJ3Byb3RvdHlwZSddLFxuXHQnJUdlbmVyYXRvclByb3RvdHlwZSUnOiBbJ0dlbmVyYXRvckZ1bmN0aW9uJywgJ3Byb3RvdHlwZScsICdwcm90b3R5cGUnXSxcblx0JyVJbnQ4QXJyYXlQcm90b3R5cGUlJzogWydJbnQ4QXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclSW50MTZBcnJheVByb3RvdHlwZSUnOiBbJ0ludDE2QXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclSW50MzJBcnJheVByb3RvdHlwZSUnOiBbJ0ludDMyQXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclSlNPTlBhcnNlJSc6IFsnSlNPTicsICdwYXJzZSddLFxuXHQnJUpTT05TdHJpbmdpZnklJzogWydKU09OJywgJ3N0cmluZ2lmeSddLFxuXHQnJU1hcFByb3RvdHlwZSUnOiBbJ01hcCcsICdwcm90b3R5cGUnXSxcblx0JyVOdW1iZXJQcm90b3R5cGUlJzogWydOdW1iZXInLCAncHJvdG90eXBlJ10sXG5cdCclT2JqZWN0UHJvdG90eXBlJSc6IFsnT2JqZWN0JywgJ3Byb3RvdHlwZSddLFxuXHQnJU9ialByb3RvX3RvU3RyaW5nJSc6IFsnT2JqZWN0JywgJ3Byb3RvdHlwZScsICd0b1N0cmluZyddLFxuXHQnJU9ialByb3RvX3ZhbHVlT2YlJzogWydPYmplY3QnLCAncHJvdG90eXBlJywgJ3ZhbHVlT2YnXSxcblx0JyVQcm9taXNlUHJvdG90eXBlJSc6IFsnUHJvbWlzZScsICdwcm90b3R5cGUnXSxcblx0JyVQcm9taXNlUHJvdG9fdGhlbiUnOiBbJ1Byb21pc2UnLCAncHJvdG90eXBlJywgJ3RoZW4nXSxcblx0JyVQcm9taXNlX2FsbCUnOiBbJ1Byb21pc2UnLCAnYWxsJ10sXG5cdCclUHJvbWlzZV9yZWplY3QlJzogWydQcm9taXNlJywgJ3JlamVjdCddLFxuXHQnJVByb21pc2VfcmVzb2x2ZSUnOiBbJ1Byb21pc2UnLCAncmVzb2x2ZSddLFxuXHQnJVJhbmdlRXJyb3JQcm90b3R5cGUlJzogWydSYW5nZUVycm9yJywgJ3Byb3RvdHlwZSddLFxuXHQnJVJlZmVyZW5jZUVycm9yUHJvdG90eXBlJSc6IFsnUmVmZXJlbmNlRXJyb3InLCAncHJvdG90eXBlJ10sXG5cdCclUmVnRXhwUHJvdG90eXBlJSc6IFsnUmVnRXhwJywgJ3Byb3RvdHlwZSddLFxuXHQnJVNldFByb3RvdHlwZSUnOiBbJ1NldCcsICdwcm90b3R5cGUnXSxcblx0JyVTaGFyZWRBcnJheUJ1ZmZlclByb3RvdHlwZSUnOiBbJ1NoYXJlZEFycmF5QnVmZmVyJywgJ3Byb3RvdHlwZSddLFxuXHQnJVN0cmluZ1Byb3RvdHlwZSUnOiBbJ1N0cmluZycsICdwcm90b3R5cGUnXSxcblx0JyVTeW1ib2xQcm90b3R5cGUlJzogWydTeW1ib2wnLCAncHJvdG90eXBlJ10sXG5cdCclU3ludGF4RXJyb3JQcm90b3R5cGUlJzogWydTeW50YXhFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVUeXBlZEFycmF5UHJvdG90eXBlJSc6IFsnVHlwZWRBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVUeXBlRXJyb3JQcm90b3R5cGUlJzogWydUeXBlRXJyb3InLCAncHJvdG90eXBlJ10sXG5cdCclVWludDhBcnJheVByb3RvdHlwZSUnOiBbJ1VpbnQ4QXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclVWludDhDbGFtcGVkQXJyYXlQcm90b3R5cGUlJzogWydVaW50OENsYW1wZWRBcnJheScsICdwcm90b3R5cGUnXSxcblx0JyVVaW50MTZBcnJheVByb3RvdHlwZSUnOiBbJ1VpbnQxNkFycmF5JywgJ3Byb3RvdHlwZSddLFxuXHQnJVVpbnQzMkFycmF5UHJvdG90eXBlJSc6IFsnVWludDMyQXJyYXknLCAncHJvdG90eXBlJ10sXG5cdCclVVJJRXJyb3JQcm90b3R5cGUlJzogWydVUklFcnJvcicsICdwcm90b3R5cGUnXSxcblx0JyVXZWFrTWFwUHJvdG90eXBlJSc6IFsnV2Vha01hcCcsICdwcm90b3R5cGUnXSxcblx0JyVXZWFrU2V0UHJvdG90eXBlJSc6IFsnV2Vha1NldCcsICdwcm90b3R5cGUnXVxufTtcblxudmFyIGJpbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBmdW5jdGlvbi1iaW5kICovIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Z1bmN0aW9uLWJpbmQvaW5kZXguanNcIik7XG52YXIgaGFzT3duID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgaGFzICovIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2hhcy9zcmMvaW5kZXguanNcIik7XG52YXIgJGNvbmNhdCA9IGJpbmQuY2FsbChGdW5jdGlvbi5jYWxsLCBBcnJheS5wcm90b3R5cGUuY29uY2F0KTtcbnZhciAkc3BsaWNlQXBwbHkgPSBiaW5kLmNhbGwoRnVuY3Rpb24uYXBwbHksIEFycmF5LnByb3RvdHlwZS5zcGxpY2UpO1xudmFyICRyZXBsYWNlID0gYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIFN0cmluZy5wcm90b3R5cGUucmVwbGFjZSk7XG52YXIgJHN0clNsaWNlID0gYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIFN0cmluZy5wcm90b3R5cGUuc2xpY2UpO1xuXG4vKiBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2xvZGFzaC9sb2Rhc2gvYmxvYi80LjE3LjE1L2Rpc3QvbG9kYXNoLmpzI0w2NzM1LUw2NzQ0ICovXG52YXIgcmVQcm9wTmFtZSA9IC9bXiUuW1xcXV0rfFxcWyg/OigtP1xcZCsoPzpcXC5cXGQrKT8pfChbXCInXSkoKD86KD8hXFwyKVteXFxcXF18XFxcXC4pKj8pXFwyKVxcXXwoPz0oPzpcXC58XFxbXFxdKSg/OlxcLnxcXFtcXF18JSQpKS9nO1xudmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nOyAvKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciBzdHJpbmdUb1BhdGggPSBmdW5jdGlvbiBzdHJpbmdUb1BhdGgoc3RyaW5nKSB7XG5cdHZhciBmaXJzdCA9ICRzdHJTbGljZShzdHJpbmcsIDAsIDEpO1xuXHR2YXIgbGFzdCA9ICRzdHJTbGljZShzdHJpbmcsIC0xKTtcblx0aWYgKGZpcnN0ID09PSAnJScgJiYgbGFzdCAhPT0gJyUnKSB7XG5cdFx0dGhyb3cgbmV3ICRTeW50YXhFcnJvcignaW52YWxpZCBpbnRyaW5zaWMgc3ludGF4LCBleHBlY3RlZCBjbG9zaW5nIGAlYCcpO1xuXHR9IGVsc2UgaWYgKGxhc3QgPT09ICclJyAmJiBmaXJzdCAhPT0gJyUnKSB7XG5cdFx0dGhyb3cgbmV3ICRTeW50YXhFcnJvcignaW52YWxpZCBpbnRyaW5zaWMgc3ludGF4LCBleHBlY3RlZCBvcGVuaW5nIGAlYCcpO1xuXHR9XG5cdHZhciByZXN1bHQgPSBbXTtcblx0JHJlcGxhY2Uoc3RyaW5nLCByZVByb3BOYW1lLCBmdW5jdGlvbiAobWF0Y2gsIG51bWJlciwgcXVvdGUsIHN1YlN0cmluZykge1xuXHRcdHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IHF1b3RlID8gJHJlcGxhY2Uoc3ViU3RyaW5nLCByZUVzY2FwZUNoYXIsICckMScpIDogbnVtYmVyIHx8IG1hdGNoO1xuXHR9KTtcblx0cmV0dXJuIHJlc3VsdDtcbn07XG4vKiBlbmQgYWRhcHRhdGlvbiAqL1xuXG52YXIgZ2V0QmFzZUludHJpbnNpYyA9IGZ1bmN0aW9uIGdldEJhc2VJbnRyaW5zaWMobmFtZSwgYWxsb3dNaXNzaW5nKSB7XG5cdHZhciBpbnRyaW5zaWNOYW1lID0gbmFtZTtcblx0dmFyIGFsaWFzO1xuXHRpZiAoaGFzT3duKExFR0FDWV9BTElBU0VTLCBpbnRyaW5zaWNOYW1lKSkge1xuXHRcdGFsaWFzID0gTEVHQUNZX0FMSUFTRVNbaW50cmluc2ljTmFtZV07XG5cdFx0aW50cmluc2ljTmFtZSA9ICclJyArIGFsaWFzWzBdICsgJyUnO1xuXHR9XG5cblx0aWYgKGhhc093bihJTlRSSU5TSUNTLCBpbnRyaW5zaWNOYW1lKSkge1xuXHRcdHZhciB2YWx1ZSA9IElOVFJJTlNJQ1NbaW50cmluc2ljTmFtZV07XG5cdFx0aWYgKHZhbHVlID09PSBuZWVkc0V2YWwpIHtcblx0XHRcdHZhbHVlID0gZG9FdmFsKGludHJpbnNpY05hbWUpO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyAmJiAhYWxsb3dNaXNzaW5nKSB7XG5cdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignaW50cmluc2ljICcgKyBuYW1lICsgJyBleGlzdHMsIGJ1dCBpcyBub3QgYXZhaWxhYmxlLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZSEnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0YWxpYXM6IGFsaWFzLFxuXHRcdFx0bmFtZTogaW50cmluc2ljTmFtZSxcblx0XHRcdHZhbHVlOiB2YWx1ZVxuXHRcdH07XG5cdH1cblxuXHR0aHJvdyBuZXcgJFN5bnRheEVycm9yKCdpbnRyaW5zaWMgJyArIG5hbWUgKyAnIGRvZXMgbm90IGV4aXN0IScpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBHZXRJbnRyaW5zaWMobmFtZSwgYWxsb3dNaXNzaW5nKSB7XG5cdGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgbmFtZS5sZW5ndGggPT09IDApIHtcblx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignaW50cmluc2ljIG5hbWUgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKTtcblx0fVxuXHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgdHlwZW9mIGFsbG93TWlzc2luZyAhPT0gJ2Jvb2xlYW4nKSB7XG5cdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ1wiYWxsb3dNaXNzaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBhIGJvb2xlYW4nKTtcblx0fVxuXG5cdHZhciBwYXJ0cyA9IHN0cmluZ1RvUGF0aChuYW1lKTtcblx0dmFyIGludHJpbnNpY0Jhc2VOYW1lID0gcGFydHMubGVuZ3RoID4gMCA/IHBhcnRzWzBdIDogJyc7XG5cblx0dmFyIGludHJpbnNpYyA9IGdldEJhc2VJbnRyaW5zaWMoJyUnICsgaW50cmluc2ljQmFzZU5hbWUgKyAnJScsIGFsbG93TWlzc2luZyk7XG5cdHZhciBpbnRyaW5zaWNSZWFsTmFtZSA9IGludHJpbnNpYy5uYW1lO1xuXHR2YXIgdmFsdWUgPSBpbnRyaW5zaWMudmFsdWU7XG5cdHZhciBza2lwRnVydGhlckNhY2hpbmcgPSBmYWxzZTtcblxuXHR2YXIgYWxpYXMgPSBpbnRyaW5zaWMuYWxpYXM7XG5cdGlmIChhbGlhcykge1xuXHRcdGludHJpbnNpY0Jhc2VOYW1lID0gYWxpYXNbMF07XG5cdFx0JHNwbGljZUFwcGx5KHBhcnRzLCAkY29uY2F0KFswLCAxXSwgYWxpYXMpKTtcblx0fVxuXG5cdGZvciAodmFyIGkgPSAxLCBpc093biA9IHRydWU7IGkgPCBwYXJ0cy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdHZhciBwYXJ0ID0gcGFydHNbaV07XG5cdFx0dmFyIGZpcnN0ID0gJHN0clNsaWNlKHBhcnQsIDAsIDEpO1xuXHRcdHZhciBsYXN0ID0gJHN0clNsaWNlKHBhcnQsIC0xKTtcblx0XHRpZiAoXG5cdFx0XHQoXG5cdFx0XHRcdChmaXJzdCA9PT0gJ1wiJyB8fCBmaXJzdCA9PT0gXCInXCIgfHwgZmlyc3QgPT09ICdgJylcblx0XHRcdFx0fHwgKGxhc3QgPT09ICdcIicgfHwgbGFzdCA9PT0gXCInXCIgfHwgbGFzdCA9PT0gJ2AnKVxuXHRcdFx0KVxuXHRcdFx0JiYgZmlyc3QgIT09IGxhc3Rcblx0XHQpIHtcblx0XHRcdHRocm93IG5ldyAkU3ludGF4RXJyb3IoJ3Byb3BlcnR5IG5hbWVzIHdpdGggcXVvdGVzIG11c3QgaGF2ZSBtYXRjaGluZyBxdW90ZXMnKTtcblx0XHR9XG5cdFx0aWYgKHBhcnQgPT09ICdjb25zdHJ1Y3RvcicgfHwgIWlzT3duKSB7XG5cdFx0XHRza2lwRnVydGhlckNhY2hpbmcgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGludHJpbnNpY0Jhc2VOYW1lICs9ICcuJyArIHBhcnQ7XG5cdFx0aW50cmluc2ljUmVhbE5hbWUgPSAnJScgKyBpbnRyaW5zaWNCYXNlTmFtZSArICclJztcblxuXHRcdGlmIChoYXNPd24oSU5UUklOU0lDUywgaW50cmluc2ljUmVhbE5hbWUpKSB7XG5cdFx0XHR2YWx1ZSA9IElOVFJJTlNJQ1NbaW50cmluc2ljUmVhbE5hbWVdO1xuXHRcdH0gZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuXHRcdFx0aWYgKCEocGFydCBpbiB2YWx1ZSkpIHtcblx0XHRcdFx0aWYgKCFhbGxvd01pc3NpbmcpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignYmFzZSBpbnRyaW5zaWMgZm9yICcgKyBuYW1lICsgJyBleGlzdHMsIGJ1dCB0aGUgcHJvcGVydHkgaXMgbm90IGF2YWlsYWJsZS4nKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdm9pZCB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0XHRpZiAoJGdPUEQgJiYgKGkgKyAxKSA+PSBwYXJ0cy5sZW5ndGgpIHtcblx0XHRcdFx0dmFyIGRlc2MgPSAkZ09QRCh2YWx1ZSwgcGFydCk7XG5cdFx0XHRcdGlzT3duID0gISFkZXNjO1xuXG5cdFx0XHRcdC8vIEJ5IGNvbnZlbnRpb24sIHdoZW4gYSBkYXRhIHByb3BlcnR5IGlzIGNvbnZlcnRlZCB0byBhbiBhY2Nlc3NvclxuXHRcdFx0XHQvLyBwcm9wZXJ0eSB0byBlbXVsYXRlIGEgZGF0YSBwcm9wZXJ0eSB0aGF0IGRvZXMgbm90IHN1ZmZlciBmcm9tXG5cdFx0XHRcdC8vIHRoZSBvdmVycmlkZSBtaXN0YWtlLCB0aGF0IGFjY2Vzc29yJ3MgZ2V0dGVyIGlzIG1hcmtlZCB3aXRoXG5cdFx0XHRcdC8vIGFuIGBvcmlnaW5hbFZhbHVlYCBwcm9wZXJ0eS4gSGVyZSwgd2hlbiB3ZSBkZXRlY3QgdGhpcywgd2Vcblx0XHRcdFx0Ly8gdXBob2xkIHRoZSBpbGx1c2lvbiBieSBwcmV0ZW5kaW5nIHRvIHNlZSB0aGF0IG9yaWdpbmFsIGRhdGFcblx0XHRcdFx0Ly8gcHJvcGVydHksIGkuZS4sIHJldHVybmluZyB0aGUgdmFsdWUgcmF0aGVyIHRoYW4gdGhlIGdldHRlclxuXHRcdFx0XHQvLyBpdHNlbGYuXG5cdFx0XHRcdGlmIChpc093biAmJiAnZ2V0JyBpbiBkZXNjICYmICEoJ29yaWdpbmFsVmFsdWUnIGluIGRlc2MuZ2V0KSkge1xuXHRcdFx0XHRcdHZhbHVlID0gZGVzYy5nZXQ7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZVtwYXJ0XTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aXNPd24gPSBoYXNPd24odmFsdWUsIHBhcnQpO1xuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlW3BhcnRdO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaXNPd24gJiYgIXNraXBGdXJ0aGVyQ2FjaGluZykge1xuXHRcdFx0XHRJTlRSSU5TSUNTW2ludHJpbnNpY1JlYWxOYW1lXSA9IHZhbHVlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gdmFsdWU7XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9oYXMtc3ltYm9scy9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi4vLi4vbm9kZV9tb2R1bGVzL2hhcy1zeW1ib2xzL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgb3JpZ1N5bWJvbCA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbDtcbnZhciBoYXNTeW1ib2xTaGFtID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zaGFtcyAqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9oYXMtc3ltYm9scy9zaGFtcy5qc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBoYXNOYXRpdmVTeW1ib2xzKCkge1xuXHRpZiAodHlwZW9mIG9yaWdTeW1ib2wgIT09ICdmdW5jdGlvbicpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmICh0eXBlb2YgU3ltYm9sICE9PSAnZnVuY3Rpb24nKSB7IHJldHVybiBmYWxzZTsgfVxuXHRpZiAodHlwZW9mIG9yaWdTeW1ib2woJ2ZvbycpICE9PSAnc3ltYm9sJykgeyByZXR1cm4gZmFsc2U7IH1cblx0aWYgKHR5cGVvZiBTeW1ib2woJ2JhcicpICE9PSAnc3ltYm9sJykgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRyZXR1cm4gaGFzU3ltYm9sU2hhbSgpO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuLi8uLi9ub2RlX21vZHVsZXMvaGFzLXN5bWJvbHMvc2hhbXMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4uLy4uL25vZGVfbW9kdWxlcy9oYXMtc3ltYm9scy9zaGFtcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbi8qIGVzbGludCBjb21wbGV4aXR5OiBbMiwgMThdLCBtYXgtc3RhdGVtZW50czogWzIsIDMzXSAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBoYXNTeW1ib2xzKCkge1xuXHRpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyAhPT0gJ2Z1bmN0aW9uJykgeyByZXR1cm4gZmFsc2U7IH1cblx0aWYgKHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICdzeW1ib2wnKSB7IHJldHVybiB0cnVlOyB9XG5cblx0dmFyIG9iaiA9IHt9O1xuXHR2YXIgc3ltID0gU3ltYm9sKCd0ZXN0Jyk7XG5cdHZhciBzeW1PYmogPSBPYmplY3Qoc3ltKTtcblx0aWYgKHR5cGVvZiBzeW0gPT09ICdzdHJpbmcnKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ltKSAhPT0gJ1tvYmplY3QgU3ltYm9sXScpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3ltT2JqKSAhPT0gJ1tvYmplY3QgU3ltYm9sXScpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0Ly8gdGVtcCBkaXNhYmxlZCBwZXIgaHR0cHM6Ly9naXRodWIuY29tL2xqaGFyYi9vYmplY3QuYXNzaWduL2lzc3Vlcy8xN1xuXHQvLyBpZiAoc3ltIGluc3RhbmNlb2YgU3ltYm9sKSB7IHJldHVybiBmYWxzZTsgfVxuXHQvLyB0ZW1wIGRpc2FibGVkIHBlciBodHRwczovL2dpdGh1Yi5jb20vV2ViUmVmbGVjdGlvbi9nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMvaXNzdWVzLzRcblx0Ly8gaWYgKCEoc3ltT2JqIGluc3RhbmNlb2YgU3ltYm9sKSkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHQvLyBpZiAodHlwZW9mIFN5bWJvbC5wcm90b3R5cGUudG9TdHJpbmcgIT09ICdmdW5jdGlvbicpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdC8vIGlmIChTdHJpbmcoc3ltKSAhPT0gU3ltYm9sLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN5bSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0dmFyIHN5bVZhbCA9IDQyO1xuXHRvYmpbc3ltXSA9IHN5bVZhbDtcblx0Zm9yIChzeW0gaW4gb2JqKSB7IHJldHVybiBmYWxzZTsgfSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4LCBuby11bnJlYWNoYWJsZS1sb29wXG5cdGlmICh0eXBlb2YgT2JqZWN0LmtleXMgPT09ICdmdW5jdGlvbicgJiYgT2JqZWN0LmtleXMob2JqKS5sZW5ndGggIT09IDApIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0aWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyA9PT0gJ2Z1bmN0aW9uJyAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopLmxlbmd0aCAhPT0gMCkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHR2YXIgc3ltcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqKTtcblx0aWYgKHN5bXMubGVuZ3RoICE9PSAxIHx8IHN5bXNbMF0gIT09IHN5bSkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmosIHN5bSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0aWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwgc3ltKTtcblx0XHRpZiAoZGVzY3JpcHRvci52YWx1ZSAhPT0gc3ltVmFsIHx8IGRlc2NyaXB0b3IuZW51bWVyYWJsZSAhPT0gdHJ1ZSkgeyByZXR1cm4gZmFsc2U7IH1cblx0fVxuXG5cdHJldHVybiB0cnVlO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuLi8uLi9ub2RlX21vZHVsZXMvaGFzL3NyYy9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuLi8uLi9ub2RlX21vZHVsZXMvaGFzL3NyYy9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgYmluZCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGZ1bmN0aW9uLWJpbmQgKi8gXCIuLi8uLi9ub2RlX21vZHVsZXMvZnVuY3Rpb24tYmluZC9pbmRleC5qc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBiaW5kLmNhbGwoRnVuY3Rpb24uY2FsbCwgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vLi4vbm9kZV9tb2R1bGVzL29iamVjdC1pbnNwZWN0L2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuLi8uLi9ub2RlX21vZHVsZXMvb2JqZWN0LWluc3BlY3QvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbnZhciBoYXNNYXAgPSB0eXBlb2YgTWFwID09PSAnZnVuY3Rpb24nICYmIE1hcC5wcm90b3R5cGU7XG52YXIgbWFwU2l6ZURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yICYmIGhhc01hcCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTWFwLnByb3RvdHlwZSwgJ3NpemUnKSA6IG51bGw7XG52YXIgbWFwU2l6ZSA9IGhhc01hcCAmJiBtYXBTaXplRGVzY3JpcHRvciAmJiB0eXBlb2YgbWFwU2l6ZURlc2NyaXB0b3IuZ2V0ID09PSAnZnVuY3Rpb24nID8gbWFwU2l6ZURlc2NyaXB0b3IuZ2V0IDogbnVsbDtcbnZhciBtYXBGb3JFYWNoID0gaGFzTWFwICYmIE1hcC5wcm90b3R5cGUuZm9yRWFjaDtcbnZhciBoYXNTZXQgPSB0eXBlb2YgU2V0ID09PSAnZnVuY3Rpb24nICYmIFNldC5wcm90b3R5cGU7XG52YXIgc2V0U2l6ZURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yICYmIGhhc1NldCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoU2V0LnByb3RvdHlwZSwgJ3NpemUnKSA6IG51bGw7XG52YXIgc2V0U2l6ZSA9IGhhc1NldCAmJiBzZXRTaXplRGVzY3JpcHRvciAmJiB0eXBlb2Ygc2V0U2l6ZURlc2NyaXB0b3IuZ2V0ID09PSAnZnVuY3Rpb24nID8gc2V0U2l6ZURlc2NyaXB0b3IuZ2V0IDogbnVsbDtcbnZhciBzZXRGb3JFYWNoID0gaGFzU2V0ICYmIFNldC5wcm90b3R5cGUuZm9yRWFjaDtcbnZhciBoYXNXZWFrTWFwID0gdHlwZW9mIFdlYWtNYXAgPT09ICdmdW5jdGlvbicgJiYgV2Vha01hcC5wcm90b3R5cGU7XG52YXIgd2Vha01hcEhhcyA9IGhhc1dlYWtNYXAgPyBXZWFrTWFwLnByb3RvdHlwZS5oYXMgOiBudWxsO1xudmFyIGhhc1dlYWtTZXQgPSB0eXBlb2YgV2Vha1NldCA9PT0gJ2Z1bmN0aW9uJyAmJiBXZWFrU2V0LnByb3RvdHlwZTtcbnZhciB3ZWFrU2V0SGFzID0gaGFzV2Vha1NldCA/IFdlYWtTZXQucHJvdG90eXBlLmhhcyA6IG51bGw7XG52YXIgaGFzV2Vha1JlZiA9IHR5cGVvZiBXZWFrUmVmID09PSAnZnVuY3Rpb24nICYmIFdlYWtSZWYucHJvdG90eXBlO1xudmFyIHdlYWtSZWZEZXJlZiA9IGhhc1dlYWtSZWYgPyBXZWFrUmVmLnByb3RvdHlwZS5kZXJlZiA6IG51bGw7XG52YXIgYm9vbGVhblZhbHVlT2YgPSBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mO1xudmFyIG9iamVjdFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbnZhciBmdW5jdGlvblRvU3RyaW5nID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIG1hdGNoID0gU3RyaW5nLnByb3RvdHlwZS5tYXRjaDtcbnZhciBiaWdJbnRWYWx1ZU9mID0gdHlwZW9mIEJpZ0ludCA9PT0gJ2Z1bmN0aW9uJyA/IEJpZ0ludC5wcm90b3R5cGUudmFsdWVPZiA6IG51bGw7XG52YXIgZ09QUyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgc3ltVG9TdHJpbmcgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICdzeW1ib2wnID8gU3ltYm9sLnByb3RvdHlwZS50b1N0cmluZyA6IG51bGw7XG52YXIgaGFzU2hhbW1lZFN5bWJvbHMgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICdvYmplY3QnO1xudmFyIGlzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbnZhciBnUE8gPSAodHlwZW9mIFJlZmxlY3QgPT09ICdmdW5jdGlvbicgPyBSZWZsZWN0LmdldFByb3RvdHlwZU9mIDogT2JqZWN0LmdldFByb3RvdHlwZU9mKSB8fCAoXG4gICAgW10uX19wcm90b19fID09PSBBcnJheS5wcm90b3R5cGUgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wcm90b1xuICAgICAgICA/IGZ1bmN0aW9uIChPKSB7XG4gICAgICAgICAgICByZXR1cm4gTy5fX3Byb3RvX187IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcHJvdG9cbiAgICAgICAgfVxuICAgICAgICA6IG51bGxcbik7XG5cbnZhciBpbnNwZWN0Q3VzdG9tID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlsLmluc3BlY3QgKi8gXCI/Yzk1YVwiKS5jdXN0b207XG52YXIgaW5zcGVjdFN5bWJvbCA9IGluc3BlY3RDdXN0b20gJiYgaXNTeW1ib2woaW5zcGVjdEN1c3RvbSkgPyBpbnNwZWN0Q3VzdG9tIDogbnVsbDtcbnZhciB0b1N0cmluZ1RhZyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyAhPT0gJ3VuZGVmaW5lZCcgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiBudWxsO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluc3BlY3RfKG9iaiwgb3B0aW9ucywgZGVwdGgsIHNlZW4pIHtcbiAgICB2YXIgb3B0cyA9IG9wdGlvbnMgfHwge307XG5cbiAgICBpZiAoaGFzKG9wdHMsICdxdW90ZVN0eWxlJykgJiYgKG9wdHMucXVvdGVTdHlsZSAhPT0gJ3NpbmdsZScgJiYgb3B0cy5xdW90ZVN0eWxlICE9PSAnZG91YmxlJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIFwicXVvdGVTdHlsZVwiIG11c3QgYmUgXCJzaW5nbGVcIiBvciBcImRvdWJsZVwiJyk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICAgaGFzKG9wdHMsICdtYXhTdHJpbmdMZW5ndGgnKSAmJiAodHlwZW9mIG9wdHMubWF4U3RyaW5nTGVuZ3RoID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgPyBvcHRzLm1heFN0cmluZ0xlbmd0aCA8IDAgJiYgb3B0cy5tYXhTdHJpbmdMZW5ndGggIT09IEluZmluaXR5XG4gICAgICAgICAgICA6IG9wdHMubWF4U3RyaW5nTGVuZ3RoICE9PSBudWxsXG4gICAgICAgIClcbiAgICApIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIFwibWF4U3RyaW5nTGVuZ3RoXCIsIGlmIHByb3ZpZGVkLCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciwgSW5maW5pdHksIG9yIGBudWxsYCcpO1xuICAgIH1cbiAgICB2YXIgY3VzdG9tSW5zcGVjdCA9IGhhcyhvcHRzLCAnY3VzdG9tSW5zcGVjdCcpID8gb3B0cy5jdXN0b21JbnNwZWN0IDogdHJ1ZTtcbiAgICBpZiAodHlwZW9mIGN1c3RvbUluc3BlY3QgIT09ICdib29sZWFuJyAmJiBjdXN0b21JbnNwZWN0ICE9PSAnc3ltYm9sJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gXCJjdXN0b21JbnNwZWN0XCIsIGlmIHByb3ZpZGVkLCBtdXN0IGJlIGB0cnVlYCwgYGZhbHNlYCwgb3IgYFxcJ3N5bWJvbFxcJ2AnKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAgIGhhcyhvcHRzLCAnaW5kZW50JylcbiAgICAgICAgJiYgb3B0cy5pbmRlbnQgIT09IG51bGxcbiAgICAgICAgJiYgb3B0cy5pbmRlbnQgIT09ICdcXHQnXG4gICAgICAgICYmICEocGFyc2VJbnQob3B0cy5pbmRlbnQsIDEwKSA9PT0gb3B0cy5pbmRlbnQgJiYgb3B0cy5pbmRlbnQgPiAwKVxuICAgICkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb25zIFwiaW5kZW50XCIgbXVzdCBiZSBcIlxcXFx0XCIsIGFuIGludGVnZXIgPiAwLCBvciBgbnVsbGAnKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuICd1bmRlZmluZWQnO1xuICAgIH1cbiAgICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnbnVsbCc7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIG9iaiA/ICd0cnVlJyA6ICdmYWxzZSc7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBpbnNwZWN0U3RyaW5nKG9iaiwgb3B0cyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAob2JqID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gSW5maW5pdHkgLyBvYmogPiAwID8gJzAnIDogJy0wJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU3RyaW5nKG9iaik7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnYmlnaW50Jykge1xuICAgICAgICByZXR1cm4gU3RyaW5nKG9iaikgKyAnbic7XG4gICAgfVxuXG4gICAgdmFyIG1heERlcHRoID0gdHlwZW9mIG9wdHMuZGVwdGggPT09ICd1bmRlZmluZWQnID8gNSA6IG9wdHMuZGVwdGg7XG4gICAgaWYgKHR5cGVvZiBkZXB0aCA9PT0gJ3VuZGVmaW5lZCcpIHsgZGVwdGggPSAwOyB9XG4gICAgaWYgKGRlcHRoID49IG1heERlcHRoICYmIG1heERlcHRoID4gMCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gaXNBcnJheShvYmopID8gJ1tBcnJheV0nIDogJ1tPYmplY3RdJztcbiAgICB9XG5cbiAgICB2YXIgaW5kZW50ID0gZ2V0SW5kZW50KG9wdHMsIGRlcHRoKTtcblxuICAgIGlmICh0eXBlb2Ygc2VlbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VlbiA9IFtdO1xuICAgIH0gZWxzZSBpZiAoaW5kZXhPZihzZWVuLCBvYmopID49IDApIHtcbiAgICAgICAgcmV0dXJuICdbQ2lyY3VsYXJdJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnNwZWN0KHZhbHVlLCBmcm9tLCBub0luZGVudCkge1xuICAgICAgICBpZiAoZnJvbSkge1xuICAgICAgICAgICAgc2VlbiA9IHNlZW4uc2xpY2UoKTtcbiAgICAgICAgICAgIHNlZW4ucHVzaChmcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9JbmRlbnQpIHtcbiAgICAgICAgICAgIHZhciBuZXdPcHRzID0ge1xuICAgICAgICAgICAgICAgIGRlcHRoOiBvcHRzLmRlcHRoXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGhhcyhvcHRzLCAncXVvdGVTdHlsZScpKSB7XG4gICAgICAgICAgICAgICAgbmV3T3B0cy5xdW90ZVN0eWxlID0gb3B0cy5xdW90ZVN0eWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGluc3BlY3RfKHZhbHVlLCBuZXdPcHRzLCBkZXB0aCArIDEsIHNlZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnNwZWN0Xyh2YWx1ZSwgb3B0cywgZGVwdGggKyAxLCBzZWVuKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgbmFtZSA9IG5hbWVPZihvYmopO1xuICAgICAgICB2YXIga2V5cyA9IGFyck9iaktleXMob2JqLCBpbnNwZWN0KTtcbiAgICAgICAgcmV0dXJuICdbRnVuY3Rpb24nICsgKG5hbWUgPyAnOiAnICsgbmFtZSA6ICcgKGFub255bW91cyknKSArICddJyArIChrZXlzLmxlbmd0aCA+IDAgPyAnIHsgJyArIGtleXMuam9pbignLCAnKSArICcgfScgOiAnJyk7XG4gICAgfVxuICAgIGlmIChpc1N5bWJvbChvYmopKSB7XG4gICAgICAgIHZhciBzeW1TdHJpbmcgPSBoYXNTaGFtbWVkU3ltYm9scyA/IFN0cmluZyhvYmopLnJlcGxhY2UoL14oU3ltYm9sXFwoLipcXCkpX1teKV0qJC8sICckMScpIDogc3ltVG9TdHJpbmcuY2FsbChvYmopO1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgIWhhc1NoYW1tZWRTeW1ib2xzID8gbWFya0JveGVkKHN5bVN0cmluZykgOiBzeW1TdHJpbmc7XG4gICAgfVxuICAgIGlmIChpc0VsZW1lbnQob2JqKSkge1xuICAgICAgICB2YXIgcyA9ICc8JyArIFN0cmluZyhvYmoubm9kZU5hbWUpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHZhciBhdHRycyA9IG9iai5hdHRyaWJ1dGVzIHx8IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzICs9ICcgJyArIGF0dHJzW2ldLm5hbWUgKyAnPScgKyB3cmFwUXVvdGVzKHF1b3RlKGF0dHJzW2ldLnZhbHVlKSwgJ2RvdWJsZScsIG9wdHMpO1xuICAgICAgICB9XG4gICAgICAgIHMgKz0gJz4nO1xuICAgICAgICBpZiAob2JqLmNoaWxkTm9kZXMgJiYgb2JqLmNoaWxkTm9kZXMubGVuZ3RoKSB7IHMgKz0gJy4uLic7IH1cbiAgICAgICAgcyArPSAnPC8nICsgU3RyaW5nKG9iai5ub2RlTmFtZSkudG9Mb3dlckNhc2UoKSArICc+JztcbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuICAgIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAgICAgaWYgKG9iai5sZW5ndGggPT09IDApIHsgcmV0dXJuICdbXSc7IH1cbiAgICAgICAgdmFyIHhzID0gYXJyT2JqS2V5cyhvYmosIGluc3BlY3QpO1xuICAgICAgICBpZiAoaW5kZW50ICYmICFzaW5nbGVMaW5lVmFsdWVzKHhzKSkge1xuICAgICAgICAgICAgcmV0dXJuICdbJyArIGluZGVudGVkSm9pbih4cywgaW5kZW50KSArICddJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ1sgJyArIHhzLmpvaW4oJywgJykgKyAnIF0nO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcihvYmopKSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IGFyck9iaktleXMob2JqLCBpbnNwZWN0KTtcbiAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMCkgeyByZXR1cm4gJ1snICsgU3RyaW5nKG9iaikgKyAnXSc7IH1cbiAgICAgICAgcmV0dXJuICd7IFsnICsgU3RyaW5nKG9iaikgKyAnXSAnICsgcGFydHMuam9pbignLCAnKSArICcgfSc7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBjdXN0b21JbnNwZWN0KSB7XG4gICAgICAgIGlmIChpbnNwZWN0U3ltYm9sICYmIHR5cGVvZiBvYmpbaW5zcGVjdFN5bWJvbF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmpbaW5zcGVjdFN5bWJvbF0oKTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXN0b21JbnNwZWN0ICE9PSAnc3ltYm9sJyAmJiB0eXBlb2Ygb2JqLmluc3BlY3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmouaW5zcGVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc01hcChvYmopKSB7XG4gICAgICAgIHZhciBtYXBQYXJ0cyA9IFtdO1xuICAgICAgICBtYXBGb3JFYWNoLmNhbGwob2JqLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgICAgbWFwUGFydHMucHVzaChpbnNwZWN0KGtleSwgb2JqLCB0cnVlKSArICcgPT4gJyArIGluc3BlY3QodmFsdWUsIG9iaikpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb25PZignTWFwJywgbWFwU2l6ZS5jYWxsKG9iaiksIG1hcFBhcnRzLCBpbmRlbnQpO1xuICAgIH1cbiAgICBpZiAoaXNTZXQob2JqKSkge1xuICAgICAgICB2YXIgc2V0UGFydHMgPSBbXTtcbiAgICAgICAgc2V0Rm9yRWFjaC5jYWxsKG9iaiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBzZXRQYXJ0cy5wdXNoKGluc3BlY3QodmFsdWUsIG9iaikpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb25PZignU2V0Jywgc2V0U2l6ZS5jYWxsKG9iaiksIHNldFBhcnRzLCBpbmRlbnQpO1xuICAgIH1cbiAgICBpZiAoaXNXZWFrTWFwKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIHdlYWtDb2xsZWN0aW9uT2YoJ1dlYWtNYXAnKTtcbiAgICB9XG4gICAgaWYgKGlzV2Vha1NldChvYmopKSB7XG4gICAgICAgIHJldHVybiB3ZWFrQ29sbGVjdGlvbk9mKCdXZWFrU2V0Jyk7XG4gICAgfVxuICAgIGlmIChpc1dlYWtSZWYob2JqKSkge1xuICAgICAgICByZXR1cm4gd2Vha0NvbGxlY3Rpb25PZignV2Vha1JlZicpO1xuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIob2JqKSkge1xuICAgICAgICByZXR1cm4gbWFya0JveGVkKGluc3BlY3QoTnVtYmVyKG9iaikpKTtcbiAgICB9XG4gICAgaWYgKGlzQmlnSW50KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG1hcmtCb3hlZChpbnNwZWN0KGJpZ0ludFZhbHVlT2YuY2FsbChvYmopKSk7XG4gICAgfVxuICAgIGlmIChpc0Jvb2xlYW4ob2JqKSkge1xuICAgICAgICByZXR1cm4gbWFya0JveGVkKGJvb2xlYW5WYWx1ZU9mLmNhbGwob2JqKSk7XG4gICAgfVxuICAgIGlmIChpc1N0cmluZyhvYmopKSB7XG4gICAgICAgIHJldHVybiBtYXJrQm94ZWQoaW5zcGVjdChTdHJpbmcob2JqKSkpO1xuICAgIH1cbiAgICBpZiAoIWlzRGF0ZShvYmopICYmICFpc1JlZ0V4cChvYmopKSB7XG4gICAgICAgIHZhciB5cyA9IGFyck9iaktleXMob2JqLCBpbnNwZWN0KTtcbiAgICAgICAgdmFyIGlzUGxhaW5PYmplY3QgPSBnUE8gPyBnUE8ob2JqKSA9PT0gT2JqZWN0LnByb3RvdHlwZSA6IG9iaiBpbnN0YW5jZW9mIE9iamVjdCB8fCBvYmouY29uc3RydWN0b3IgPT09IE9iamVjdDtcbiAgICAgICAgdmFyIHByb3RvVGFnID0gb2JqIGluc3RhbmNlb2YgT2JqZWN0ID8gJycgOiAnbnVsbCBwcm90b3R5cGUnO1xuICAgICAgICB2YXIgc3RyaW5nVGFnID0gIWlzUGxhaW5PYmplY3QgJiYgdG9TdHJpbmdUYWcgJiYgT2JqZWN0KG9iaikgPT09IG9iaiAmJiB0b1N0cmluZ1RhZyBpbiBvYmogPyB0b1N0cihvYmopLnNsaWNlKDgsIC0xKSA6IHByb3RvVGFnID8gJ09iamVjdCcgOiAnJztcbiAgICAgICAgdmFyIGNvbnN0cnVjdG9yVGFnID0gaXNQbGFpbk9iamVjdCB8fCB0eXBlb2Ygb2JqLmNvbnN0cnVjdG9yICE9PSAnZnVuY3Rpb24nID8gJycgOiBvYmouY29uc3RydWN0b3IubmFtZSA/IG9iai5jb25zdHJ1Y3Rvci5uYW1lICsgJyAnIDogJyc7XG4gICAgICAgIHZhciB0YWcgPSBjb25zdHJ1Y3RvclRhZyArIChzdHJpbmdUYWcgfHwgcHJvdG9UYWcgPyAnWycgKyBbXS5jb25jYXQoc3RyaW5nVGFnIHx8IFtdLCBwcm90b1RhZyB8fCBbXSkuam9pbignOiAnKSArICddICcgOiAnJyk7XG4gICAgICAgIGlmICh5cy5sZW5ndGggPT09IDApIHsgcmV0dXJuIHRhZyArICd7fSc7IH1cbiAgICAgICAgaWYgKGluZGVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRhZyArICd7JyArIGluZGVudGVkSm9pbih5cywgaW5kZW50KSArICd9JztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFnICsgJ3sgJyArIHlzLmpvaW4oJywgJykgKyAnIH0nO1xuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nKG9iaik7XG59O1xuXG5mdW5jdGlvbiB3cmFwUXVvdGVzKHMsIGRlZmF1bHRTdHlsZSwgb3B0cykge1xuICAgIHZhciBxdW90ZUNoYXIgPSAob3B0cy5xdW90ZVN0eWxlIHx8IGRlZmF1bHRTdHlsZSkgPT09ICdkb3VibGUnID8gJ1wiJyA6IFwiJ1wiO1xuICAgIHJldHVybiBxdW90ZUNoYXIgKyBzICsgcXVvdGVDaGFyO1xufVxuXG5mdW5jdGlvbiBxdW90ZShzKSB7XG4gICAgcmV0dXJuIFN0cmluZyhzKS5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyk7XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXkob2JqKSB7IHJldHVybiB0b1N0cihvYmopID09PSAnW29iamVjdCBBcnJheV0nICYmICghdG9TdHJpbmdUYWcgfHwgISh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiB0b1N0cmluZ1RhZyBpbiBvYmopKTsgfVxuZnVuY3Rpb24gaXNEYXRlKG9iaikgeyByZXR1cm4gdG9TdHIob2JqKSA9PT0gJ1tvYmplY3QgRGF0ZV0nICYmICghdG9TdHJpbmdUYWcgfHwgISh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiB0b1N0cmluZ1RhZyBpbiBvYmopKTsgfVxuZnVuY3Rpb24gaXNSZWdFeHAob2JqKSB7IHJldHVybiB0b1N0cihvYmopID09PSAnW29iamVjdCBSZWdFeHBdJyAmJiAoIXRvU3RyaW5nVGFnIHx8ICEodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgdG9TdHJpbmdUYWcgaW4gb2JqKSk7IH1cbmZ1bmN0aW9uIGlzRXJyb3Iob2JqKSB7IHJldHVybiB0b1N0cihvYmopID09PSAnW29iamVjdCBFcnJvcl0nICYmICghdG9TdHJpbmdUYWcgfHwgISh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiB0b1N0cmluZ1RhZyBpbiBvYmopKTsgfVxuZnVuY3Rpb24gaXNTdHJpbmcob2JqKSB7IHJldHVybiB0b1N0cihvYmopID09PSAnW29iamVjdCBTdHJpbmddJyAmJiAoIXRvU3RyaW5nVGFnIHx8ICEodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgdG9TdHJpbmdUYWcgaW4gb2JqKSk7IH1cbmZ1bmN0aW9uIGlzTnVtYmVyKG9iaikgeyByZXR1cm4gdG9TdHIob2JqKSA9PT0gJ1tvYmplY3QgTnVtYmVyXScgJiYgKCF0b1N0cmluZ1RhZyB8fCAhKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIHRvU3RyaW5nVGFnIGluIG9iaikpOyB9XG5mdW5jdGlvbiBpc0Jvb2xlYW4ob2JqKSB7IHJldHVybiB0b1N0cihvYmopID09PSAnW29iamVjdCBCb29sZWFuXScgJiYgKCF0b1N0cmluZ1RhZyB8fCAhKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIHRvU3RyaW5nVGFnIGluIG9iaikpOyB9XG5cbi8vIFN5bWJvbCBhbmQgQmlnSW50IGRvIGhhdmUgU3ltYm9sLnRvU3RyaW5nVGFnIGJ5IHNwZWMsIHNvIHRoYXQgY2FuJ3QgYmUgdXNlZCB0byBlbGltaW5hdGUgZmFsc2UgcG9zaXRpdmVzXG5mdW5jdGlvbiBpc1N5bWJvbChvYmopIHtcbiAgICBpZiAoaGFzU2hhbW1lZFN5bWJvbHMpIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogaW5zdGFuY2VvZiBTeW1ib2w7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnc3ltYm9sJykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgIXN5bVRvU3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgc3ltVG9TdHJpbmcuY2FsbChvYmopO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNCaWdJbnQob2JqKSB7XG4gICAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgIWJpZ0ludFZhbHVlT2YpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBiaWdJbnRWYWx1ZU9mLmNhbGwob2JqKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbnZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5IHx8IGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGtleSBpbiB0aGlzOyB9O1xuZnVuY3Rpb24gaGFzKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIGhhc093bi5jYWxsKG9iaiwga2V5KTtcbn1cblxuZnVuY3Rpb24gdG9TdHIob2JqKSB7XG4gICAgcmV0dXJuIG9iamVjdFRvU3RyaW5nLmNhbGwob2JqKTtcbn1cblxuZnVuY3Rpb24gbmFtZU9mKGYpIHtcbiAgICBpZiAoZi5uYW1lKSB7IHJldHVybiBmLm5hbWU7IH1cbiAgICB2YXIgbSA9IG1hdGNoLmNhbGwoZnVuY3Rpb25Ub1N0cmluZy5jYWxsKGYpLCAvXmZ1bmN0aW9uXFxzKihbXFx3JF0rKS8pO1xuICAgIGlmIChtKSB7IHJldHVybiBtWzFdOyB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGluZGV4T2YoeHMsIHgpIHtcbiAgICBpZiAoeHMuaW5kZXhPZikgeyByZXR1cm4geHMuaW5kZXhPZih4KTsgfVxuICAgIGZvciAodmFyIGkgPSAwLCBsID0geHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGlmICh4c1tpXSA9PT0geCkgeyByZXR1cm4gaTsgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG5cbmZ1bmN0aW9uIGlzTWFwKHgpIHtcbiAgICBpZiAoIW1hcFNpemUgfHwgIXggfHwgdHlwZW9mIHggIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgbWFwU2l6ZS5jYWxsKHgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0U2l6ZS5jYWxsKHgpO1xuICAgICAgICB9IGNhdGNoIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geCBpbnN0YW5jZW9mIE1hcDsgLy8gY29yZS1qcyB3b3JrYXJvdW5kLCBwcmUtdjIuNS4wXG4gICAgfSBjYXRjaCAoZSkge31cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzV2Vha01hcCh4KSB7XG4gICAgaWYgKCF3ZWFrTWFwSGFzIHx8ICF4IHx8IHR5cGVvZiB4ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHdlYWtNYXBIYXMuY2FsbCh4LCB3ZWFrTWFwSGFzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdlYWtTZXRIYXMuY2FsbCh4LCB3ZWFrU2V0SGFzKTtcbiAgICAgICAgfSBjYXRjaCAocykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHggaW5zdGFuY2VvZiBXZWFrTWFwOyAvLyBjb3JlLWpzIHdvcmthcm91bmQsIHByZS12Mi41LjBcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNXZWFrUmVmKHgpIHtcbiAgICBpZiAoIXdlYWtSZWZEZXJlZiB8fCAheCB8fCB0eXBlb2YgeCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICB3ZWFrUmVmRGVyZWYuY2FsbCh4KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzU2V0KHgpIHtcbiAgICBpZiAoIXNldFNpemUgfHwgIXggfHwgdHlwZW9mIHggIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgc2V0U2l6ZS5jYWxsKHgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbWFwU2l6ZS5jYWxsKHgpO1xuICAgICAgICB9IGNhdGNoIChtKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geCBpbnN0YW5jZW9mIFNldDsgLy8gY29yZS1qcyB3b3JrYXJvdW5kLCBwcmUtdjIuNS4wXG4gICAgfSBjYXRjaCAoZSkge31cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzV2Vha1NldCh4KSB7XG4gICAgaWYgKCF3ZWFrU2V0SGFzIHx8ICF4IHx8IHR5cGVvZiB4ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHdlYWtTZXRIYXMuY2FsbCh4LCB3ZWFrU2V0SGFzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdlYWtNYXBIYXMuY2FsbCh4LCB3ZWFrTWFwSGFzKTtcbiAgICAgICAgfSBjYXRjaCAocykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHggaW5zdGFuY2VvZiBXZWFrU2V0OyAvLyBjb3JlLWpzIHdvcmthcm91bmQsIHByZS12Mi41LjBcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNFbGVtZW50KHgpIHtcbiAgICBpZiAoIXggfHwgdHlwZW9mIHggIT09ICdvYmplY3QnKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGlmICh0eXBlb2YgSFRNTEVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHggaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGVvZiB4Lm5vZGVOYW1lID09PSAnc3RyaW5nJyAmJiB0eXBlb2YgeC5nZXRBdHRyaWJ1dGUgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGluc3BlY3RTdHJpbmcoc3RyLCBvcHRzKSB7XG4gICAgaWYgKHN0ci5sZW5ndGggPiBvcHRzLm1heFN0cmluZ0xlbmd0aCkge1xuICAgICAgICB2YXIgcmVtYWluaW5nID0gc3RyLmxlbmd0aCAtIG9wdHMubWF4U3RyaW5nTGVuZ3RoO1xuICAgICAgICB2YXIgdHJhaWxlciA9ICcuLi4gJyArIHJlbWFpbmluZyArICcgbW9yZSBjaGFyYWN0ZXInICsgKHJlbWFpbmluZyA+IDEgPyAncycgOiAnJyk7XG4gICAgICAgIHJldHVybiBpbnNwZWN0U3RyaW5nKHN0ci5zbGljZSgwLCBvcHRzLm1heFN0cmluZ0xlbmd0aCksIG9wdHMpICsgdHJhaWxlcjtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbiAgICB2YXIgcyA9IHN0ci5yZXBsYWNlKC8oWydcXFxcXSkvZywgJ1xcXFwkMScpLnJlcGxhY2UoL1tcXHgwMC1cXHgxZl0vZywgbG93Ynl0ZSk7XG4gICAgcmV0dXJuIHdyYXBRdW90ZXMocywgJ3NpbmdsZScsIG9wdHMpO1xufVxuXG5mdW5jdGlvbiBsb3dieXRlKGMpIHtcbiAgICB2YXIgbiA9IGMuY2hhckNvZGVBdCgwKTtcbiAgICB2YXIgeCA9IHtcbiAgICAgICAgODogJ2InLFxuICAgICAgICA5OiAndCcsXG4gICAgICAgIDEwOiAnbicsXG4gICAgICAgIDEyOiAnZicsXG4gICAgICAgIDEzOiAncidcbiAgICB9W25dO1xuICAgIGlmICh4KSB7IHJldHVybiAnXFxcXCcgKyB4OyB9XG4gICAgcmV0dXJuICdcXFxceCcgKyAobiA8IDB4MTAgPyAnMCcgOiAnJykgKyBuLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xufVxuXG5mdW5jdGlvbiBtYXJrQm94ZWQoc3RyKSB7XG4gICAgcmV0dXJuICdPYmplY3QoJyArIHN0ciArICcpJztcbn1cblxuZnVuY3Rpb24gd2Vha0NvbGxlY3Rpb25PZih0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGUgKyAnIHsgPyB9Jztcbn1cblxuZnVuY3Rpb24gY29sbGVjdGlvbk9mKHR5cGUsIHNpemUsIGVudHJpZXMsIGluZGVudCkge1xuICAgIHZhciBqb2luZWRFbnRyaWVzID0gaW5kZW50ID8gaW5kZW50ZWRKb2luKGVudHJpZXMsIGluZGVudCkgOiBlbnRyaWVzLmpvaW4oJywgJyk7XG4gICAgcmV0dXJuIHR5cGUgKyAnICgnICsgc2l6ZSArICcpIHsnICsgam9pbmVkRW50cmllcyArICd9Jztcbn1cblxuZnVuY3Rpb24gc2luZ2xlTGluZVZhbHVlcyh4cykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGluZGV4T2YoeHNbaV0sICdcXG4nKSA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGdldEluZGVudChvcHRzLCBkZXB0aCkge1xuICAgIHZhciBiYXNlSW5kZW50O1xuICAgIGlmIChvcHRzLmluZGVudCA9PT0gJ1xcdCcpIHtcbiAgICAgICAgYmFzZUluZGVudCA9ICdcXHQnO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdHMuaW5kZW50ID09PSAnbnVtYmVyJyAmJiBvcHRzLmluZGVudCA+IDApIHtcbiAgICAgICAgYmFzZUluZGVudCA9IEFycmF5KG9wdHMuaW5kZW50ICsgMSkuam9pbignICcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBiYXNlOiBiYXNlSW5kZW50LFxuICAgICAgICBwcmV2OiBBcnJheShkZXB0aCArIDEpLmpvaW4oYmFzZUluZGVudClcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBpbmRlbnRlZEpvaW4oeHMsIGluZGVudCkge1xuICAgIGlmICh4cy5sZW5ndGggPT09IDApIHsgcmV0dXJuICcnOyB9XG4gICAgdmFyIGxpbmVKb2luZXIgPSAnXFxuJyArIGluZGVudC5wcmV2ICsgaW5kZW50LmJhc2U7XG4gICAgcmV0dXJuIGxpbmVKb2luZXIgKyB4cy5qb2luKCcsJyArIGxpbmVKb2luZXIpICsgJ1xcbicgKyBpbmRlbnQucHJldjtcbn1cblxuZnVuY3Rpb24gYXJyT2JqS2V5cyhvYmosIGluc3BlY3QpIHtcbiAgICB2YXIgaXNBcnIgPSBpc0FycmF5KG9iaik7XG4gICAgdmFyIHhzID0gW107XG4gICAgaWYgKGlzQXJyKSB7XG4gICAgICAgIHhzLmxlbmd0aCA9IG9iai5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB4c1tpXSA9IGhhcyhvYmosIGkpID8gaW5zcGVjdChvYmpbaV0sIG9iaikgOiAnJztcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgc3ltcyA9IHR5cGVvZiBnT1BTID09PSAnZnVuY3Rpb24nID8gZ09QUyhvYmopIDogW107XG4gICAgdmFyIHN5bU1hcDtcbiAgICBpZiAoaGFzU2hhbW1lZFN5bWJvbHMpIHtcbiAgICAgICAgc3ltTWFwID0ge307XG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgc3ltcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgc3ltTWFwWyckJyArIHN5bXNba11dID0gc3ltc1trXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgICBpZiAoIWhhcyhvYmosIGtleSkpIHsgY29udGludWU7IH0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheCwgbm8tY29udGludWVcbiAgICAgICAgaWYgKGlzQXJyICYmIFN0cmluZyhOdW1iZXIoa2V5KSkgPT09IGtleSAmJiBrZXkgPCBvYmoubGVuZ3RoKSB7IGNvbnRpbnVlOyB9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXgsIG5vLWNvbnRpbnVlXG4gICAgICAgIGlmIChoYXNTaGFtbWVkU3ltYm9scyAmJiBzeW1NYXBbJyQnICsga2V5XSBpbnN0YW5jZW9mIFN5bWJvbCkge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyB0byBwcmV2ZW50IHNoYW1tZWQgU3ltYm9scywgd2hpY2ggYXJlIHN0b3JlZCBhcyBzdHJpbmdzLCBmcm9tIGJlaW5nIGluY2x1ZGVkIGluIHRoZSBzdHJpbmcga2V5IHNlY3Rpb25cbiAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4LCBuby1jb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKCgvW15cXHckXS8pLnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgeHMucHVzaChpbnNwZWN0KGtleSwgb2JqKSArICc6ICcgKyBpbnNwZWN0KG9ialtrZXldLCBvYmopKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHhzLnB1c2goa2V5ICsgJzogJyArIGluc3BlY3Qob2JqW2tleV0sIG9iaikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZ09QUyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN5bXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChpc0VudW1lcmFibGUuY2FsbChvYmosIHN5bXNbal0pKSB7XG4gICAgICAgICAgICAgICAgeHMucHVzaCgnWycgKyBpbnNwZWN0KHN5bXNbal0pICsgJ106ICcgKyBpbnNwZWN0KG9ialtzeW1zW2pdXSwgb2JqKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHhzO1xufVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9xcy9saWIvZm9ybWF0cy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi4vLi4vbm9kZV9tb2R1bGVzL3FzL2xpYi9mb3JtYXRzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIHJlcGxhY2UgPSBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2U7XG52YXIgcGVyY2VudFR3ZW50aWVzID0gLyUyMC9nO1xuXG52YXIgRm9ybWF0ID0ge1xuICAgIFJGQzE3Mzg6ICdSRkMxNzM4JyxcbiAgICBSRkMzOTg2OiAnUkZDMzk4Nidcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgICdkZWZhdWx0JzogRm9ybWF0LlJGQzM5ODYsXG4gICAgZm9ybWF0dGVyczoge1xuICAgICAgICBSRkMxNzM4OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXBsYWNlLmNhbGwodmFsdWUsIHBlcmNlbnRUd2VudGllcywgJysnKTtcbiAgICAgICAgfSxcbiAgICAgICAgUkZDMzk4NjogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgUkZDMTczODogRm9ybWF0LlJGQzE3MzgsXG4gICAgUkZDMzk4NjogRm9ybWF0LlJGQzM5ODZcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vLi4vbm9kZV9tb2R1bGVzL3FzL2xpYi9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4uLy4uL25vZGVfbW9kdWxlcy9xcy9saWIvaW5kZXguanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgc3RyaW5naWZ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zdHJpbmdpZnkgKi8gXCIuLi8uLi9ub2RlX21vZHVsZXMvcXMvbGliL3N0cmluZ2lmeS5qc1wiKTtcbnZhciBwYXJzZSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcGFyc2UgKi8gXCIuLi8uLi9ub2RlX21vZHVsZXMvcXMvbGliL3BhcnNlLmpzXCIpO1xudmFyIGZvcm1hdHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zvcm1hdHMgKi8gXCIuLi8uLi9ub2RlX21vZHVsZXMvcXMvbGliL2Zvcm1hdHMuanNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGZvcm1hdHM6IGZvcm1hdHMsXG4gICAgcGFyc2U6IHBhcnNlLFxuICAgIHN0cmluZ2lmeTogc3RyaW5naWZ5XG59O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9xcy9saWIvcGFyc2UuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuLi8uLi9ub2RlX21vZHVsZXMvcXMvbGliL3BhcnNlLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3VudXNlZF93ZWJwYWNrX2V4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cblxudmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlscyAqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9xcy9saWIvdXRpbHMuanNcIik7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG52YXIgZGVmYXVsdHMgPSB7XG4gICAgYWxsb3dEb3RzOiBmYWxzZSxcbiAgICBhbGxvd1Byb3RvdHlwZXM6IGZhbHNlLFxuICAgIGFsbG93U3BhcnNlOiBmYWxzZSxcbiAgICBhcnJheUxpbWl0OiAyMCxcbiAgICBjaGFyc2V0OiAndXRmLTgnLFxuICAgIGNoYXJzZXRTZW50aW5lbDogZmFsc2UsXG4gICAgY29tbWE6IGZhbHNlLFxuICAgIGRlY29kZXI6IHV0aWxzLmRlY29kZSxcbiAgICBkZWxpbWl0ZXI6ICcmJyxcbiAgICBkZXB0aDogNSxcbiAgICBpZ25vcmVRdWVyeVByZWZpeDogZmFsc2UsXG4gICAgaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzOiBmYWxzZSxcbiAgICBwYXJhbWV0ZXJMaW1pdDogMTAwMCxcbiAgICBwYXJzZUFycmF5czogdHJ1ZSxcbiAgICBwbGFpbk9iamVjdHM6IGZhbHNlLFxuICAgIHN0cmljdE51bGxIYW5kbGluZzogZmFsc2Vcbn07XG5cbnZhciBpbnRlcnByZXROdW1lcmljRW50aXRpZXMgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8mIyhcXGQrKTsvZywgZnVuY3Rpb24gKCQwLCBudW1iZXJTdHIpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQobnVtYmVyU3RyLCAxMCkpO1xuICAgIH0pO1xufTtcblxudmFyIHBhcnNlQXJyYXlWYWx1ZSA9IGZ1bmN0aW9uICh2YWwsIG9wdGlvbnMpIHtcbiAgICBpZiAodmFsICYmIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmIG9wdGlvbnMuY29tbWEgJiYgdmFsLmluZGV4T2YoJywnKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiB2YWwuc3BsaXQoJywnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsO1xufTtcblxuLy8gVGhpcyBpcyB3aGF0IGJyb3dzZXJzIHdpbGwgc3VibWl0IHdoZW4gdGhlIOKckyBjaGFyYWN0ZXIgb2NjdXJzIGluIGFuXG4vLyBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQgYm9keSBhbmQgdGhlIGVuY29kaW5nIG9mIHRoZSBwYWdlIGNvbnRhaW5pbmdcbi8vIHRoZSBmb3JtIGlzIGlzby04ODU5LTEsIG9yIHdoZW4gdGhlIHN1Ym1pdHRlZCBmb3JtIGhhcyBhbiBhY2NlcHQtY2hhcnNldFxuLy8gYXR0cmlidXRlIG9mIGlzby04ODU5LTEuIFByZXN1bWFibHkgYWxzbyB3aXRoIG90aGVyIGNoYXJzZXRzIHRoYXQgZG8gbm90IGNvbnRhaW5cbi8vIHRoZSDinJMgY2hhcmFjdGVyLCBzdWNoIGFzIHVzLWFzY2lpLlxudmFyIGlzb1NlbnRpbmVsID0gJ3V0Zjg9JTI2JTIzMTAwMDMlM0InOyAvLyBlbmNvZGVVUklDb21wb25lbnQoJyYjMTAwMDM7JylcblxuLy8gVGhlc2UgYXJlIHRoZSBwZXJjZW50LWVuY29kZWQgdXRmLTggb2N0ZXRzIHJlcHJlc2VudGluZyBhIGNoZWNrbWFyaywgaW5kaWNhdGluZyB0aGF0IHRoZSByZXF1ZXN0IGFjdHVhbGx5IGlzIHV0Zi04IGVuY29kZWQuXG52YXIgY2hhcnNldFNlbnRpbmVsID0gJ3V0Zjg9JUUyJTlDJTkzJzsgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCfinJMnKVxuXG52YXIgcGFyc2VWYWx1ZXMgPSBmdW5jdGlvbiBwYXJzZVF1ZXJ5U3RyaW5nVmFsdWVzKHN0ciwgb3B0aW9ucykge1xuICAgIHZhciBvYmogPSB7fTtcbiAgICB2YXIgY2xlYW5TdHIgPSBvcHRpb25zLmlnbm9yZVF1ZXJ5UHJlZml4ID8gc3RyLnJlcGxhY2UoL15cXD8vLCAnJykgOiBzdHI7XG4gICAgdmFyIGxpbWl0ID0gb3B0aW9ucy5wYXJhbWV0ZXJMaW1pdCA9PT0gSW5maW5pdHkgPyB1bmRlZmluZWQgOiBvcHRpb25zLnBhcmFtZXRlckxpbWl0O1xuICAgIHZhciBwYXJ0cyA9IGNsZWFuU3RyLnNwbGl0KG9wdGlvbnMuZGVsaW1pdGVyLCBsaW1pdCk7XG4gICAgdmFyIHNraXBJbmRleCA9IC0xOyAvLyBLZWVwIHRyYWNrIG9mIHdoZXJlIHRoZSB1dGY4IHNlbnRpbmVsIHdhcyBmb3VuZFxuICAgIHZhciBpO1xuXG4gICAgdmFyIGNoYXJzZXQgPSBvcHRpb25zLmNoYXJzZXQ7XG4gICAgaWYgKG9wdGlvbnMuY2hhcnNldFNlbnRpbmVsKSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKHBhcnRzW2ldLmluZGV4T2YoJ3V0Zjg9JykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAocGFydHNbaV0gPT09IGNoYXJzZXRTZW50aW5lbCkge1xuICAgICAgICAgICAgICAgICAgICBjaGFyc2V0ID0gJ3V0Zi04JztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnRzW2ldID09PSBpc29TZW50aW5lbCkge1xuICAgICAgICAgICAgICAgICAgICBjaGFyc2V0ID0gJ2lzby04ODU5LTEnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBza2lwSW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIGkgPSBwYXJ0cy5sZW5ndGg7IC8vIFRoZSBlc2xpbnQgc2V0dGluZ3MgZG8gbm90IGFsbG93IGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChpID09PSBza2lwSW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJ0ID0gcGFydHNbaV07XG5cbiAgICAgICAgdmFyIGJyYWNrZXRFcXVhbHNQb3MgPSBwYXJ0LmluZGV4T2YoJ109Jyk7XG4gICAgICAgIHZhciBwb3MgPSBicmFja2V0RXF1YWxzUG9zID09PSAtMSA/IHBhcnQuaW5kZXhPZignPScpIDogYnJhY2tldEVxdWFsc1BvcyArIDE7XG5cbiAgICAgICAgdmFyIGtleSwgdmFsO1xuICAgICAgICBpZiAocG9zID09PSAtMSkge1xuICAgICAgICAgICAga2V5ID0gb3B0aW9ucy5kZWNvZGVyKHBhcnQsIGRlZmF1bHRzLmRlY29kZXIsIGNoYXJzZXQsICdrZXknKTtcbiAgICAgICAgICAgIHZhbCA9IG9wdGlvbnMuc3RyaWN0TnVsbEhhbmRsaW5nID8gbnVsbCA6ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAga2V5ID0gb3B0aW9ucy5kZWNvZGVyKHBhcnQuc2xpY2UoMCwgcG9zKSwgZGVmYXVsdHMuZGVjb2RlciwgY2hhcnNldCwgJ2tleScpO1xuICAgICAgICAgICAgdmFsID0gdXRpbHMubWF5YmVNYXAoXG4gICAgICAgICAgICAgICAgcGFyc2VBcnJheVZhbHVlKHBhcnQuc2xpY2UocG9zICsgMSksIG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlbmNvZGVkVmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmRlY29kZXIoZW5jb2RlZFZhbCwgZGVmYXVsdHMuZGVjb2RlciwgY2hhcnNldCwgJ3ZhbHVlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWwgJiYgb3B0aW9ucy5pbnRlcnByZXROdW1lcmljRW50aXRpZXMgJiYgY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgICAgICB2YWwgPSBpbnRlcnByZXROdW1lcmljRW50aXRpZXModmFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJ0LmluZGV4T2YoJ1tdPScpID4gLTEpIHtcbiAgICAgICAgICAgIHZhbCA9IGlzQXJyYXkodmFsKSA/IFt2YWxdIDogdmFsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhcy5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgb2JqW2tleV0gPSB1dGlscy5jb21iaW5lKG9ialtrZXldLCB2YWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2JqW2tleV0gPSB2YWw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xufTtcblxudmFyIHBhcnNlT2JqZWN0ID0gZnVuY3Rpb24gKGNoYWluLCB2YWwsIG9wdGlvbnMsIHZhbHVlc1BhcnNlZCkge1xuICAgIHZhciBsZWFmID0gdmFsdWVzUGFyc2VkID8gdmFsIDogcGFyc2VBcnJheVZhbHVlKHZhbCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBpID0gY2hhaW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIG9iajtcbiAgICAgICAgdmFyIHJvb3QgPSBjaGFpbltpXTtcblxuICAgICAgICBpZiAocm9vdCA9PT0gJ1tdJyAmJiBvcHRpb25zLnBhcnNlQXJyYXlzKSB7XG4gICAgICAgICAgICBvYmogPSBbXS5jb25jYXQobGVhZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmogPSBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcbiAgICAgICAgICAgIHZhciBjbGVhblJvb3QgPSByb290LmNoYXJBdCgwKSA9PT0gJ1snICYmIHJvb3QuY2hhckF0KHJvb3QubGVuZ3RoIC0gMSkgPT09ICddJyA/IHJvb3Quc2xpY2UoMSwgLTEpIDogcm9vdDtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHBhcnNlSW50KGNsZWFuUm9vdCwgMTApO1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLnBhcnNlQXJyYXlzICYmIGNsZWFuUm9vdCA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICBvYmogPSB7IDA6IGxlYWYgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgIWlzTmFOKGluZGV4KVxuICAgICAgICAgICAgICAgICYmIHJvb3QgIT09IGNsZWFuUm9vdFxuICAgICAgICAgICAgICAgICYmIFN0cmluZyhpbmRleCkgPT09IGNsZWFuUm9vdFxuICAgICAgICAgICAgICAgICYmIGluZGV4ID49IDBcbiAgICAgICAgICAgICAgICAmJiAob3B0aW9ucy5wYXJzZUFycmF5cyAmJiBpbmRleCA8PSBvcHRpb25zLmFycmF5TGltaXQpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBvYmogPSBbXTtcbiAgICAgICAgICAgICAgICBvYmpbaW5kZXhdID0gbGVhZjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JqW2NsZWFuUm9vdF0gPSBsZWFmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGVhZiA9IG9iajtcbiAgICB9XG5cbiAgICByZXR1cm4gbGVhZjtcbn07XG5cbnZhciBwYXJzZUtleXMgPSBmdW5jdGlvbiBwYXJzZVF1ZXJ5U3RyaW5nS2V5cyhnaXZlbktleSwgdmFsLCBvcHRpb25zLCB2YWx1ZXNQYXJzZWQpIHtcbiAgICBpZiAoIWdpdmVuS2V5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBUcmFuc2Zvcm0gZG90IG5vdGF0aW9uIHRvIGJyYWNrZXQgbm90YXRpb25cbiAgICB2YXIga2V5ID0gb3B0aW9ucy5hbGxvd0RvdHMgPyBnaXZlbktleS5yZXBsYWNlKC9cXC4oW14uW10rKS9nLCAnWyQxXScpIDogZ2l2ZW5LZXk7XG5cbiAgICAvLyBUaGUgcmVnZXggY2h1bmtzXG5cbiAgICB2YXIgYnJhY2tldHMgPSAvKFxcW1teW1xcXV0qXSkvO1xuICAgIHZhciBjaGlsZCA9IC8oXFxbW15bXFxdXSpdKS9nO1xuXG4gICAgLy8gR2V0IHRoZSBwYXJlbnRcblxuICAgIHZhciBzZWdtZW50ID0gb3B0aW9ucy5kZXB0aCA+IDAgJiYgYnJhY2tldHMuZXhlYyhrZXkpO1xuICAgIHZhciBwYXJlbnQgPSBzZWdtZW50ID8ga2V5LnNsaWNlKDAsIHNlZ21lbnQuaW5kZXgpIDoga2V5O1xuXG4gICAgLy8gU3Rhc2ggdGhlIHBhcmVudCBpZiBpdCBleGlzdHNcblxuICAgIHZhciBrZXlzID0gW107XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgICAvLyBJZiB3ZSBhcmVuJ3QgdXNpbmcgcGxhaW4gb2JqZWN0cywgb3B0aW9uYWxseSBwcmVmaXgga2V5cyB0aGF0IHdvdWxkIG92ZXJ3cml0ZSBvYmplY3QgcHJvdG90eXBlIHByb3BlcnRpZXNcbiAgICAgICAgaWYgKCFvcHRpb25zLnBsYWluT2JqZWN0cyAmJiBoYXMuY2FsbChPYmplY3QucHJvdG90eXBlLCBwYXJlbnQpKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAga2V5cy5wdXNoKHBhcmVudCk7XG4gICAgfVxuXG4gICAgLy8gTG9vcCB0aHJvdWdoIGNoaWxkcmVuIGFwcGVuZGluZyB0byB0aGUgYXJyYXkgdW50aWwgd2UgaGl0IGRlcHRoXG5cbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKG9wdGlvbnMuZGVwdGggPiAwICYmIChzZWdtZW50ID0gY2hpbGQuZXhlYyhrZXkpKSAhPT0gbnVsbCAmJiBpIDwgb3B0aW9ucy5kZXB0aCkge1xuICAgICAgICBpICs9IDE7XG4gICAgICAgIGlmICghb3B0aW9ucy5wbGFpbk9iamVjdHMgJiYgaGFzLmNhbGwoT2JqZWN0LnByb3RvdHlwZSwgc2VnbWVudFsxXS5zbGljZSgxLCAtMSkpKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGtleXMucHVzaChzZWdtZW50WzFdKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSdzIGEgcmVtYWluZGVyLCBqdXN0IGFkZCB3aGF0ZXZlciBpcyBsZWZ0XG5cbiAgICBpZiAoc2VnbWVudCkge1xuICAgICAgICBrZXlzLnB1c2goJ1snICsga2V5LnNsaWNlKHNlZ21lbnQuaW5kZXgpICsgJ10nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VPYmplY3Qoa2V5cywgdmFsLCBvcHRpb25zLCB2YWx1ZXNQYXJzZWQpO1xufTtcblxudmFyIG5vcm1hbGl6ZVBhcnNlT3B0aW9ucyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZVBhcnNlT3B0aW9ucyhvcHRzKSB7XG4gICAgaWYgKCFvcHRzKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0cztcbiAgICB9XG5cbiAgICBpZiAob3B0cy5kZWNvZGVyICE9PSBudWxsICYmIG9wdHMuZGVjb2RlciAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvcHRzLmRlY29kZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRGVjb2RlciBoYXMgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdHMuY2hhcnNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgb3B0cy5jaGFyc2V0ICE9PSAndXRmLTgnICYmIG9wdHMuY2hhcnNldCAhPT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjaGFyc2V0IG9wdGlvbiBtdXN0IGJlIGVpdGhlciB1dGYtOCwgaXNvLTg4NTktMSwgb3IgdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIHZhciBjaGFyc2V0ID0gdHlwZW9mIG9wdHMuY2hhcnNldCA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0cy5jaGFyc2V0IDogb3B0cy5jaGFyc2V0O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWxsb3dEb3RzOiB0eXBlb2Ygb3B0cy5hbGxvd0RvdHMgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuYWxsb3dEb3RzIDogISFvcHRzLmFsbG93RG90cyxcbiAgICAgICAgYWxsb3dQcm90b3R5cGVzOiB0eXBlb2Ygb3B0cy5hbGxvd1Byb3RvdHlwZXMgPT09ICdib29sZWFuJyA/IG9wdHMuYWxsb3dQcm90b3R5cGVzIDogZGVmYXVsdHMuYWxsb3dQcm90b3R5cGVzLFxuICAgICAgICBhbGxvd1NwYXJzZTogdHlwZW9mIG9wdHMuYWxsb3dTcGFyc2UgPT09ICdib29sZWFuJyA/IG9wdHMuYWxsb3dTcGFyc2UgOiBkZWZhdWx0cy5hbGxvd1NwYXJzZSxcbiAgICAgICAgYXJyYXlMaW1pdDogdHlwZW9mIG9wdHMuYXJyYXlMaW1pdCA9PT0gJ251bWJlcicgPyBvcHRzLmFycmF5TGltaXQgOiBkZWZhdWx0cy5hcnJheUxpbWl0LFxuICAgICAgICBjaGFyc2V0OiBjaGFyc2V0LFxuICAgICAgICBjaGFyc2V0U2VudGluZWw6IHR5cGVvZiBvcHRzLmNoYXJzZXRTZW50aW5lbCA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5jaGFyc2V0U2VudGluZWwgOiBkZWZhdWx0cy5jaGFyc2V0U2VudGluZWwsXG4gICAgICAgIGNvbW1hOiB0eXBlb2Ygb3B0cy5jb21tYSA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5jb21tYSA6IGRlZmF1bHRzLmNvbW1hLFxuICAgICAgICBkZWNvZGVyOiB0eXBlb2Ygb3B0cy5kZWNvZGVyID09PSAnZnVuY3Rpb24nID8gb3B0cy5kZWNvZGVyIDogZGVmYXVsdHMuZGVjb2RlcixcbiAgICAgICAgZGVsaW1pdGVyOiB0eXBlb2Ygb3B0cy5kZWxpbWl0ZXIgPT09ICdzdHJpbmcnIHx8IHV0aWxzLmlzUmVnRXhwKG9wdHMuZGVsaW1pdGVyKSA/IG9wdHMuZGVsaW1pdGVyIDogZGVmYXVsdHMuZGVsaW1pdGVyLFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW1wbGljaXQtY29lcmNpb24sIG5vLWV4dHJhLXBhcmVuc1xuICAgICAgICBkZXB0aDogKHR5cGVvZiBvcHRzLmRlcHRoID09PSAnbnVtYmVyJyB8fCBvcHRzLmRlcHRoID09PSBmYWxzZSkgPyArb3B0cy5kZXB0aCA6IGRlZmF1bHRzLmRlcHRoLFxuICAgICAgICBpZ25vcmVRdWVyeVByZWZpeDogb3B0cy5pZ25vcmVRdWVyeVByZWZpeCA9PT0gdHJ1ZSxcbiAgICAgICAgaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzOiB0eXBlb2Ygb3B0cy5pbnRlcnByZXROdW1lcmljRW50aXRpZXMgPT09ICdib29sZWFuJyA/IG9wdHMuaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzIDogZGVmYXVsdHMuaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzLFxuICAgICAgICBwYXJhbWV0ZXJMaW1pdDogdHlwZW9mIG9wdHMucGFyYW1ldGVyTGltaXQgPT09ICdudW1iZXInID8gb3B0cy5wYXJhbWV0ZXJMaW1pdCA6IGRlZmF1bHRzLnBhcmFtZXRlckxpbWl0LFxuICAgICAgICBwYXJzZUFycmF5czogb3B0cy5wYXJzZUFycmF5cyAhPT0gZmFsc2UsXG4gICAgICAgIHBsYWluT2JqZWN0czogdHlwZW9mIG9wdHMucGxhaW5PYmplY3RzID09PSAnYm9vbGVhbicgPyBvcHRzLnBsYWluT2JqZWN0cyA6IGRlZmF1bHRzLnBsYWluT2JqZWN0cyxcbiAgICAgICAgc3RyaWN0TnVsbEhhbmRsaW5nOiB0eXBlb2Ygb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgPT09ICdib29sZWFuJyA/IG9wdHMuc3RyaWN0TnVsbEhhbmRsaW5nIDogZGVmYXVsdHMuc3RyaWN0TnVsbEhhbmRsaW5nXG4gICAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0ciwgb3B0cykge1xuICAgIHZhciBvcHRpb25zID0gbm9ybWFsaXplUGFyc2VPcHRpb25zKG9wdHMpO1xuXG4gICAgaWYgKHN0ciA9PT0gJycgfHwgc3RyID09PSBudWxsIHx8IHR5cGVvZiBzdHIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcbiAgICB9XG5cbiAgICB2YXIgdGVtcE9iaiA9IHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnID8gcGFyc2VWYWx1ZXMoc3RyLCBvcHRpb25zKSA6IHN0cjtcbiAgICB2YXIgb2JqID0gb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG5cbiAgICAvLyBJdGVyYXRlIG92ZXIgdGhlIGtleXMgYW5kIHNldHVwIHRoZSBuZXcgb2JqZWN0XG5cbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRlbXBPYmopO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgdmFyIG5ld09iaiA9IHBhcnNlS2V5cyhrZXksIHRlbXBPYmpba2V5XSwgb3B0aW9ucywgdHlwZW9mIHN0ciA9PT0gJ3N0cmluZycpO1xuICAgICAgICBvYmogPSB1dGlscy5tZXJnZShvYmosIG5ld09iaiwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuYWxsb3dTcGFyc2UgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICByZXR1cm4gdXRpbHMuY29tcGFjdChvYmopO1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuLi8uLi9ub2RlX21vZHVsZXMvcXMvbGliL3N0cmluZ2lmeS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuLi8uLi9ub2RlX21vZHVsZXMvcXMvbGliL3N0cmluZ2lmeS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgZ2V0U2lkZUNoYW5uZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBzaWRlLWNoYW5uZWwgKi8gXCIuLi8uLi9ub2RlX21vZHVsZXMvc2lkZS1jaGFubmVsL2luZGV4LmpzXCIpO1xudmFyIHV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlscyAqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9xcy9saWIvdXRpbHMuanNcIik7XG52YXIgZm9ybWF0cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZm9ybWF0cyAqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9xcy9saWIvZm9ybWF0cy5qc1wiKTtcbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgYXJyYXlQcmVmaXhHZW5lcmF0b3JzID0ge1xuICAgIGJyYWNrZXRzOiBmdW5jdGlvbiBicmFja2V0cyhwcmVmaXgpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeCArICdbXSc7XG4gICAgfSxcbiAgICBjb21tYTogJ2NvbW1hJyxcbiAgICBpbmRpY2VzOiBmdW5jdGlvbiBpbmRpY2VzKHByZWZpeCwga2V5KSB7XG4gICAgICAgIHJldHVybiBwcmVmaXggKyAnWycgKyBrZXkgKyAnXSc7XG4gICAgfSxcbiAgICByZXBlYXQ6IGZ1bmN0aW9uIHJlcGVhdChwcmVmaXgpIHtcbiAgICAgICAgcmV0dXJuIHByZWZpeDtcbiAgICB9XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG52YXIgcHVzaCA9IEFycmF5LnByb3RvdHlwZS5wdXNoO1xudmFyIHB1c2hUb0FycmF5ID0gZnVuY3Rpb24gKGFyciwgdmFsdWVPckFycmF5KSB7XG4gICAgcHVzaC5hcHBseShhcnIsIGlzQXJyYXkodmFsdWVPckFycmF5KSA/IHZhbHVlT3JBcnJheSA6IFt2YWx1ZU9yQXJyYXldKTtcbn07XG5cbnZhciB0b0lTTyA9IERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nO1xuXG52YXIgZGVmYXVsdEZvcm1hdCA9IGZvcm1hdHNbJ2RlZmF1bHQnXTtcbnZhciBkZWZhdWx0cyA9IHtcbiAgICBhZGRRdWVyeVByZWZpeDogZmFsc2UsXG4gICAgYWxsb3dEb3RzOiBmYWxzZSxcbiAgICBjaGFyc2V0OiAndXRmLTgnLFxuICAgIGNoYXJzZXRTZW50aW5lbDogZmFsc2UsXG4gICAgZGVsaW1pdGVyOiAnJicsXG4gICAgZW5jb2RlOiB0cnVlLFxuICAgIGVuY29kZXI6IHV0aWxzLmVuY29kZSxcbiAgICBlbmNvZGVWYWx1ZXNPbmx5OiBmYWxzZSxcbiAgICBmb3JtYXQ6IGRlZmF1bHRGb3JtYXQsXG4gICAgZm9ybWF0dGVyOiBmb3JtYXRzLmZvcm1hdHRlcnNbZGVmYXVsdEZvcm1hdF0sXG4gICAgLy8gZGVwcmVjYXRlZFxuICAgIGluZGljZXM6IGZhbHNlLFxuICAgIHNlcmlhbGl6ZURhdGU6IGZ1bmN0aW9uIHNlcmlhbGl6ZURhdGUoZGF0ZSkge1xuICAgICAgICByZXR1cm4gdG9JU08uY2FsbChkYXRlKTtcbiAgICB9LFxuICAgIHNraXBOdWxsczogZmFsc2UsXG4gICAgc3RyaWN0TnVsbEhhbmRsaW5nOiBmYWxzZVxufTtcblxudmFyIGlzTm9uTnVsbGlzaFByaW1pdGl2ZSA9IGZ1bmN0aW9uIGlzTm9uTnVsbGlzaFByaW1pdGl2ZSh2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSAnc3RyaW5nJ1xuICAgICAgICB8fCB0eXBlb2YgdiA9PT0gJ251bWJlcidcbiAgICAgICAgfHwgdHlwZW9mIHYgPT09ICdib29sZWFuJ1xuICAgICAgICB8fCB0eXBlb2YgdiA9PT0gJ3N5bWJvbCdcbiAgICAgICAgfHwgdHlwZW9mIHYgPT09ICdiaWdpbnQnO1xufTtcblxudmFyIHN0cmluZ2lmeSA9IGZ1bmN0aW9uIHN0cmluZ2lmeShcbiAgICBvYmplY3QsXG4gICAgcHJlZml4LFxuICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgsXG4gICAgc3RyaWN0TnVsbEhhbmRsaW5nLFxuICAgIHNraXBOdWxscyxcbiAgICBlbmNvZGVyLFxuICAgIGZpbHRlcixcbiAgICBzb3J0LFxuICAgIGFsbG93RG90cyxcbiAgICBzZXJpYWxpemVEYXRlLFxuICAgIGZvcm1hdCxcbiAgICBmb3JtYXR0ZXIsXG4gICAgZW5jb2RlVmFsdWVzT25seSxcbiAgICBjaGFyc2V0LFxuICAgIHNpZGVDaGFubmVsXG4pIHtcbiAgICB2YXIgb2JqID0gb2JqZWN0O1xuXG4gICAgaWYgKHNpZGVDaGFubmVsLmhhcyhvYmplY3QpKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdDeWNsaWMgb2JqZWN0IHZhbHVlJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb2JqID0gZmlsdGVyKHByZWZpeCwgb2JqKTtcbiAgICB9IGVsc2UgaWYgKG9iaiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgb2JqID0gc2VyaWFsaXplRGF0ZShvYmopO1xuICAgIH0gZWxzZSBpZiAoZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2NvbW1hJyAmJiBpc0FycmF5KG9iaikpIHtcbiAgICAgICAgb2JqID0gdXRpbHMubWF5YmVNYXAob2JqLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplRGF0ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgICAgaWYgKHN0cmljdE51bGxIYW5kbGluZykge1xuICAgICAgICAgICAgcmV0dXJuIGVuY29kZXIgJiYgIWVuY29kZVZhbHVlc09ubHkgPyBlbmNvZGVyKHByZWZpeCwgZGVmYXVsdHMuZW5jb2RlciwgY2hhcnNldCwgJ2tleScsIGZvcm1hdCkgOiBwcmVmaXg7XG4gICAgICAgIH1cblxuICAgICAgICBvYmogPSAnJztcbiAgICB9XG5cbiAgICBpZiAoaXNOb25OdWxsaXNoUHJpbWl0aXZlKG9iaikgfHwgdXRpbHMuaXNCdWZmZXIob2JqKSkge1xuICAgICAgICBpZiAoZW5jb2Rlcikge1xuICAgICAgICAgICAgdmFyIGtleVZhbHVlID0gZW5jb2RlVmFsdWVzT25seSA/IHByZWZpeCA6IGVuY29kZXIocHJlZml4LCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0LCAna2V5JywgZm9ybWF0KTtcbiAgICAgICAgICAgIHJldHVybiBbZm9ybWF0dGVyKGtleVZhbHVlKSArICc9JyArIGZvcm1hdHRlcihlbmNvZGVyKG9iaiwgZGVmYXVsdHMuZW5jb2RlciwgY2hhcnNldCwgJ3ZhbHVlJywgZm9ybWF0KSldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbZm9ybWF0dGVyKHByZWZpeCkgKyAnPScgKyBmb3JtYXR0ZXIoU3RyaW5nKG9iaikpXTtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWVzID0gW107XG5cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICB2YXIgb2JqS2V5cztcbiAgICBpZiAoZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2NvbW1hJyAmJiBpc0FycmF5KG9iaikpIHtcbiAgICAgICAgLy8gd2UgbmVlZCB0byBqb2luIGVsZW1lbnRzIGluXG4gICAgICAgIG9iaktleXMgPSBbeyB2YWx1ZTogb2JqLmxlbmd0aCA+IDAgPyBvYmouam9pbignLCcpIHx8IG51bGwgOiB1bmRlZmluZWQgfV07XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KGZpbHRlcikpIHtcbiAgICAgICAgb2JqS2V5cyA9IGZpbHRlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIG9iaktleXMgPSBzb3J0ID8ga2V5cy5zb3J0KHNvcnQpIDoga2V5cztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iaktleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IG9iaktleXNbaV07XG4gICAgICAgIHZhciB2YWx1ZSA9IHR5cGVvZiBrZXkgPT09ICdvYmplY3QnICYmIGtleS52YWx1ZSAhPT0gdW5kZWZpbmVkID8ga2V5LnZhbHVlIDogb2JqW2tleV07XG5cbiAgICAgICAgaWYgKHNraXBOdWxscyAmJiB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIga2V5UHJlZml4ID0gaXNBcnJheShvYmopXG4gICAgICAgICAgICA/IHR5cGVvZiBnZW5lcmF0ZUFycmF5UHJlZml4ID09PSAnZnVuY3Rpb24nID8gZ2VuZXJhdGVBcnJheVByZWZpeChwcmVmaXgsIGtleSkgOiBwcmVmaXhcbiAgICAgICAgICAgIDogcHJlZml4ICsgKGFsbG93RG90cyA/ICcuJyArIGtleSA6ICdbJyArIGtleSArICddJyk7XG5cbiAgICAgICAgc2lkZUNoYW5uZWwuc2V0KG9iamVjdCwgdHJ1ZSk7XG4gICAgICAgIHZhciB2YWx1ZVNpZGVDaGFubmVsID0gZ2V0U2lkZUNoYW5uZWwoKTtcbiAgICAgICAgcHVzaFRvQXJyYXkodmFsdWVzLCBzdHJpbmdpZnkoXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGtleVByZWZpeCxcbiAgICAgICAgICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgsXG4gICAgICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmcsXG4gICAgICAgICAgICBza2lwTnVsbHMsXG4gICAgICAgICAgICBlbmNvZGVyLFxuICAgICAgICAgICAgZmlsdGVyLFxuICAgICAgICAgICAgc29ydCxcbiAgICAgICAgICAgIGFsbG93RG90cyxcbiAgICAgICAgICAgIHNlcmlhbGl6ZURhdGUsXG4gICAgICAgICAgICBmb3JtYXQsXG4gICAgICAgICAgICBmb3JtYXR0ZXIsXG4gICAgICAgICAgICBlbmNvZGVWYWx1ZXNPbmx5LFxuICAgICAgICAgICAgY2hhcnNldCxcbiAgICAgICAgICAgIHZhbHVlU2lkZUNoYW5uZWxcbiAgICAgICAgKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlcztcbn07XG5cbnZhciBub3JtYWxpemVTdHJpbmdpZnlPcHRpb25zID0gZnVuY3Rpb24gbm9ybWFsaXplU3RyaW5naWZ5T3B0aW9ucyhvcHRzKSB7XG4gICAgaWYgKCFvcHRzKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0cztcbiAgICB9XG5cbiAgICBpZiAob3B0cy5lbmNvZGVyICE9PSBudWxsICYmIG9wdHMuZW5jb2RlciAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvcHRzLmVuY29kZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRW5jb2RlciBoYXMgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICB2YXIgY2hhcnNldCA9IG9wdHMuY2hhcnNldCB8fCBkZWZhdWx0cy5jaGFyc2V0O1xuICAgIGlmICh0eXBlb2Ygb3B0cy5jaGFyc2V0ICE9PSAndW5kZWZpbmVkJyAmJiBvcHRzLmNoYXJzZXQgIT09ICd1dGYtOCcgJiYgb3B0cy5jaGFyc2V0ICE9PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGNoYXJzZXQgb3B0aW9uIG11c3QgYmUgZWl0aGVyIHV0Zi04LCBpc28tODg1OS0xLCBvciB1bmRlZmluZWQnKTtcbiAgICB9XG5cbiAgICB2YXIgZm9ybWF0ID0gZm9ybWF0c1snZGVmYXVsdCddO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5mb3JtYXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICghaGFzLmNhbGwoZm9ybWF0cy5mb3JtYXR0ZXJzLCBvcHRzLmZvcm1hdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZm9ybWF0IG9wdGlvbiBwcm92aWRlZC4nKTtcbiAgICAgICAgfVxuICAgICAgICBmb3JtYXQgPSBvcHRzLmZvcm1hdDtcbiAgICB9XG4gICAgdmFyIGZvcm1hdHRlciA9IGZvcm1hdHMuZm9ybWF0dGVyc1tmb3JtYXRdO1xuXG4gICAgdmFyIGZpbHRlciA9IGRlZmF1bHRzLmZpbHRlcjtcbiAgICBpZiAodHlwZW9mIG9wdHMuZmlsdGVyID09PSAnZnVuY3Rpb24nIHx8IGlzQXJyYXkob3B0cy5maWx0ZXIpKSB7XG4gICAgICAgIGZpbHRlciA9IG9wdHMuZmlsdGVyO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGFkZFF1ZXJ5UHJlZml4OiB0eXBlb2Ygb3B0cy5hZGRRdWVyeVByZWZpeCA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5hZGRRdWVyeVByZWZpeCA6IGRlZmF1bHRzLmFkZFF1ZXJ5UHJlZml4LFxuICAgICAgICBhbGxvd0RvdHM6IHR5cGVvZiBvcHRzLmFsbG93RG90cyA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0cy5hbGxvd0RvdHMgOiAhIW9wdHMuYWxsb3dEb3RzLFxuICAgICAgICBjaGFyc2V0OiBjaGFyc2V0LFxuICAgICAgICBjaGFyc2V0U2VudGluZWw6IHR5cGVvZiBvcHRzLmNoYXJzZXRTZW50aW5lbCA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5jaGFyc2V0U2VudGluZWwgOiBkZWZhdWx0cy5jaGFyc2V0U2VudGluZWwsXG4gICAgICAgIGRlbGltaXRlcjogdHlwZW9mIG9wdHMuZGVsaW1pdGVyID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzLmRlbGltaXRlciA6IG9wdHMuZGVsaW1pdGVyLFxuICAgICAgICBlbmNvZGU6IHR5cGVvZiBvcHRzLmVuY29kZSA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5lbmNvZGUgOiBkZWZhdWx0cy5lbmNvZGUsXG4gICAgICAgIGVuY29kZXI6IHR5cGVvZiBvcHRzLmVuY29kZXIgPT09ICdmdW5jdGlvbicgPyBvcHRzLmVuY29kZXIgOiBkZWZhdWx0cy5lbmNvZGVyLFxuICAgICAgICBlbmNvZGVWYWx1ZXNPbmx5OiB0eXBlb2Ygb3B0cy5lbmNvZGVWYWx1ZXNPbmx5ID09PSAnYm9vbGVhbicgPyBvcHRzLmVuY29kZVZhbHVlc09ubHkgOiBkZWZhdWx0cy5lbmNvZGVWYWx1ZXNPbmx5LFxuICAgICAgICBmaWx0ZXI6IGZpbHRlcixcbiAgICAgICAgZm9ybWF0OiBmb3JtYXQsXG4gICAgICAgIGZvcm1hdHRlcjogZm9ybWF0dGVyLFxuICAgICAgICBzZXJpYWxpemVEYXRlOiB0eXBlb2Ygb3B0cy5zZXJpYWxpemVEYXRlID09PSAnZnVuY3Rpb24nID8gb3B0cy5zZXJpYWxpemVEYXRlIDogZGVmYXVsdHMuc2VyaWFsaXplRGF0ZSxcbiAgICAgICAgc2tpcE51bGxzOiB0eXBlb2Ygb3B0cy5za2lwTnVsbHMgPT09ICdib29sZWFuJyA/IG9wdHMuc2tpcE51bGxzIDogZGVmYXVsdHMuc2tpcE51bGxzLFxuICAgICAgICBzb3J0OiB0eXBlb2Ygb3B0cy5zb3J0ID09PSAnZnVuY3Rpb24nID8gb3B0cy5zb3J0IDogbnVsbCxcbiAgICAgICAgc3RyaWN0TnVsbEhhbmRsaW5nOiB0eXBlb2Ygb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgPT09ICdib29sZWFuJyA/IG9wdHMuc3RyaWN0TnVsbEhhbmRsaW5nIDogZGVmYXVsdHMuc3RyaWN0TnVsbEhhbmRsaW5nXG4gICAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwgb3B0cykge1xuICAgIHZhciBvYmogPSBvYmplY3Q7XG4gICAgdmFyIG9wdGlvbnMgPSBub3JtYWxpemVTdHJpbmdpZnlPcHRpb25zKG9wdHMpO1xuXG4gICAgdmFyIG9iaktleXM7XG4gICAgdmFyIGZpbHRlcjtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5maWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG4gICAgICAgIG9iaiA9IGZpbHRlcignJywgb2JqKTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob3B0aW9ucy5maWx0ZXIpKSB7XG4gICAgICAgIGZpbHRlciA9IG9wdGlvbnMuZmlsdGVyO1xuICAgICAgICBvYmpLZXlzID0gZmlsdGVyO1xuICAgIH1cblxuICAgIHZhciBrZXlzID0gW107XG5cbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICB2YXIgYXJyYXlGb3JtYXQ7XG4gICAgaWYgKG9wdHMgJiYgb3B0cy5hcnJheUZvcm1hdCBpbiBhcnJheVByZWZpeEdlbmVyYXRvcnMpIHtcbiAgICAgICAgYXJyYXlGb3JtYXQgPSBvcHRzLmFycmF5Rm9ybWF0O1xuICAgIH0gZWxzZSBpZiAob3B0cyAmJiAnaW5kaWNlcycgaW4gb3B0cykge1xuICAgICAgICBhcnJheUZvcm1hdCA9IG9wdHMuaW5kaWNlcyA/ICdpbmRpY2VzJyA6ICdyZXBlYXQnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gJ2luZGljZXMnO1xuICAgIH1cblxuICAgIHZhciBnZW5lcmF0ZUFycmF5UHJlZml4ID0gYXJyYXlQcmVmaXhHZW5lcmF0b3JzW2FycmF5Rm9ybWF0XTtcblxuICAgIGlmICghb2JqS2V5cykge1xuICAgICAgICBvYmpLZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5zb3J0KSB7XG4gICAgICAgIG9iaktleXMuc29ydChvcHRpb25zLnNvcnQpO1xuICAgIH1cblxuICAgIHZhciBzaWRlQ2hhbm5lbCA9IGdldFNpZGVDaGFubmVsKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmpLZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBrZXkgPSBvYmpLZXlzW2ldO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNraXBOdWxscyAmJiBvYmpba2V5XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcHVzaFRvQXJyYXkoa2V5cywgc3RyaW5naWZ5KFxuICAgICAgICAgICAgb2JqW2tleV0sXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgICAgICAgICAgb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcsXG4gICAgICAgICAgICBvcHRpb25zLnNraXBOdWxscyxcbiAgICAgICAgICAgIG9wdGlvbnMuZW5jb2RlID8gb3B0aW9ucy5lbmNvZGVyIDogbnVsbCxcbiAgICAgICAgICAgIG9wdGlvbnMuZmlsdGVyLFxuICAgICAgICAgICAgb3B0aW9ucy5zb3J0LFxuICAgICAgICAgICAgb3B0aW9ucy5hbGxvd0RvdHMsXG4gICAgICAgICAgICBvcHRpb25zLnNlcmlhbGl6ZURhdGUsXG4gICAgICAgICAgICBvcHRpb25zLmZvcm1hdCxcbiAgICAgICAgICAgIG9wdGlvbnMuZm9ybWF0dGVyLFxuICAgICAgICAgICAgb3B0aW9ucy5lbmNvZGVWYWx1ZXNPbmx5LFxuICAgICAgICAgICAgb3B0aW9ucy5jaGFyc2V0LFxuICAgICAgICAgICAgc2lkZUNoYW5uZWxcbiAgICAgICAgKSk7XG4gICAgfVxuXG4gICAgdmFyIGpvaW5lZCA9IGtleXMuam9pbihvcHRpb25zLmRlbGltaXRlcik7XG4gICAgdmFyIHByZWZpeCA9IG9wdGlvbnMuYWRkUXVlcnlQcmVmaXggPT09IHRydWUgPyAnPycgOiAnJztcblxuICAgIGlmIChvcHRpb25zLmNoYXJzZXRTZW50aW5lbCkge1xuICAgICAgICBpZiAob3B0aW9ucy5jaGFyc2V0ID09PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgICAgIC8vIGVuY29kZVVSSUNvbXBvbmVudCgnJiMxMDAwMzsnKSwgdGhlIFwibnVtZXJpYyBlbnRpdHlcIiByZXByZXNlbnRhdGlvbiBvZiBhIGNoZWNrbWFya1xuICAgICAgICAgICAgcHJlZml4ICs9ICd1dGY4PSUyNiUyMzEwMDAzJTNCJic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBlbmNvZGVVUklDb21wb25lbnQoJ+KckycpXG4gICAgICAgICAgICBwcmVmaXggKz0gJ3V0Zjg9JUUyJTlDJTkzJic7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gam9pbmVkLmxlbmd0aCA+IDAgPyBwcmVmaXggKyBqb2luZWQgOiAnJztcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi4vLi4vbm9kZV9tb2R1bGVzL3FzL2xpYi91dGlscy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4uLy4uL25vZGVfbW9kdWxlcy9xcy9saWIvdXRpbHMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fdW51c2VkX3dlYnBhY2tfZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuXG52YXIgZm9ybWF0cyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZm9ybWF0cyAqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9xcy9saWIvZm9ybWF0cy5qc1wiKTtcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbnZhciBoZXhUYWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFycmF5ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICAgICAgICBhcnJheS5wdXNoKCclJyArICgoaSA8IDE2ID8gJzAnIDogJycpICsgaS50b1N0cmluZygxNikpLnRvVXBwZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbn0oKSk7XG5cbnZhciBjb21wYWN0UXVldWUgPSBmdW5jdGlvbiBjb21wYWN0UXVldWUocXVldWUpIHtcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMSkge1xuICAgICAgICB2YXIgaXRlbSA9IHF1ZXVlLnBvcCgpO1xuICAgICAgICB2YXIgb2JqID0gaXRlbS5vYmpbaXRlbS5wcm9wXTtcblxuICAgICAgICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICB2YXIgY29tcGFjdGVkID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgb2JqLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmpbal0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBhY3RlZC5wdXNoKG9ialtqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpdGVtLm9ialtpdGVtLnByb3BdID0gY29tcGFjdGVkO1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIGFycmF5VG9PYmplY3QgPSBmdW5jdGlvbiBhcnJheVRvT2JqZWN0KHNvdXJjZSwgb3B0aW9ucykge1xuICAgIHZhciBvYmogPSBvcHRpb25zICYmIG9wdGlvbnMucGxhaW5PYmplY3RzID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlW2ldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgb2JqW2ldID0gc291cmNlW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBtZXJnZSA9IGZ1bmN0aW9uIG1lcmdlKHRhcmdldCwgc291cmNlLCBvcHRpb25zKSB7XG4gICAgLyogZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOiAwICovXG4gICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHNvdXJjZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkodGFyZ2V0KSkge1xuICAgICAgICAgICAgdGFyZ2V0LnB1c2goc291cmNlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQgJiYgdHlwZW9mIHRhcmdldCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmICgob3B0aW9ucyAmJiAob3B0aW9ucy5wbGFpbk9iamVjdHMgfHwgb3B0aW9ucy5hbGxvd1Byb3RvdHlwZXMpKSB8fCAhaGFzLmNhbGwoT2JqZWN0LnByb3RvdHlwZSwgc291cmNlKSkge1xuICAgICAgICAgICAgICAgIHRhcmdldFtzb3VyY2VdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbdGFyZ2V0LCBzb3VyY2VdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldCB8fCB0eXBlb2YgdGFyZ2V0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gW3RhcmdldF0uY29uY2F0KHNvdXJjZSk7XG4gICAgfVxuXG4gICAgdmFyIG1lcmdlVGFyZ2V0ID0gdGFyZ2V0O1xuICAgIGlmIChpc0FycmF5KHRhcmdldCkgJiYgIWlzQXJyYXkoc291cmNlKSkge1xuICAgICAgICBtZXJnZVRhcmdldCA9IGFycmF5VG9PYmplY3QodGFyZ2V0LCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheSh0YXJnZXQpICYmIGlzQXJyYXkoc291cmNlKSkge1xuICAgICAgICBzb3VyY2UuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgICAgICAgaWYgKGhhcy5jYWxsKHRhcmdldCwgaSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0SXRlbSA9IHRhcmdldFtpXTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0SXRlbSAmJiB0eXBlb2YgdGFyZ2V0SXRlbSA9PT0gJ29iamVjdCcgJiYgaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2ldID0gbWVyZ2UodGFyZ2V0SXRlbSwgaXRlbSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbaV0gPSBpdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc291cmNlKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHNvdXJjZVtrZXldO1xuXG4gICAgICAgIGlmIChoYXMuY2FsbChhY2MsIGtleSkpIHtcbiAgICAgICAgICAgIGFjY1trZXldID0gbWVyZ2UoYWNjW2tleV0sIHZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjY1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBtZXJnZVRhcmdldCk7XG59O1xuXG52YXIgYXNzaWduID0gZnVuY3Rpb24gYXNzaWduU2luZ2xlU291cmNlKHRhcmdldCwgc291cmNlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNvdXJjZSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICBhY2Nba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHRhcmdldCk7XG59O1xuXG52YXIgZGVjb2RlID0gZnVuY3Rpb24gKHN0ciwgZGVjb2RlciwgY2hhcnNldCkge1xuICAgIHZhciBzdHJXaXRob3V0UGx1cyA9IHN0ci5yZXBsYWNlKC9cXCsvZywgJyAnKTtcbiAgICBpZiAoY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIC8vIHVuZXNjYXBlIG5ldmVyIHRocm93cywgbm8gdHJ5Li4uY2F0Y2ggbmVlZGVkOlxuICAgICAgICByZXR1cm4gc3RyV2l0aG91dFBsdXMucmVwbGFjZSgvJVswLTlhLWZdezJ9L2dpLCB1bmVzY2FwZSk7XG4gICAgfVxuICAgIC8vIHV0Zi04XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzdHJXaXRob3V0UGx1cyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gc3RyV2l0aG91dFBsdXM7XG4gICAgfVxufTtcblxudmFyIGVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShzdHIsIGRlZmF1bHRFbmNvZGVyLCBjaGFyc2V0LCBraW5kLCBmb3JtYXQpIHtcbiAgICAvLyBUaGlzIGNvZGUgd2FzIG9yaWdpbmFsbHkgd3JpdHRlbiBieSBCcmlhbiBXaGl0ZSAobXNjZGV4KSBmb3IgdGhlIGlvLmpzIGNvcmUgcXVlcnlzdHJpbmcgbGlicmFyeS5cbiAgICAvLyBJdCBoYXMgYmVlbiBhZGFwdGVkIGhlcmUgZm9yIHN0cmljdGVyIGFkaGVyZW5jZSB0byBSRkMgMzk4NlxuICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgdmFyIHN0cmluZyA9IHN0cjtcbiAgICBpZiAodHlwZW9mIHN0ciA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgc3RyaW5nID0gU3ltYm9sLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN0cik7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgICBzdHJpbmcgPSBTdHJpbmcoc3RyKTtcbiAgICB9XG5cbiAgICBpZiAoY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIHJldHVybiBlc2NhcGUoc3RyaW5nKS5yZXBsYWNlKC8ldVswLTlhLWZdezR9L2dpLCBmdW5jdGlvbiAoJDApIHtcbiAgICAgICAgICAgIHJldHVybiAnJTI2JTIzJyArIHBhcnNlSW50KCQwLnNsaWNlKDIpLCAxNikgKyAnJTNCJztcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIG91dCA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjID0gc3RyaW5nLmNoYXJDb2RlQXQoaSk7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgYyA9PT0gMHgyRCAvLyAtXG4gICAgICAgICAgICB8fCBjID09PSAweDJFIC8vIC5cbiAgICAgICAgICAgIHx8IGMgPT09IDB4NUYgLy8gX1xuICAgICAgICAgICAgfHwgYyA9PT0gMHg3RSAvLyB+XG4gICAgICAgICAgICB8fCAoYyA+PSAweDMwICYmIGMgPD0gMHgzOSkgLy8gMC05XG4gICAgICAgICAgICB8fCAoYyA+PSAweDQxICYmIGMgPD0gMHg1QSkgLy8gYS16XG4gICAgICAgICAgICB8fCAoYyA+PSAweDYxICYmIGMgPD0gMHg3QSkgLy8gQS1aXG4gICAgICAgICAgICB8fCAoZm9ybWF0ID09PSBmb3JtYXRzLlJGQzE3MzggJiYgKGMgPT09IDB4MjggfHwgYyA9PT0gMHgyOSkpIC8vICggKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIG91dCArPSBzdHJpbmcuY2hhckF0KGkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4ODApIHtcbiAgICAgICAgICAgIG91dCA9IG91dCArIGhleFRhYmxlW2NdO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4ODAwKSB7XG4gICAgICAgICAgICBvdXQgPSBvdXQgKyAoaGV4VGFibGVbMHhDMCB8IChjID4+IDYpXSArIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M0YpXSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjIDwgMHhEODAwIHx8IGMgPj0gMHhFMDAwKSB7XG4gICAgICAgICAgICBvdXQgPSBvdXQgKyAoaGV4VGFibGVbMHhFMCB8IChjID4+IDEyKV0gKyBoZXhUYWJsZVsweDgwIHwgKChjID4+IDYpICYgMHgzRildICsgaGV4VGFibGVbMHg4MCB8IChjICYgMHgzRildKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaSArPSAxO1xuICAgICAgICBjID0gMHgxMDAwMCArICgoKGMgJiAweDNGRikgPDwgMTApIHwgKHN0cmluZy5jaGFyQ29kZUF0KGkpICYgMHgzRkYpKTtcbiAgICAgICAgb3V0ICs9IGhleFRhYmxlWzB4RjAgfCAoYyA+PiAxOCldXG4gICAgICAgICAgICArIGhleFRhYmxlWzB4ODAgfCAoKGMgPj4gMTIpICYgMHgzRildXG4gICAgICAgICAgICArIGhleFRhYmxlWzB4ODAgfCAoKGMgPj4gNikgJiAweDNGKV1cbiAgICAgICAgICAgICsgaGV4VGFibGVbMHg4MCB8IChjICYgMHgzRildO1xuICAgIH1cblxuICAgIHJldHVybiBvdXQ7XG59O1xuXG52YXIgY29tcGFjdCA9IGZ1bmN0aW9uIGNvbXBhY3QodmFsdWUpIHtcbiAgICB2YXIgcXVldWUgPSBbeyBvYmo6IHsgbzogdmFsdWUgfSwgcHJvcDogJ28nIH1dO1xuICAgIHZhciByZWZzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBpdGVtID0gcXVldWVbaV07XG4gICAgICAgIHZhciBvYmogPSBpdGVtLm9ialtpdGVtLnByb3BdO1xuXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBrZXlzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tqXTtcbiAgICAgICAgICAgIHZhciB2YWwgPSBvYmpba2V5XTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwgIT09IG51bGwgJiYgcmVmcy5pbmRleE9mKHZhbCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcXVldWUucHVzaCh7IG9iajogb2JqLCBwcm9wOiBrZXkgfSk7XG4gICAgICAgICAgICAgICAgcmVmcy5wdXNoKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wYWN0UXVldWUocXVldWUpO1xuXG4gICAgcmV0dXJuIHZhbHVlO1xufTtcblxudmFyIGlzUmVnRXhwID0gZnVuY3Rpb24gaXNSZWdFeHAob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBSZWdFeHBdJztcbn07XG5cbnZhciBpc0J1ZmZlciA9IGZ1bmN0aW9uIGlzQnVmZmVyKG9iaikge1xuICAgIGlmICghb2JqIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gISEob2JqLmNvbnN0cnVjdG9yICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKSk7XG59O1xuXG52YXIgY29tYmluZSA9IGZ1bmN0aW9uIGNvbWJpbmUoYSwgYikge1xuICAgIHJldHVybiBbXS5jb25jYXQoYSwgYik7XG59O1xuXG52YXIgbWF5YmVNYXAgPSBmdW5jdGlvbiBtYXliZU1hcCh2YWwsIGZuKSB7XG4gICAgaWYgKGlzQXJyYXkodmFsKSkge1xuICAgICAgICB2YXIgbWFwcGVkID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBtYXBwZWQucHVzaChmbih2YWxbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwcGVkO1xuICAgIH1cbiAgICByZXR1cm4gZm4odmFsKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGFycmF5VG9PYmplY3Q6IGFycmF5VG9PYmplY3QsXG4gICAgYXNzaWduOiBhc3NpZ24sXG4gICAgY29tYmluZTogY29tYmluZSxcbiAgICBjb21wYWN0OiBjb21wYWN0LFxuICAgIGRlY29kZTogZGVjb2RlLFxuICAgIGVuY29kZTogZW5jb2RlLFxuICAgIGlzQnVmZmVyOiBpc0J1ZmZlcixcbiAgICBpc1JlZ0V4cDogaXNSZWdFeHAsXG4gICAgbWF5YmVNYXA6IG1heWJlTWFwLFxuICAgIG1lcmdlOiBtZXJnZVxufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuLi8uLi9ub2RlX21vZHVsZXMvc2lkZS1jaGFubmVsL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi4vLi4vbm9kZV9tb2R1bGVzL3NpZGUtY2hhbm5lbC9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX191bnVzZWRfd2VicGFja19leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBHZXRJbnRyaW5zaWMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBnZXQtaW50cmluc2ljICovIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2dldC1pbnRyaW5zaWMvaW5kZXguanNcIik7XG52YXIgY2FsbEJvdW5kID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgY2FsbC1iaW5kL2NhbGxCb3VuZCAqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9jYWxsLWJpbmQvY2FsbEJvdW5kLmpzXCIpO1xudmFyIGluc3BlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBvYmplY3QtaW5zcGVjdCAqLyBcIi4uLy4uL25vZGVfbW9kdWxlcy9vYmplY3QtaW5zcGVjdC9pbmRleC5qc1wiKTtcblxudmFyICRUeXBlRXJyb3IgPSBHZXRJbnRyaW5zaWMoJyVUeXBlRXJyb3IlJyk7XG52YXIgJFdlYWtNYXAgPSBHZXRJbnRyaW5zaWMoJyVXZWFrTWFwJScsIHRydWUpO1xudmFyICRNYXAgPSBHZXRJbnRyaW5zaWMoJyVNYXAlJywgdHJ1ZSk7XG5cbnZhciAkd2Vha01hcEdldCA9IGNhbGxCb3VuZCgnV2Vha01hcC5wcm90b3R5cGUuZ2V0JywgdHJ1ZSk7XG52YXIgJHdlYWtNYXBTZXQgPSBjYWxsQm91bmQoJ1dlYWtNYXAucHJvdG90eXBlLnNldCcsIHRydWUpO1xudmFyICR3ZWFrTWFwSGFzID0gY2FsbEJvdW5kKCdXZWFrTWFwLnByb3RvdHlwZS5oYXMnLCB0cnVlKTtcbnZhciAkbWFwR2V0ID0gY2FsbEJvdW5kKCdNYXAucHJvdG90eXBlLmdldCcsIHRydWUpO1xudmFyICRtYXBTZXQgPSBjYWxsQm91bmQoJ01hcC5wcm90b3R5cGUuc2V0JywgdHJ1ZSk7XG52YXIgJG1hcEhhcyA9IGNhbGxCb3VuZCgnTWFwLnByb3RvdHlwZS5oYXMnLCB0cnVlKTtcblxuLypcbiAqIFRoaXMgZnVuY3Rpb24gdHJhdmVyc2VzIHRoZSBsaXN0IHJldHVybmluZyB0aGUgbm9kZSBjb3JyZXNwb25kaW5nIHRvIHRoZVxuICogZ2l2ZW4ga2V5LlxuICpcbiAqIFRoYXQgbm9kZSBpcyBhbHNvIG1vdmVkIHRvIHRoZSBoZWFkIG9mIHRoZSBsaXN0LCBzbyB0aGF0IGlmIGl0J3MgYWNjZXNzZWRcbiAqIGFnYWluIHdlIGRvbid0IG5lZWQgdG8gdHJhdmVyc2UgdGhlIHdob2xlIGxpc3QuIEJ5IGRvaW5nIHNvLCBhbGwgdGhlIHJlY2VudGx5XG4gKiB1c2VkIG5vZGVzIGNhbiBiZSBhY2Nlc3NlZCByZWxhdGl2ZWx5IHF1aWNrbHkuXG4gKi9cbnZhciBsaXN0R2V0Tm9kZSA9IGZ1bmN0aW9uIChsaXN0LCBrZXkpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjb25zaXN0ZW50LXJldHVyblxuXHRmb3IgKHZhciBwcmV2ID0gbGlzdCwgY3VycjsgKGN1cnIgPSBwcmV2Lm5leHQpICE9PSBudWxsOyBwcmV2ID0gY3Vycikge1xuXHRcdGlmIChjdXJyLmtleSA9PT0ga2V5KSB7XG5cdFx0XHRwcmV2Lm5leHQgPSBjdXJyLm5leHQ7XG5cdFx0XHRjdXJyLm5leHQgPSBsaXN0Lm5leHQ7XG5cdFx0XHRsaXN0Lm5leHQgPSBjdXJyOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG5cdFx0XHRyZXR1cm4gY3Vycjtcblx0XHR9XG5cdH1cbn07XG5cbnZhciBsaXN0R2V0ID0gZnVuY3Rpb24gKG9iamVjdHMsIGtleSkge1xuXHR2YXIgbm9kZSA9IGxpc3RHZXROb2RlKG9iamVjdHMsIGtleSk7XG5cdHJldHVybiBub2RlICYmIG5vZGUudmFsdWU7XG59O1xudmFyIGxpc3RTZXQgPSBmdW5jdGlvbiAob2JqZWN0cywga2V5LCB2YWx1ZSkge1xuXHR2YXIgbm9kZSA9IGxpc3RHZXROb2RlKG9iamVjdHMsIGtleSk7XG5cdGlmIChub2RlKSB7XG5cdFx0bm9kZS52YWx1ZSA9IHZhbHVlO1xuXHR9IGVsc2Uge1xuXHRcdC8vIFByZXBlbmQgdGhlIG5ldyBub2RlIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpc3Rcblx0XHRvYmplY3RzLm5leHQgPSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cblx0XHRcdGtleToga2V5LFxuXHRcdFx0bmV4dDogb2JqZWN0cy5uZXh0LFxuXHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0fTtcblx0fVxufTtcbnZhciBsaXN0SGFzID0gZnVuY3Rpb24gKG9iamVjdHMsIGtleSkge1xuXHRyZXR1cm4gISFsaXN0R2V0Tm9kZShvYmplY3RzLCBrZXkpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZXRTaWRlQ2hhbm5lbCgpIHtcblx0dmFyICR3bTtcblx0dmFyICRtO1xuXHR2YXIgJG87XG5cdHZhciBjaGFubmVsID0ge1xuXHRcdGFzc2VydDogZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0aWYgKCFjaGFubmVsLmhhcyhrZXkpKSB7XG5cdFx0XHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdTaWRlIGNoYW5uZWwgZG9lcyBub3QgY29udGFpbiAnICsgaW5zcGVjdChrZXkpKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGdldDogZnVuY3Rpb24gKGtleSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG5cdFx0XHRpZiAoJFdlYWtNYXAgJiYga2V5ICYmICh0eXBlb2Yga2V5ID09PSAnb2JqZWN0JyB8fCB0eXBlb2Yga2V5ID09PSAnZnVuY3Rpb24nKSkge1xuXHRcdFx0XHRpZiAoJHdtKSB7XG5cdFx0XHRcdFx0cmV0dXJuICR3ZWFrTWFwR2V0KCR3bSwga2V5KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICgkTWFwKSB7XG5cdFx0XHRcdGlmICgkbSkge1xuXHRcdFx0XHRcdHJldHVybiAkbWFwR2V0KCRtLCBrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoJG8pIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lbHktaWZcblx0XHRcdFx0XHRyZXR1cm4gbGlzdEdldCgkbywga2V5KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aGFzOiBmdW5jdGlvbiAoa2V5KSB7XG5cdFx0XHRpZiAoJFdlYWtNYXAgJiYga2V5ICYmICh0eXBlb2Yga2V5ID09PSAnb2JqZWN0JyB8fCB0eXBlb2Yga2V5ID09PSAnZnVuY3Rpb24nKSkge1xuXHRcdFx0XHRpZiAoJHdtKSB7XG5cdFx0XHRcdFx0cmV0dXJuICR3ZWFrTWFwSGFzKCR3bSwga2V5KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICgkTWFwKSB7XG5cdFx0XHRcdGlmICgkbSkge1xuXHRcdFx0XHRcdHJldHVybiAkbWFwSGFzKCRtLCBrZXkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoJG8pIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1sb25lbHktaWZcblx0XHRcdFx0XHRyZXR1cm4gbGlzdEhhcygkbywga2V5KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuXHRcdFx0aWYgKCRXZWFrTWFwICYmIGtleSAmJiAodHlwZW9mIGtleSA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIGtleSA9PT0gJ2Z1bmN0aW9uJykpIHtcblx0XHRcdFx0aWYgKCEkd20pIHtcblx0XHRcdFx0XHQkd20gPSBuZXcgJFdlYWtNYXAoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHQkd2Vha01hcFNldCgkd20sIGtleSwgdmFsdWUpO1xuXHRcdFx0fSBlbHNlIGlmICgkTWFwKSB7XG5cdFx0XHRcdGlmICghJG0pIHtcblx0XHRcdFx0XHQkbSA9IG5ldyAkTWFwKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0JG1hcFNldCgkbSwga2V5LCB2YWx1ZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoISRvKSB7XG5cdFx0XHRcdFx0Lypcblx0XHRcdFx0XHQgKiBJbml0aWFsaXplIHRoZSBsaW5rZWQgbGlzdCBhcyBhbiBlbXB0eSBub2RlLCBzbyB0aGF0IHdlIGRvbid0IGhhdmVcblx0XHRcdFx0XHQgKiB0byBzcGVjaWFsLWNhc2UgaGFuZGxpbmcgb2YgdGhlIGZpcnN0IG5vZGU6IHdlIGNhbiBhbHdheXMgcmVmZXIgdG9cblx0XHRcdFx0XHQgKiBpdCBhcyAocHJldmlvdXMgbm9kZSkubmV4dCwgaW5zdGVhZCBvZiBzb21ldGhpbmcgbGlrZSAobGlzdCkuaGVhZFxuXHRcdFx0XHRcdCAqL1xuXHRcdFx0XHRcdCRvID0geyBrZXk6IHt9LCBuZXh0OiBudWxsIH07XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdFNldCgkbywga2V5LCB2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gY2hhbm5lbDtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZmVhdGhlcnMudHNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvZmVhdGhlcnMudHMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19zZXRNb2R1bGVEZWZhdWx0KSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xufSk7XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XG59O1xudmFyIF9faW1wb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnRTdGFyKSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsICh7IHZhbHVlOiB0cnVlIH0pKTtcbmV4cG9ydHMuc29ja2V0aW8gPSBleHBvcnRzLnJlc3QgPSBleHBvcnRzLmF1dGhlbnRpY2F0aW9uID0gZXhwb3J0cy5lcnJvcnMgPSB2b2lkIDA7XG5jb25zdCBmZWF0aGVyc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgQGZlYXRoZXJzanMvZmVhdGhlcnMgKi8gXCIuLi9mZWF0aGVycy9saWIvaW5kZXguanNcIik7XG5jb25zdCBhdXRoZW50aWNhdGlvbl9jbGllbnRfMSA9IF9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBAZmVhdGhlcnNqcy9hdXRoZW50aWNhdGlvbi1jbGllbnQgKi8gXCIuLi9hdXRoZW50aWNhdGlvbi1jbGllbnQvbGliL2luZGV4LmpzXCIpKTtcbmV4cG9ydHMuYXV0aGVudGljYXRpb24gPSBhdXRoZW50aWNhdGlvbl9jbGllbnRfMS5kZWZhdWx0O1xuY29uc3QgcmVzdF9jbGllbnRfMSA9IF9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBAZmVhdGhlcnNqcy9yZXN0LWNsaWVudCAqLyBcIi4uL3Jlc3QtY2xpZW50L2xpYi9pbmRleC5qc1wiKSk7XG5leHBvcnRzLnJlc3QgPSByZXN0X2NsaWVudF8xLmRlZmF1bHQ7XG5jb25zdCBzb2NrZXRpb19jbGllbnRfMSA9IF9faW1wb3J0RGVmYXVsdChfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBAZmVhdGhlcnNqcy9zb2NrZXRpby1jbGllbnQgKi8gXCIuLi9zb2NrZXRpby1jbGllbnQvbGliL2luZGV4LmpzXCIpKTtcbmV4cG9ydHMuc29ja2V0aW8gPSBzb2NrZXRpb19jbGllbnRfMS5kZWZhdWx0O1xuX19leHBvcnRTdGFyKF9fd2VicGFja19yZXF1aXJlX18oLyohIEBmZWF0aGVyc2pzL2ZlYXRoZXJzICovIFwiLi4vZmVhdGhlcnMvbGliL2luZGV4LmpzXCIpLCBleHBvcnRzKTtcbmV4cG9ydHMuZXJyb3JzID0gX19pbXBvcnRTdGFyKF9fd2VicGFja19yZXF1aXJlX18oLyohIEBmZWF0aGVyc2pzL2Vycm9ycyAqLyBcIi4uL2Vycm9ycy9saWIvaW5kZXguanNcIikpO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBmZWF0aGVyc18xLmZlYXRoZXJzO1xuaWYgKHRydWUpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24oZmVhdGhlcnNfMS5mZWF0aGVycywgbW9kdWxlLmV4cG9ydHMpO1xufVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIj9jOTVhXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3V0aWwuaW5zcGVjdCAoaWdub3JlZCkgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKi8gKGZ1bmN0aW9uKCkge1xuXG4vKiAoaWdub3JlZCkgKi9cblxuLyoqKi8gfSlcblxuLyoqKioqKi8gXHR9KTtcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuLyoqKioqKi8gXHRcbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuLyoqKioqKi8gXHRcdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuLyoqKioqKi8gXHRcdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovIFx0XG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqLyBcdFxuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqLyBcdFxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIFx0XG4vKioqKioqLyBcdC8vIHN0YXJ0dXBcbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdC8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG4vKioqKioqLyBcdHZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2ZlYXRoZXJzLnRzXCIpO1xuLyoqKioqKi8gXHRcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19leHBvcnRzX187XG4vKioqKioqLyB9KSgpXG47XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZlYXRoZXJzLmpzLm1hcCIsImltcG9ydCBpbyBmcm9tICdzb2NrZXQuaW8tY2xpZW50J1xuaW1wb3J0IGZlYXRoZXJzIGZyb20gJ0BmZWF0aGVyc2pzL2NsaWVudCdcbmltcG9ydCB7IENvbmZpZyB9IGZyb20gJ0B4cmVuZ2luZS9jb21tb24vc3JjL2NvbmZpZydcblxuY29uc3QgZmVhdGhlcnNTdG9yZUtleTogc3RyaW5nID0gQ29uZmlnLnB1YmxpY1J1bnRpbWVDb25maWcuZmVhdGhlcnNTdG9yZUtleVxuLy8gVE9ETzogb2ZmbGluZU1vZGUgZmxhZyBub3Qgd29ya2luZyBjb3JyZWN0bHlcbmNvbnN0IGZlYXRoZXJzQ2xpZW50OiBhbnkgPSAhQ29uZmlnLnB1YmxpY1J1bnRpbWVDb25maWcub2ZmbGluZU1vZGUgPyBmZWF0aGVycygpIDogdW5kZWZpbmVkXG5cbmlmICghQ29uZmlnLnB1YmxpY1J1bnRpbWVDb25maWcub2ZmbGluZU1vZGUpIHtcbiAgY29uc3Qgc29ja2V0ID0gaW8oQ29uZmlnLnB1YmxpY1J1bnRpbWVDb25maWcuYXBpU2VydmVyLCB7XG4gICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlXG4gIH0pXG4gIGZlYXRoZXJzQ2xpZW50LmNvbmZpZ3VyZShmZWF0aGVycy5zb2NrZXRpbyhzb2NrZXQsIHsgdGltZW91dDogMTAwMDAgfSkpXG4gIGZlYXRoZXJzQ2xpZW50LmNvbmZpZ3VyZShcbiAgICBmZWF0aGVycy5hdXRoZW50aWNhdGlvbih7XG4gICAgICBzdG9yYWdlS2V5OiBmZWF0aGVyc1N0b3JlS2V5XG4gICAgfSlcbiAgKVxufVxuXG5leHBvcnQgY29uc3QgY2xpZW50ID0gZmVhdGhlcnNDbGllbnRcbiIsImltcG9ydCB7IGZvcm1hdE11aUVycm9yTWVzc2FnZSBhcyBfZm9ybWF0TXVpRXJyb3JNZXNzYWdlIH0gZnJvbSBcIkBtYXRlcmlhbC11aS91dGlsc1wiO1xuLy8gSXQgc2hvdWxkIHRvIGJlIG5vdGVkIHRoYXQgdGhpcyBmdW5jdGlvbiBpc24ndCBlcXVpdmFsZW50IHRvIGB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZWAuXG4vL1xuLy8gQSBzdHJpY3QgY2FwaXRhbGl6YXRpb24gc2hvdWxkIHVwcGVyY2FzZSB0aGUgZmlyc3QgbGV0dGVyIG9mIGVhY2ggd29yZCBhIHRoZSBzZW50ZW5jZS5cbi8vIFdlIG9ubHkgaGFuZGxlIHRoZSBmaXJzdCB3b3JkLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IFwiTWF0ZXJpYWwtVUk6IGNhcGl0YWxpemUoc3RyaW5nKSBleHBlY3RzIGEgc3RyaW5nIGFyZ3VtZW50LlwiIDogX2Zvcm1hdE11aUVycm9yTWVzc2FnZSg3KSk7XG4gIH1cblxuICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xufSJdLCJuYW1lcyI6WyJhcnJheUxpa2VUb0FycmF5IiwiYXJyYXlXaXRob3V0SG9sZXMiLCJpdGVyYWJsZVRvQXJyYXkiLCJ1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIm5vbkl0ZXJhYmxlU3ByZWFkIiwiZXNjYXBlIiwicmVmUmVnRXhwIiwicGx1Z2lucyIsImlzSW5Ccm93c2VyIiwic2VwYXJhdG9yUmVnRXhwIiwiY2FjaGUiLCJoeXBoZW5hdGUiLCJnbG9iYWwiLCJuZXN0ZWQiLCJ2ZW5kb3JQcmVmaXhlciIsInByb3BzU29ydCIsIlRoZW1lQ29udGV4dCIsIm11bHRpS2V5U3RvcmUiLCJub29wVGhlbWUiLCJ3aXRoU3R5bGVzIiwiaG9pc3ROb25SZWFjdFN0YXRpY3MiLCJkZWZhdWx0VGhlbWUiLCJ0aGlzIiwidW5kZWZpbmVkIiwiX2Zvcm1hdE11aUVycm9yTWVzc2FnZSJdLCJtYXBwaW5ncyI6Im1PQUNlLFlBQTRCLEVBQUssQ0FDOUMsR0FBSSxNQUFNLFFBQVEsR0FBTSxNQUFPQSxJQUFpQixHQ0ZuQyxZQUEwQixFQUFNLENBQzdDLEdBQUksTUFBTyxTQUFXLGFBQWUsRUFBSyxPQUFPLFdBQWEsTUFBUSxFQUFLLGVBQWlCLEtBQU0sTUFBTyxPQUFNLEtBQUssR0NEdkcsYUFBOEIsQ0FDM0MsS0FBTSxJQUFJLFdBQVU7QUFBQSxxRkNHUCxZQUE0QixFQUFLLENBQzlDLE1BQU9DLElBQWtCLElBQVFDLEdBQWdCLElBQVFDLEdBQTJCLElBQVFDLEtDTDlGLEdBQUksSUFBWSxNQUFPLFNBQVcsWUFBYyxPQUFPLE9BQ3hDLEdBQVksT0FBTyxJQUFJLGNBQWdCLG1CQ1VsRCxHQUFnQixDQUFDLFVBQVcsV0FBWSxRQUFTLFVBQVcsZUFBZ0IsV0FBWSxXQUFZLFlBT3pGLGFBQW1DLENBQ2hELEdBQUksR0FBVSxVQUFVLE9BQVMsR0FBSyxVQUFVLEtBQU8sT0FBWSxVQUFVLEdBQUssR0FDOUUsRUFBd0IsRUFBUSxjQUNoQyxFQUFnQixJQUEwQixPQUFTLEdBQVEsRUFDM0QsRUFBd0IsRUFBUSxpQkFDaEMsRUFBbUIsSUFBMEIsT0FBUyxNQUFRLEVBQzlELEVBQWdCLEVBQVEsS0FDeEIsRUFBTyxJQUFrQixPQUFTLEdBQUssRUFDdkMsRUFBYSxJQUFTLEdBQUssR0FBSyxHQUFHLE9BQU8sRUFBTSxLQUNoRCxFQUFjLEVBRWQsRUFBbUIsVUFBNEIsQ0FDakQsVUFBZSxFQVFSLEdBR1QsTUFBTyxVQUFVLEVBQU0sRUFBWSxDQUNqQyxHQUFJLEdBQU8sRUFBVyxRQUFRLEtBRTlCLEdBQUksR0FBUSxFQUFLLFFBQVEsU0FBVyxHQUFLLENBQUMsRUFBVyxRQUFRLE1BQVEsQ0FBQyxFQUFlLENBRW5G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
