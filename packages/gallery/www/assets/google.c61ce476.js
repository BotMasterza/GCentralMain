import{u as d,r as l,R as r}from"./vendor.2a83d1c9.js";import{A as u}from"./AuthService.10b9bc61.js";import{H as b,b as S,I as C,a as j}from"./_app.41131035.js";import{C as p}from"./Container.12944623.js";import"./capitalize.75c82fb0.js";import"./index.b1c16674.js";const k=E=>{const{t:s}=d(),a=S(),m={error:"",token:""},[t,h]=l.exports.useState(m),e=new URLSearchParams(C().search);return l.exports.useEffect(()=>{const n=e.get("error"),c=e.get("token"),f=e.get("type"),g=e.get("path"),i=e.get("instanceId");if(!n)if(f==="connection"){const o=j().user;a(u.refreshConnections(o.id.value))}else{let o=`${g}`;i!=null&&(o+=`?instanceId=${i}`),a(u.loginUserByJwt(c,o||"/","/"))}h({...t,error:n,token:c})},[]),t.error&&t.error!==""?r.createElement(p,null,s("user:oauth.authFailed",{service:"Google"}),r.createElement("br",null),t.error):r.createElement(p,null,s("user:oauth.authenticating"))},v=b(k),y=()=>r.createElement(v,null);export{y as GoogleHomePage,y as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ29vZ2xlLmM2MWNlNDc2LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9jbGllbnQtY29yZS9zcmMvdXNlci9jb21wb25lbnRzL09hdXRoL0dvb2dsZUNhbGxiYWNrLnRzeCIsIi4uLy4uL3NyYy9wYWdlcy9hdXRoL29hdXRoL2dvb2dsZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlTG9jYXRpb24sIHdpdGhSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJ1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEF1dGhTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vcmVkdWNlcnMvYXV0aC9BdXRoU2VydmljZSdcbmltcG9ydCBDb250YWluZXIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvQ29udGFpbmVyJ1xuaW1wb3J0IHsgdXNlQXV0aFN0YXRlIH0gZnJvbSAnLi4vLi4vcmVkdWNlcnMvYXV0aC9BdXRoU3RhdGUnXG5pbXBvcnQgeyBiaW5kQWN0aW9uQ3JlYXRvcnMsIERpc3BhdGNoIH0gZnJvbSAncmVkdXgnXG5pbXBvcnQgeyBjb25uZWN0LCB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0J1xuXG5jb25zdCBHb29nbGVDYWxsYmFja0NvbXBvbmVudCA9IChwcm9wcyk6IGFueSA9PiB7XG4gIGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oKVxuICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKClcbiAgY29uc3QgaW5pdGlhbFN0YXRlID0geyBlcnJvcjogJycsIHRva2VuOiAnJyB9XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGUoaW5pdGlhbFN0YXRlKVxuICBjb25zdCBzZWFyY2ggPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHVzZUxvY2F0aW9uKCkuc2VhcmNoKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZXJyb3IgPSBzZWFyY2guZ2V0KCdlcnJvcicpIGFzIHN0cmluZ1xuICAgIGNvbnN0IHRva2VuID0gc2VhcmNoLmdldCgndG9rZW4nKSBhcyBzdHJpbmdcbiAgICBjb25zdCB0eXBlID0gc2VhcmNoLmdldCgndHlwZScpIGFzIHN0cmluZ1xuICAgIGNvbnN0IHBhdGggPSBzZWFyY2guZ2V0KCdwYXRoJykgYXMgc3RyaW5nXG4gICAgY29uc3QgaW5zdGFuY2VJZCA9IHNlYXJjaC5nZXQoJ2luc3RhbmNlSWQnKSBhcyBzdHJpbmdcblxuICAgIGlmICghZXJyb3IpIHtcbiAgICAgIGlmICh0eXBlID09PSAnY29ubmVjdGlvbicpIHtcbiAgICAgICAgY29uc3QgdXNlciA9IHVzZUF1dGhTdGF0ZSgpLnVzZXJcbiAgICAgICAgZGlzcGF0Y2goQXV0aFNlcnZpY2UucmVmcmVzaENvbm5lY3Rpb25zKHVzZXIuaWQudmFsdWUpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHJlZGlyZWN0U3VjY2VzcyA9IGAke3BhdGh9YFxuICAgICAgICBpZiAoaW5zdGFuY2VJZCAhPSBudWxsKSByZWRpcmVjdFN1Y2Nlc3MgKz0gYD9pbnN0YW5jZUlkPSR7aW5zdGFuY2VJZH1gXG4gICAgICAgIGRpc3BhdGNoKEF1dGhTZXJ2aWNlLmxvZ2luVXNlckJ5Snd0KHRva2VuLCByZWRpcmVjdFN1Y2Nlc3MgfHwgJy8nLCAnLycpKVxuICAgICAgfVxuICAgIH1cblxuICAgIHNldFN0YXRlKHsgLi4uc3RhdGUsIGVycm9yLCB0b2tlbiB9KVxuICB9LCBbXSlcblxuICByZXR1cm4gc3RhdGUuZXJyb3IgJiYgc3RhdGUuZXJyb3IgIT09ICcnID8gKFxuICAgIDxDb250YWluZXI+XG4gICAgICB7dCgndXNlcjpvYXV0aC5hdXRoRmFpbGVkJywgeyBzZXJ2aWNlOiAnR29vZ2xlJyB9KX1cbiAgICAgIDxiciAvPlxuICAgICAge3N0YXRlLmVycm9yfVxuICAgIDwvQ29udGFpbmVyPlxuICApIDogKFxuICAgIDxDb250YWluZXI+e3QoJ3VzZXI6b2F1dGguYXV0aGVudGljYXRpbmcnKX08L0NvbnRhaW5lcj5cbiAgKVxufVxuXG5leHBvcnQgY29uc3QgR29vZ2xlQ2FsbGJhY2sgPSB3aXRoUm91dGVyKEdvb2dsZUNhbGxiYWNrQ29tcG9uZW50KSBhcyBhbnlcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgR29vZ2xlQ2FsbGJhY2sgfSBmcm9tICdAeHJlbmdpbmUvY2xpZW50LWNvcmUvc3JjL3VzZXIvY29tcG9uZW50cy9PYXV0aC9Hb29nbGVDYWxsYmFjaydcblxuZXhwb3J0IGNvbnN0IEdvb2dsZUhvbWVQYWdlID0gKCkgPT4gPEdvb2dsZUNhbGxiYWNrIC8+XG5cbmV4cG9ydCBkZWZhdWx0IEdvb2dsZUhvbWVQYWdlXG4iXSwibmFtZXMiOlsidXNlU3RhdGUiXSwibWFwcGluZ3MiOiIwUUFTQSxLQUFNLEdBQTBCLEFBQUMsR0FBZSxNQUN4QyxDQUFFLEtBQU0sSUFDUixFQUFXLElBQ1gsRUFBZSxDQUFFLE1BQU8sR0FBSSxNQUFPLElBQ25DLENBQUMsRUFBTyxHQUFZQSxtQkFBUyxHQUM3QixFQUFTLEdBQUksaUJBQWdCLElBQWMsbUNBRXZDLElBQU0sTUFDUixHQUFRLEVBQU8sSUFBSSxTQUNuQixFQUFRLEVBQU8sSUFBSSxTQUNuQixFQUFPLEVBQU8sSUFBSSxRQUNsQixFQUFPLEVBQU8sSUFBSSxRQUNsQixFQUFhLEVBQU8sSUFBSSxpQkFFMUIsQ0FBQyxLQUNDLElBQVMsYUFBYyxNQUNuQixHQUFPLElBQWUsT0FDbkIsRUFBWSxtQkFBbUIsRUFBSyxHQUFHLFlBQzNDLElBQ0QsR0FBa0IsR0FBRyxJQUNyQixHQUFjLFVBQXlCLGVBQWUsT0FDakQsRUFBWSxlQUFlLEVBQU8sR0FBbUIsSUFBSyxRQUk5RCxJQUFLLEVBQU8sUUFBTyxXQUMzQixJQUVJLEVBQU0sT0FBUyxFQUFNLFFBQVUsbUJBQ25DLEVBQUQsS0FDRyxFQUFFLHdCQUF5QixDQUFFLFFBQVMsMkJBQ3RDLEtBQUQsTUFDQyxFQUFNLHVCQUdSLEVBQUQsS0FBWSxFQUFFLCtCQUlMLEVBQWlCLEVBQVcsR0M1QzVCLEVBQWlCLG9CQUFPLEVBQUQifQ==
